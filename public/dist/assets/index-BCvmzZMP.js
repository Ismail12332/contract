function a0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function c0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var hf={exports:{}},Co={},ff={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qs=Symbol.for("react.element"),u0=Symbol.for("react.portal"),d0=Symbol.for("react.fragment"),h0=Symbol.for("react.strict_mode"),f0=Symbol.for("react.profiler"),p0=Symbol.for("react.provider"),m0=Symbol.for("react.context"),g0=Symbol.for("react.forward_ref"),y0=Symbol.for("react.suspense"),v0=Symbol.for("react.memo"),w0=Symbol.for("react.lazy"),Vu=Symbol.iterator;function x0(t){return t===null||typeof t!="object"?null:(t=Vu&&t[Vu]||t["@@iterator"],typeof t=="function"?t:null)}var pf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mf=Object.assign,gf={};function Fr(t,e,n){this.props=t,this.context=e,this.refs=gf,this.updater=n||pf}Fr.prototype.isReactComponent={};Fr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yf(){}yf.prototype=Fr.prototype;function jc(t,e,n){this.props=t,this.context=e,this.refs=gf,this.updater=n||pf}var Nc=jc.prototype=new yf;Nc.constructor=jc;mf(Nc,Fr.prototype);Nc.isPureReactComponent=!0;var qu=Array.isArray,vf=Object.prototype.hasOwnProperty,Ec={current:null},wf={key:!0,ref:!0,__self:!0,__source:!0};function xf(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)vf.call(e,r)&&!wf.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Qs,type:t,key:i,ref:o,props:s,_owner:Ec.current}}function _0(t,e){return{$$typeof:Qs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qs}function k0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Yu=/\/+/g;function la(t,e){return typeof t=="object"&&t!==null&&t.key!=null?k0(""+t.key):e.toString(36)}function Ai(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qs:case u0:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+la(o,0):r,qu(s)?(n="",t!=null&&(n=t.replace(Yu,"$&/")+"/"),Ai(s,e,n,"",function(d){return d})):s!=null&&(Cc(s)&&(s=_0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Yu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",qu(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+la(i,a);o+=Ai(i,e,n,l,s)}else if(l=x0(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+la(i,a++),o+=Ai(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function li(t,e,n){if(t==null)return t;var r=[],s=0;return Ai(t,r,"","",function(i){return e.call(n,i,s++)}),r}function b0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Me={current:null},Li={transition:null},S0={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:Li,ReactCurrentOwner:Ec};function _f(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:li,forEach:function(t,e,n){li(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return li(t,function(){e++}),e},toArray:function(t){return li(t,function(e){return e})||[]},only:function(t){if(!Cc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=Fr;z.Fragment=d0;z.Profiler=f0;z.PureComponent=jc;z.StrictMode=h0;z.Suspense=y0;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S0;z.act=_f;z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mf({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ec.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)vf.call(e,l)&&!wf.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Qs,type:t.type,key:s,ref:i,props:r,_owner:o}};z.createContext=function(t){return t={$$typeof:m0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:p0,_context:t},t.Consumer=t};z.createElement=xf;z.createFactory=function(t){var e=xf.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:g0,render:t}};z.isValidElement=Cc;z.lazy=function(t){return{$$typeof:w0,_payload:{_status:-1,_result:t},_init:b0}};z.memo=function(t,e){return{$$typeof:v0,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=Li.transition;Li.transition={};try{t()}finally{Li.transition=e}};z.unstable_act=_f;z.useCallback=function(t,e){return Me.current.useCallback(t,e)};z.useContext=function(t){return Me.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return Me.current.useDeferredValue(t)};z.useEffect=function(t,e){return Me.current.useEffect(t,e)};z.useId=function(){return Me.current.useId()};z.useImperativeHandle=function(t,e,n){return Me.current.useImperativeHandle(t,e,n)};z.useInsertionEffect=function(t,e){return Me.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return Me.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return Me.current.useMemo(t,e)};z.useReducer=function(t,e,n){return Me.current.useReducer(t,e,n)};z.useRef=function(t){return Me.current.useRef(t)};z.useState=function(t){return Me.current.useState(t)};z.useSyncExternalStore=function(t,e,n){return Me.current.useSyncExternalStore(t,e,n)};z.useTransition=function(){return Me.current.useTransition()};z.version="18.3.1";ff.exports=z;var x=ff.exports;const Vt=l0(x),sl=a0({__proto__:null,default:Vt},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0=x,N0=Symbol.for("react.element"),E0=Symbol.for("react.fragment"),C0=Object.prototype.hasOwnProperty,T0=j0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O0={key:!0,ref:!0,__self:!0,__source:!0};function kf(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)C0.call(e,r)&&!O0.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:N0,type:t,key:i,ref:o,props:s,_owner:T0.current}}Co.Fragment=E0;Co.jsx=kf;Co.jsxs=kf;hf.exports=Co;var c=hf.exports,bf={exports:{}},tt={},Sf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,R){var $=N.length;N.push(R);e:for(;0<$;){var W=$-1>>>1,H=N[W];if(0<s(H,R))N[W]=R,N[$]=H,$=W;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var R=N[0],$=N.pop();if($!==R){N[0]=$;e:for(var W=0,H=N.length,oe=H>>>1;W<oe;){var je=2*(W+1)-1,Xt=N[je],E=je+1,U=N[E];if(0>s(Xt,$))E<H&&0>s(U,Xt)?(N[W]=U,N[E]=$,W=E):(N[W]=Xt,N[je]=$,W=je);else if(E<H&&0>s(U,$))N[W]=U,N[E]=$,W=E;else break e}}return R}function s(N,R){var $=N.sortIndex-R.sortIndex;return $!==0?$:N.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],u=1,h=null,f=3,g=!1,v=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var R=n(d);R!==null;){if(R.callback===null)r(d);else if(R.startTime<=N)r(d),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(d)}}function w(N){if(_=!1,y(N),!v)if(n(l)!==null)v=!0,Ct(j);else{var R=n(d);R!==null&&Ke(w,R.startTime-N)}}function j(N,R){v=!1,_&&(_=!1,m(T),T=-1),g=!0;var $=f;try{for(y(R),h=n(l);h!==null&&(!(h.expirationTime>R)||N&&!J());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var H=W(h.expirationTime<=R);R=t.unstable_now(),typeof H=="function"?h.callback=H:h===n(l)&&r(l),y(R)}else r(l);h=n(l)}if(h!==null)var oe=!0;else{var je=n(d);je!==null&&Ke(w,je.startTime-R),oe=!1}return oe}finally{h=null,f=$,g=!1}}var b=!1,C=null,T=-1,D=5,A=-1;function J(){return!(t.unstable_now()-A<D)}function me(){if(C!==null){var N=t.unstable_now();A=N;var R=!0;try{R=C(!0,N)}finally{R?Ae():(b=!1,C=null)}}else b=!1}var Ae;if(typeof p=="function")Ae=function(){p(me)};else if(typeof MessageChannel<"u"){var Et=new MessageChannel,ft=Et.port2;Et.port1.onmessage=me,Ae=function(){ft.postMessage(null)}}else Ae=function(){S(me,0)};function Ct(N){C=N,b||(b=!0,Ae())}function Ke(N,R){T=S(function(){N(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,Ct(j))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var $=f;f=R;try{return N()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=f;f=N;try{return R()}finally{f=$}},t.unstable_scheduleCallback=function(N,R,$){var W=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?W+$:W):$=W,N){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=$+H,N={id:u++,callback:R,priorityLevel:N,startTime:$,expirationTime:H,sortIndex:-1},$>W?(N.sortIndex=$,e(d,N),n(l)===null&&N===n(d)&&(_?(m(T),T=-1):_=!0,Ke(w,$-W))):(N.sortIndex=H,e(l,N),v||g||(v=!0,Ct(j))),N},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(N){var R=f;return function(){var $=f;f=R;try{return N.apply(this,arguments)}finally{f=$}}}})(jf);Sf.exports=jf;var P0=Sf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0=x,et=P0;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nf=new Set,Os={};function Qn(t,e){Or(t,e),Or(t+"Capture",e)}function Or(t,e){for(Os[t]=e,t=0;t<e.length;t++)Nf.add(e[t])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),il=Object.prototype.hasOwnProperty,R0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ku={},Ju={};function A0(t){return il.call(Ju,t)?!0:il.call(Ku,t)?!1:R0.test(t)?Ju[t]=!0:(Ku[t]=!0,!1)}function L0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $0(t,e,n,r){if(e===null||typeof e>"u"||L0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ue(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Te[t]=new Ue(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Te[e]=new Ue(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Te[t]=new Ue(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Te[t]=new Ue(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Te[t]=new Ue(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Te[t]=new Ue(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Te[t]=new Ue(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Te[t]=new Ue(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Te[t]=new Ue(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tc=/[\-:]([a-z])/g;function Oc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tc,Oc);Te[e]=new Ue(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tc,Oc);Te[e]=new Ue(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tc,Oc);Te[e]=new Ue(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Te[t]=new Ue(t,1,!1,t.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Te[t]=new Ue(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pc(t,e,n,r){var s=Te.hasOwnProperty(e)?Te[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($0(e,n,s,r)&&(n=null),r||s===null?A0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gt=I0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ci=Symbol.for("react.element"),dr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),Ic=Symbol.for("react.strict_mode"),ol=Symbol.for("react.profiler"),Ef=Symbol.for("react.provider"),Cf=Symbol.for("react.context"),Rc=Symbol.for("react.forward_ref"),al=Symbol.for("react.suspense"),ll=Symbol.for("react.suspense_list"),Ac=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),Tf=Symbol.for("react.offscreen"),Gu=Symbol.iterator;function Gr(t){return t===null||typeof t!="object"?null:(t=Gu&&t[Gu]||t["@@iterator"],typeof t=="function"?t:null)}var de=Object.assign,ca;function ds(t){if(ca===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ca=e&&e[1]||""}return`
`+ca+t}var ua=!1;function da(t,e){if(!t||ua)return"";ua=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ua=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ds(t):""}function D0(t){switch(t.tag){case 5:return ds(t.type);case 16:return ds("Lazy");case 13:return ds("Suspense");case 19:return ds("SuspenseList");case 0:case 2:case 15:return t=da(t.type,!1),t;case 11:return t=da(t.type.render,!1),t;case 1:return t=da(t.type,!0),t;default:return""}}function cl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hr:return"Fragment";case dr:return"Portal";case ol:return"Profiler";case Ic:return"StrictMode";case al:return"Suspense";case ll:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Cf:return(t.displayName||"Context")+".Consumer";case Ef:return(t._context.displayName||"Context")+".Provider";case Rc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ac:return e=t.displayName||null,e!==null?e:cl(t.type)||"Memo";case nn:e=t._payload,t=t._init;try{return cl(t(e))}catch{}}return null}function M0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cl(e);case 8:return e===Ic?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Of(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function U0(t){var e=Of(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ui(t){t._valueTracker||(t._valueTracker=U0(t))}function Pf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Of(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ul(t,e){var n=e.checked;return de({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Xu(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=bn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function If(t,e){e=e.checked,e!=null&&Pc(t,"checked",e,!1)}function dl(t,e){If(t,e);var n=bn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hl(t,e.type,n):e.hasOwnProperty("defaultValue")&&hl(t,e.type,bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hl(t,e,n){(e!=="number"||Zi(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hs=Array.isArray;function br(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function fl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return de({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(hs(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bn(n)}}function Rf(t,e){var n=bn(e.value),r=bn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ed(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Af(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Af(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var di,Lf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(di=di||document.createElement("div"),di.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=di.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ps(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F0=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(t){F0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ys[e]=ys[t]})});function $f(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ys.hasOwnProperty(t)&&ys[t]?(""+e).trim():e+"px"}function Df(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$f(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var z0=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ml(t,e){if(e){if(z0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function gl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yl=null;function Lc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vl=null,Sr=null,jr=null;function td(t){if(t=ni(t)){if(typeof vl!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Ro(e),vl(t.stateNode,t.type,e))}}function Mf(t){Sr?jr?jr.push(t):jr=[t]:Sr=t}function Uf(){if(Sr){var t=Sr,e=jr;if(jr=Sr=null,td(t),e)for(t=0;t<e.length;t++)td(e[t])}}function Ff(t,e){return t(e)}function zf(){}var ha=!1;function Bf(t,e,n){if(ha)return t(e,n);ha=!0;try{return Ff(t,e,n)}finally{ha=!1,(Sr!==null||jr!==null)&&(zf(),Uf())}}function Is(t,e){var n=t.stateNode;if(n===null)return null;var r=Ro(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var wl=!1;if(qt)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){wl=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{wl=!1}function B0(t,e,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var vs=!1,Qi=null,eo=!1,xl=null,W0={onError:function(t){vs=!0,Qi=t}};function H0(t,e,n,r,s,i,o,a,l){vs=!1,Qi=null,B0.apply(W0,arguments)}function V0(t,e,n,r,s,i,o,a,l){if(H0.apply(this,arguments),vs){if(vs){var d=Qi;vs=!1,Qi=null}else throw Error(I(198));eo||(eo=!0,xl=d)}}function er(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Wf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nd(t){if(er(t)!==t)throw Error(I(188))}function q0(t){var e=t.alternate;if(!e){if(e=er(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return nd(s),t;if(i===r)return nd(s),e;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function Hf(t){return t=q0(t),t!==null?Vf(t):null}function Vf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Vf(t);if(e!==null)return e;t=t.sibling}return null}var qf=et.unstable_scheduleCallback,rd=et.unstable_cancelCallback,Y0=et.unstable_shouldYield,K0=et.unstable_requestPaint,fe=et.unstable_now,J0=et.unstable_getCurrentPriorityLevel,$c=et.unstable_ImmediatePriority,Yf=et.unstable_UserBlockingPriority,to=et.unstable_NormalPriority,G0=et.unstable_LowPriority,Kf=et.unstable_IdlePriority,To=null,At=null;function X0(t){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(To,t,void 0,(t.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:ey,Z0=Math.log,Q0=Math.LN2;function ey(t){return t>>>=0,t===0?32:31-(Z0(t)/Q0|0)|0}var hi=64,fi=4194304;function fs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function no(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=fs(a):(i&=o,i!==0&&(r=fs(i)))}else o=n&~s,o!==0?r=fs(o):i!==0&&(r=fs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bt(e),s=1<<n,r|=t[n],e&=~s;return r}function ty(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ny(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-bt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=ty(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function _l(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jf(){var t=hi;return hi<<=1,!(hi&4194240)&&(hi=64),t}function fa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ei(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bt(e),t[e]=n}function ry(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-bt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Dc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var X=0;function Gf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xf,Mc,Zf,Qf,ep,kl=!1,pi=[],hn=null,fn=null,pn=null,Rs=new Map,As=new Map,on=[],sy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sd(t,e){switch(t){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":Rs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(e.pointerId)}}function Zr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ni(e),e!==null&&Mc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function iy(t,e,n,r,s){switch(e){case"focusin":return hn=Zr(hn,t,e,n,r,s),!0;case"dragenter":return fn=Zr(fn,t,e,n,r,s),!0;case"mouseover":return pn=Zr(pn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Rs.set(i,Zr(Rs.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,As.set(i,Zr(As.get(i)||null,t,e,n,r,s)),!0}return!1}function tp(t){var e=Fn(t.target);if(e!==null){var n=er(e);if(n!==null){if(e=n.tag,e===13){if(e=Wf(n),e!==null){t.blockedOn=e,ep(t.priority,function(){Zf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $i(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yl=r,n.target.dispatchEvent(r),yl=null}else return e=ni(n),e!==null&&Mc(e),t.blockedOn=n,!1;e.shift()}return!0}function id(t,e,n){$i(t)&&n.delete(e)}function oy(){kl=!1,hn!==null&&$i(hn)&&(hn=null),fn!==null&&$i(fn)&&(fn=null),pn!==null&&$i(pn)&&(pn=null),Rs.forEach(id),As.forEach(id)}function Qr(t,e){t.blockedOn===e&&(t.blockedOn=null,kl||(kl=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,oy)))}function Ls(t){function e(s){return Qr(s,t)}if(0<pi.length){Qr(pi[0],t);for(var n=1;n<pi.length;n++){var r=pi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hn!==null&&Qr(hn,t),fn!==null&&Qr(fn,t),pn!==null&&Qr(pn,t),Rs.forEach(e),As.forEach(e),n=0;n<on.length;n++)r=on[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<on.length&&(n=on[0],n.blockedOn===null);)tp(n),n.blockedOn===null&&on.shift()}var Nr=Gt.ReactCurrentBatchConfig,ro=!0;function ay(t,e,n,r){var s=X,i=Nr.transition;Nr.transition=null;try{X=1,Uc(t,e,n,r)}finally{X=s,Nr.transition=i}}function ly(t,e,n,r){var s=X,i=Nr.transition;Nr.transition=null;try{X=4,Uc(t,e,n,r)}finally{X=s,Nr.transition=i}}function Uc(t,e,n,r){if(ro){var s=bl(t,e,n,r);if(s===null)ba(t,e,r,so,n),sd(t,r);else if(iy(s,t,e,n,r))r.stopPropagation();else if(sd(t,r),e&4&&-1<sy.indexOf(t)){for(;s!==null;){var i=ni(s);if(i!==null&&Xf(i),i=bl(t,e,n,r),i===null&&ba(t,e,r,so,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ba(t,e,r,null,n)}}var so=null;function bl(t,e,n,r){if(so=null,t=Lc(r),t=Fn(t),t!==null)if(e=er(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Wf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return so=t,null}function np(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J0()){case $c:return 1;case Yf:return 4;case to:case G0:return 16;case Kf:return 536870912;default:return 16}default:return 16}}var cn=null,Fc=null,Di=null;function rp(){if(Di)return Di;var t,e=Fc,n=e.length,r,s="value"in cn?cn.value:cn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Di=s.slice(t,1<r?1-r:void 0)}function Mi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mi(){return!0}function od(){return!1}function nt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mi:od,this.isPropagationStopped=od,this}return de(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),e}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zc=nt(zr),ti=de({},zr,{view:0,detail:0}),cy=nt(ti),pa,ma,es,Oo=de({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==es&&(es&&t.type==="mousemove"?(pa=t.screenX-es.screenX,ma=t.screenY-es.screenY):ma=pa=0,es=t),pa)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),ad=nt(Oo),uy=de({},Oo,{dataTransfer:0}),dy=nt(uy),hy=de({},ti,{relatedTarget:0}),ga=nt(hy),fy=de({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),py=nt(fy),my=de({},zr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gy=nt(my),yy=de({},zr,{data:0}),ld=nt(yy),vy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _y(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xy[t])?!!e[t]:!1}function Bc(){return _y}var ky=de({},ti,{key:function(t){if(t.key){var e=vy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(t){return t.type==="keypress"?Mi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),by=nt(ky),Sy=de({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cd=nt(Sy),jy=de({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),Ny=nt(jy),Ey=de({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cy=nt(Ey),Ty=de({},Oo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Oy=nt(Ty),Py=[9,13,27,32],Wc=qt&&"CompositionEvent"in window,ws=null;qt&&"documentMode"in document&&(ws=document.documentMode);var Iy=qt&&"TextEvent"in window&&!ws,sp=qt&&(!Wc||ws&&8<ws&&11>=ws),ud=" ",dd=!1;function ip(t,e){switch(t){case"keyup":return Py.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function op(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fr=!1;function Ry(t,e){switch(t){case"compositionend":return op(e);case"keypress":return e.which!==32?null:(dd=!0,ud);case"textInput":return t=e.data,t===ud&&dd?null:t;default:return null}}function Ay(t,e){if(fr)return t==="compositionend"||!Wc&&ip(t,e)?(t=rp(),Di=Fc=cn=null,fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sp&&e.locale!=="ko"?null:e.data;default:return null}}var Ly={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ly[t.type]:e==="textarea"}function ap(t,e,n,r){Mf(r),e=io(e,"onChange"),0<e.length&&(n=new zc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xs=null,$s=null;function $y(t){vp(t,0)}function Po(t){var e=gr(t);if(Pf(e))return t}function Dy(t,e){if(t==="change")return e}var lp=!1;if(qt){var ya;if(qt){var va="oninput"in document;if(!va){var fd=document.createElement("div");fd.setAttribute("oninput","return;"),va=typeof fd.oninput=="function"}ya=va}else ya=!1;lp=ya&&(!document.documentMode||9<document.documentMode)}function pd(){xs&&(xs.detachEvent("onpropertychange",cp),$s=xs=null)}function cp(t){if(t.propertyName==="value"&&Po($s)){var e=[];ap(e,$s,t,Lc(t)),Bf($y,e)}}function My(t,e,n){t==="focusin"?(pd(),xs=e,$s=n,xs.attachEvent("onpropertychange",cp)):t==="focusout"&&pd()}function Uy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Po($s)}function Fy(t,e){if(t==="click")return Po(e)}function zy(t,e){if(t==="input"||t==="change")return Po(e)}function By(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jt=typeof Object.is=="function"?Object.is:By;function Ds(t,e){if(jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!il.call(e,s)||!jt(t[s],e[s]))return!1}return!0}function md(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gd(t,e){var n=md(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=md(n)}}function up(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?up(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dp(){for(var t=window,e=Zi();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zi(t.document)}return e}function Hc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Wy(t){var e=dp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&up(n.ownerDocument.documentElement,n)){if(r!==null&&Hc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=gd(n,i);var o=gd(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Hy=qt&&"documentMode"in document&&11>=document.documentMode,pr=null,Sl=null,_s=null,jl=!1;function yd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jl||pr==null||pr!==Zi(r)||(r=pr,"selectionStart"in r&&Hc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_s&&Ds(_s,r)||(_s=r,r=io(Sl,"onSelect"),0<r.length&&(e=new zc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pr)))}function gi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mr={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionend:gi("Transition","TransitionEnd")},wa={},hp={};qt&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Io(t){if(wa[t])return wa[t];if(!mr[t])return t;var e=mr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hp)return wa[t]=e[n];return t}var fp=Io("animationend"),pp=Io("animationiteration"),mp=Io("animationstart"),gp=Io("transitionend"),yp=new Map,vd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(t,e){yp.set(t,e),Qn(e,[t])}for(var xa=0;xa<vd.length;xa++){var _a=vd[xa],Vy=_a.toLowerCase(),qy=_a[0].toUpperCase()+_a.slice(1);Nn(Vy,"on"+qy)}Nn(fp,"onAnimationEnd");Nn(pp,"onAnimationIteration");Nn(mp,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(gp,"onTransitionEnd");Or("onMouseEnter",["mouseout","mouseover"]);Or("onMouseLeave",["mouseout","mouseover"]);Or("onPointerEnter",["pointerout","pointerover"]);Or("onPointerLeave",["pointerout","pointerover"]);Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ps));function wd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,V0(r,e,void 0,t),t.currentTarget=null}function vp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;wd(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;wd(s,a,d),i=l}}}if(eo)throw t=xl,eo=!1,xl=null,t}function re(t,e){var n=e[Ol];n===void 0&&(n=e[Ol]=new Set);var r=t+"__bubble";n.has(r)||(wp(e,t,2,!1),n.add(r))}function ka(t,e,n){var r=0;e&&(r|=4),wp(n,t,r,e)}var yi="_reactListening"+Math.random().toString(36).slice(2);function Ms(t){if(!t[yi]){t[yi]=!0,Nf.forEach(function(n){n!=="selectionchange"&&(Yy.has(n)||ka(n,!1,t),ka(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yi]||(e[yi]=!0,ka("selectionchange",!1,e))}}function wp(t,e,n,r){switch(np(e)){case 1:var s=ay;break;case 4:s=ly;break;default:s=Uc}n=s.bind(null,e,n,t),s=void 0,!wl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ba(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Fn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Bf(function(){var d=i,u=Lc(n),h=[];e:{var f=yp.get(t);if(f!==void 0){var g=zc,v=t;switch(t){case"keypress":if(Mi(n)===0)break e;case"keydown":case"keyup":g=by;break;case"focusin":v="focus",g=ga;break;case"focusout":v="blur",g=ga;break;case"beforeblur":case"afterblur":g=ga;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=dy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Ny;break;case fp:case pp:case mp:g=py;break;case gp:g=Cy;break;case"scroll":g=cy;break;case"wheel":g=Oy;break;case"copy":case"cut":case"paste":g=gy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=cd}var _=(e&4)!==0,S=!_&&t==="scroll",m=_?f!==null?f+"Capture":null:f;_=[];for(var p=d,y;p!==null;){y=p;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=Is(p,m),w!=null&&_.push(Us(p,w,y)))),S)break;p=p.return}0<_.length&&(f=new g(f,v,null,n,u),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==yl&&(v=n.relatedTarget||n.fromElement)&&(Fn(v)||v[Yt]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=d,v=v?Fn(v):null,v!==null&&(S=er(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=d),g!==v)){if(_=ad,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=cd,w="onPointerLeave",m="onPointerEnter",p="pointer"),S=g==null?f:gr(g),y=v==null?f:gr(v),f=new _(w,p+"leave",g,n,u),f.target=S,f.relatedTarget=y,w=null,Fn(u)===d&&(_=new _(m,p+"enter",v,n,u),_.target=y,_.relatedTarget=S,w=_),S=w,g&&v)t:{for(_=g,m=v,p=0,y=_;y;y=nr(y))p++;for(y=0,w=m;w;w=nr(w))y++;for(;0<p-y;)_=nr(_),p--;for(;0<y-p;)m=nr(m),y--;for(;p--;){if(_===m||m!==null&&_===m.alternate)break t;_=nr(_),m=nr(m)}_=null}else _=null;g!==null&&xd(h,f,g,_,!1),v!==null&&S!==null&&xd(h,S,v,_,!0)}}e:{if(f=d?gr(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var j=Dy;else if(hd(f))if(lp)j=zy;else{j=Uy;var b=My}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Fy);if(j&&(j=j(t,d))){ap(h,j,n,u);break e}b&&b(t,f,d),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&hl(f,"number",f.value)}switch(b=d?gr(d):window,t){case"focusin":(hd(b)||b.contentEditable==="true")&&(pr=b,Sl=d,_s=null);break;case"focusout":_s=Sl=pr=null;break;case"mousedown":jl=!0;break;case"contextmenu":case"mouseup":case"dragend":jl=!1,yd(h,n,u);break;case"selectionchange":if(Hy)break;case"keydown":case"keyup":yd(h,n,u)}var C;if(Wc)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else fr?ip(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(sp&&n.locale!=="ko"&&(fr||T!=="onCompositionStart"?T==="onCompositionEnd"&&fr&&(C=rp()):(cn=u,Fc="value"in cn?cn.value:cn.textContent,fr=!0)),b=io(d,T),0<b.length&&(T=new ld(T,t,null,n,u),h.push({event:T,listeners:b}),C?T.data=C:(C=op(n),C!==null&&(T.data=C)))),(C=Iy?Ry(t,n):Ay(t,n))&&(d=io(d,"onBeforeInput"),0<d.length&&(u=new ld("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=C))}vp(h,e)})}function Us(t,e,n){return{instance:t,listener:e,currentTarget:n}}function io(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Is(t,n),i!=null&&r.unshift(Us(t,i,s)),i=Is(t,e),i!=null&&r.push(Us(t,i,s))),t=t.return}return r}function nr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xd(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=Is(n,i),l!=null&&o.unshift(Us(n,l,a))):s||(l=Is(n,i),l!=null&&o.push(Us(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ky=/\r\n?/g,Jy=/\u0000|\uFFFD/g;function _d(t){return(typeof t=="string"?t:""+t).replace(Ky,`
`).replace(Jy,"")}function vi(t,e,n){if(e=_d(e),_d(t)!==e&&n)throw Error(I(425))}function oo(){}var Nl=null,El=null;function Cl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tl=typeof setTimeout=="function"?setTimeout:void 0,Gy=typeof clearTimeout=="function"?clearTimeout:void 0,kd=typeof Promise=="function"?Promise:void 0,Xy=typeof queueMicrotask=="function"?queueMicrotask:typeof kd<"u"?function(t){return kd.resolve(null).then(t).catch(Zy)}:Tl;function Zy(t){setTimeout(function(){throw t})}function Sa(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ls(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ls(e)}function mn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Br=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Br,Fs="__reactProps$"+Br,Yt="__reactContainer$"+Br,Ol="__reactEvents$"+Br,Qy="__reactListeners$"+Br,ev="__reactHandles$"+Br;function Fn(t){var e=t[Rt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yt]||n[Rt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bd(t);t!==null;){if(n=t[Rt])return n;t=bd(t)}return e}t=n,n=t.parentNode}return null}function ni(t){return t=t[Rt]||t[Yt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Ro(t){return t[Fs]||null}var Pl=[],yr=-1;function En(t){return{current:t}}function se(t){0>yr||(t.current=Pl[yr],Pl[yr]=null,yr--)}function ee(t,e){yr++,Pl[yr]=t.current,t.current=e}var Sn={},Re=En(Sn),Ve=En(!1),Kn=Sn;function Pr(t,e){var n=t.type.contextTypes;if(!n)return Sn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function qe(t){return t=t.childContextTypes,t!=null}function ao(){se(Ve),se(Re)}function Sd(t,e,n){if(Re.current!==Sn)throw Error(I(168));ee(Re,e),ee(Ve,n)}function xp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(I(108,M0(t)||"Unknown",s));return de({},n,r)}function lo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sn,Kn=Re.current,ee(Re,t),ee(Ve,Ve.current),!0}function jd(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=xp(t,e,Kn),r.__reactInternalMemoizedMergedChildContext=t,se(Ve),se(Re),ee(Re,t)):se(Ve),ee(Ve,n)}var zt=null,Ao=!1,ja=!1;function _p(t){zt===null?zt=[t]:zt.push(t)}function tv(t){Ao=!0,_p(t)}function Cn(){if(!ja&&zt!==null){ja=!0;var t=0,e=X;try{var n=zt;for(X=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zt=null,Ao=!1}catch(s){throw zt!==null&&(zt=zt.slice(t+1)),qf($c,Cn),s}finally{X=e,ja=!1}}return null}var vr=[],wr=0,co=null,uo=0,it=[],ot=0,Jn=null,Bt=1,Wt="";function Rn(t,e){vr[wr++]=uo,vr[wr++]=co,co=t,uo=e}function kp(t,e,n){it[ot++]=Bt,it[ot++]=Wt,it[ot++]=Jn,Jn=t;var r=Bt;t=Wt;var s=32-bt(r)-1;r&=~(1<<s),n+=1;var i=32-bt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Bt=1<<32-bt(e)+s|n<<s|r,Wt=i+t}else Bt=1<<i|n<<s|r,Wt=t}function Vc(t){t.return!==null&&(Rn(t,1),kp(t,1,0))}function qc(t){for(;t===co;)co=vr[--wr],vr[wr]=null,uo=vr[--wr],vr[wr]=null;for(;t===Jn;)Jn=it[--ot],it[ot]=null,Wt=it[--ot],it[ot]=null,Bt=it[--ot],it[ot]=null}var Qe=null,Ze=null,ie=!1,xt=null;function bp(t,e){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Nd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qe=t,Ze=mn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qe=t,Ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jn!==null?{id:Bt,overflow:Wt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qe=t,Ze=null,!0):!1;default:return!1}}function Il(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rl(t){if(ie){var e=Ze;if(e){var n=e;if(!Nd(t,e)){if(Il(t))throw Error(I(418));e=mn(n.nextSibling);var r=Qe;e&&Nd(t,e)?bp(r,n):(t.flags=t.flags&-4097|2,ie=!1,Qe=t)}}else{if(Il(t))throw Error(I(418));t.flags=t.flags&-4097|2,ie=!1,Qe=t}}}function Ed(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qe=t}function wi(t){if(t!==Qe)return!1;if(!ie)return Ed(t),ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cl(t.type,t.memoizedProps)),e&&(e=Ze)){if(Il(t))throw Sp(),Error(I(418));for(;e;)bp(t,e),e=mn(e.nextSibling)}if(Ed(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ze=mn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ze=null}}else Ze=Qe?mn(t.stateNode.nextSibling):null;return!0}function Sp(){for(var t=Ze;t;)t=mn(t.nextSibling)}function Ir(){Ze=Qe=null,ie=!1}function Yc(t){xt===null?xt=[t]:xt.push(t)}var nv=Gt.ReactCurrentBatchConfig;function ts(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function xi(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cd(t){var e=t._init;return e(t._payload)}function jp(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=wn(m,p),m.index=0,m.sibling=null,m}function i(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,w){return p===null||p.tag!==6?(p=Ia(y,m.mode,w),p.return=m,p):(p=s(p,y),p.return=m,p)}function l(m,p,y,w){var j=y.type;return j===hr?u(m,p,y.props.children,w,y.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===nn&&Cd(j)===p.type)?(w=s(p,y.props),w.ref=ts(m,p,y),w.return=m,w):(w=Vi(y.type,y.key,y.props,null,m.mode,w),w.ref=ts(m,p,y),w.return=m,w)}function d(m,p,y,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Ra(y,m.mode,w),p.return=m,p):(p=s(p,y.children||[]),p.return=m,p)}function u(m,p,y,w,j){return p===null||p.tag!==7?(p=qn(y,m.mode,w,j),p.return=m,p):(p=s(p,y),p.return=m,p)}function h(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ia(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ci:return y=Vi(p.type,p.key,p.props,null,m.mode,y),y.ref=ts(m,null,p),y.return=m,y;case dr:return p=Ra(p,m.mode,y),p.return=m,p;case nn:var w=p._init;return h(m,w(p._payload),y)}if(hs(p)||Gr(p))return p=qn(p,m.mode,y,null),p.return=m,p;xi(m,p)}return null}function f(m,p,y,w){var j=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:a(m,p,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ci:return y.key===j?l(m,p,y,w):null;case dr:return y.key===j?d(m,p,y,w):null;case nn:return j=y._init,f(m,p,j(y._payload),w)}if(hs(y)||Gr(y))return j!==null?null:u(m,p,y,w,null);xi(m,y)}return null}function g(m,p,y,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,a(p,m,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ci:return m=m.get(w.key===null?y:w.key)||null,l(p,m,w,j);case dr:return m=m.get(w.key===null?y:w.key)||null,d(p,m,w,j);case nn:var b=w._init;return g(m,p,y,b(w._payload),j)}if(hs(w)||Gr(w))return m=m.get(y)||null,u(p,m,w,j,null);xi(p,w)}return null}function v(m,p,y,w){for(var j=null,b=null,C=p,T=p=0,D=null;C!==null&&T<y.length;T++){C.index>T?(D=C,C=null):D=C.sibling;var A=f(m,C,y[T],w);if(A===null){C===null&&(C=D);break}t&&C&&A.alternate===null&&e(m,C),p=i(A,p,T),b===null?j=A:b.sibling=A,b=A,C=D}if(T===y.length)return n(m,C),ie&&Rn(m,T),j;if(C===null){for(;T<y.length;T++)C=h(m,y[T],w),C!==null&&(p=i(C,p,T),b===null?j=C:b.sibling=C,b=C);return ie&&Rn(m,T),j}for(C=r(m,C);T<y.length;T++)D=g(C,m,T,y[T],w),D!==null&&(t&&D.alternate!==null&&C.delete(D.key===null?T:D.key),p=i(D,p,T),b===null?j=D:b.sibling=D,b=D);return t&&C.forEach(function(J){return e(m,J)}),ie&&Rn(m,T),j}function _(m,p,y,w){var j=Gr(y);if(typeof j!="function")throw Error(I(150));if(y=j.call(y),y==null)throw Error(I(151));for(var b=j=null,C=p,T=p=0,D=null,A=y.next();C!==null&&!A.done;T++,A=y.next()){C.index>T?(D=C,C=null):D=C.sibling;var J=f(m,C,A.value,w);if(J===null){C===null&&(C=D);break}t&&C&&J.alternate===null&&e(m,C),p=i(J,p,T),b===null?j=J:b.sibling=J,b=J,C=D}if(A.done)return n(m,C),ie&&Rn(m,T),j;if(C===null){for(;!A.done;T++,A=y.next())A=h(m,A.value,w),A!==null&&(p=i(A,p,T),b===null?j=A:b.sibling=A,b=A);return ie&&Rn(m,T),j}for(C=r(m,C);!A.done;T++,A=y.next())A=g(C,m,T,A.value,w),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?T:A.key),p=i(A,p,T),b===null?j=A:b.sibling=A,b=A);return t&&C.forEach(function(me){return e(m,me)}),ie&&Rn(m,T),j}function S(m,p,y,w){if(typeof y=="object"&&y!==null&&y.type===hr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ci:e:{for(var j=y.key,b=p;b!==null;){if(b.key===j){if(j=y.type,j===hr){if(b.tag===7){n(m,b.sibling),p=s(b,y.props.children),p.return=m,m=p;break e}}else if(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===nn&&Cd(j)===b.type){n(m,b.sibling),p=s(b,y.props),p.ref=ts(m,b,y),p.return=m,m=p;break e}n(m,b);break}else e(m,b);b=b.sibling}y.type===hr?(p=qn(y.props.children,m.mode,w,y.key),p.return=m,m=p):(w=Vi(y.type,y.key,y.props,null,m.mode,w),w.ref=ts(m,p,y),w.return=m,m=w)}return o(m);case dr:e:{for(b=y.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=s(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Ra(y,m.mode,w),p.return=m,m=p}return o(m);case nn:return b=y._init,S(m,p,b(y._payload),w)}if(hs(y))return v(m,p,y,w);if(Gr(y))return _(m,p,y,w);xi(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,y),p.return=m,m=p):(n(m,p),p=Ia(y,m.mode,w),p.return=m,m=p),o(m)):n(m,p)}return S}var Rr=jp(!0),Np=jp(!1),ho=En(null),fo=null,xr=null,Kc=null;function Jc(){Kc=xr=fo=null}function Gc(t){var e=ho.current;se(ho),t._currentValue=e}function Al(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Er(t,e){fo=t,Kc=xr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(He=!0),t.firstContext=null)}function dt(t){var e=t._currentValue;if(Kc!==t)if(t={context:t,memoizedValue:e,next:null},xr===null){if(fo===null)throw Error(I(308));xr=t,fo.dependencies={lanes:0,firstContext:t}}else xr=xr.next=t;return e}var zn=null;function Xc(t){zn===null?zn=[t]:zn.push(t)}function Ep(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Xc(e)):(n.next=s.next,s.next=n),e.interleaved=n,Kt(t,r)}function Kt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rn=!1;function Zc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Kt(t,n)}return s=r.interleaved,s===null?(e.next=e,Xc(r)):(e.next=s.next,s.next=e),r.interleaved=e,Kt(t,n)}function Ui(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dc(t,n)}}function Td(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function po(t,e,n,r){var s=t.updateQueue;rn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=d:a.next=d,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=d=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(f=e,g=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(g,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(g,h,f):v,f==null)break e;h=de({},h,f);break e;case 2:rn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(d=u=g,l=h):u=u.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Xn|=o,t.lanes=o,t.memoizedState=h}}function Od(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var ri={},Lt=En(ri),zs=En(ri),Bs=En(ri);function Bn(t){if(t===ri)throw Error(I(174));return t}function Qc(t,e){switch(ee(Bs,e),ee(zs,t),ee(Lt,ri),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pl(e,t)}se(Lt),ee(Lt,e)}function Ar(){se(Lt),se(zs),se(Bs)}function Tp(t){Bn(Bs.current);var e=Bn(Lt.current),n=pl(e,t.type);e!==n&&(ee(zs,t),ee(Lt,n))}function eu(t){zs.current===t&&(se(Lt),se(zs))}var ce=En(0);function mo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Na=[];function tu(){for(var t=0;t<Na.length;t++)Na[t]._workInProgressVersionPrimary=null;Na.length=0}var Fi=Gt.ReactCurrentDispatcher,Ea=Gt.ReactCurrentBatchConfig,Gn=0,ue=null,we=null,be=null,go=!1,ks=!1,Ws=0,rv=0;function Oe(){throw Error(I(321))}function nu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jt(t[n],e[n]))return!1;return!0}function ru(t,e,n,r,s,i){if(Gn=i,ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fi.current=t===null||t.memoizedState===null?av:lv,t=n(r,s),ks){i=0;do{if(ks=!1,Ws=0,25<=i)throw Error(I(301));i+=1,be=we=null,e.updateQueue=null,Fi.current=cv,t=n(r,s)}while(ks)}if(Fi.current=yo,e=we!==null&&we.next!==null,Gn=0,be=we=ue=null,go=!1,e)throw Error(I(300));return t}function su(){var t=Ws!==0;return Ws=0,t}function Pt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?ue.memoizedState=be=t:be=be.next=t,be}function ht(){if(we===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=be===null?ue.memoizedState:be.next;if(e!==null)be=e,we=t;else{if(t===null)throw Error(I(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},be===null?ue.memoizedState=be=t:be=be.next=t}return be}function Hs(t,e){return typeof e=="function"?e(t):e}function Ca(t){var e=ht(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=we,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var u=d.lane;if((Gn&u)===u)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ue.lanes|=u,Xn|=u}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,jt(r,e.memoizedState)||(He=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ue.lanes|=i,Xn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ta(t){var e=ht(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);jt(i,e.memoizedState)||(He=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Op(){}function Pp(t,e){var n=ue,r=ht(),s=e(),i=!jt(r.memoizedState,s);if(i&&(r.memoizedState=s,He=!0),r=r.queue,iu(Ap.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Vs(9,Rp.bind(null,n,r,s,e),void 0,null),Se===null)throw Error(I(349));Gn&30||Ip(n,e,s)}return s}function Ip(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ue.updateQueue,e===null?(e={lastEffect:null,stores:null},ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Rp(t,e,n,r){e.value=n,e.getSnapshot=r,Lp(e)&&$p(t)}function Ap(t,e,n){return n(function(){Lp(e)&&$p(t)})}function Lp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jt(t,n)}catch{return!0}}function $p(t){var e=Kt(t,1);e!==null&&St(e,t,1,-1)}function Pd(t){var e=Pt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:t},e.queue=t,t=t.dispatch=ov.bind(null,ue,t),[e.memoizedState,t]}function Vs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ue.updateQueue,e===null?(e={lastEffect:null,stores:null},ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Dp(){return ht().memoizedState}function zi(t,e,n,r){var s=Pt();ue.flags|=t,s.memoizedState=Vs(1|e,n,void 0,r===void 0?null:r)}function Lo(t,e,n,r){var s=ht();r=r===void 0?null:r;var i=void 0;if(we!==null){var o=we.memoizedState;if(i=o.destroy,r!==null&&nu(r,o.deps)){s.memoizedState=Vs(e,n,i,r);return}}ue.flags|=t,s.memoizedState=Vs(1|e,n,i,r)}function Id(t,e){return zi(8390656,8,t,e)}function iu(t,e){return Lo(2048,8,t,e)}function Mp(t,e){return Lo(4,2,t,e)}function Up(t,e){return Lo(4,4,t,e)}function Fp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zp(t,e,n){return n=n!=null?n.concat([t]):null,Lo(4,4,Fp.bind(null,e,t),n)}function ou(){}function Bp(t,e){var n=ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Wp(t,e){var n=ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Hp(t,e,n){return Gn&21?(jt(n,e)||(n=Jf(),ue.lanes|=n,Xn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,He=!0),t.memoizedState=n)}function sv(t,e){var n=X;X=n!==0&&4>n?n:4,t(!0);var r=Ea.transition;Ea.transition={};try{t(!1),e()}finally{X=n,Ea.transition=r}}function Vp(){return ht().memoizedState}function iv(t,e,n){var r=vn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qp(t))Yp(e,n);else if(n=Ep(t,e,n,r),n!==null){var s=De();St(n,t,r,s),Kp(n,e,r)}}function ov(t,e,n){var r=vn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qp(t))Yp(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,jt(a,o)){var l=e.interleaved;l===null?(s.next=s,Xc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Ep(t,e,s,r),n!==null&&(s=De(),St(n,t,r,s),Kp(n,e,r))}}function qp(t){var e=t.alternate;return t===ue||e!==null&&e===ue}function Yp(t,e){ks=go=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Kp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dc(t,n)}}var yo={readContext:dt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},av={readContext:dt,useCallback:function(t,e){return Pt().memoizedState=[t,e===void 0?null:e],t},useContext:dt,useEffect:Id,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zi(4194308,4,Fp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zi(4194308,4,t,e)},useInsertionEffect:function(t,e){return zi(4,2,t,e)},useMemo:function(t,e){var n=Pt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iv.bind(null,ue,t),[r.memoizedState,t]},useRef:function(t){var e=Pt();return t={current:t},e.memoizedState=t},useState:Pd,useDebugValue:ou,useDeferredValue:function(t){return Pt().memoizedState=t},useTransition:function(){var t=Pd(!1),e=t[0];return t=sv.bind(null,t[1]),Pt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ue,s=Pt();if(ie){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),Se===null)throw Error(I(349));Gn&30||Ip(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Id(Ap.bind(null,r,i,t),[t]),r.flags|=2048,Vs(9,Rp.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Pt(),e=Se.identifierPrefix;if(ie){var n=Wt,r=Bt;n=(r&~(1<<32-bt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ws++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lv={readContext:dt,useCallback:Bp,useContext:dt,useEffect:iu,useImperativeHandle:zp,useInsertionEffect:Mp,useLayoutEffect:Up,useMemo:Wp,useReducer:Ca,useRef:Dp,useState:function(){return Ca(Hs)},useDebugValue:ou,useDeferredValue:function(t){var e=ht();return Hp(e,we.memoizedState,t)},useTransition:function(){var t=Ca(Hs)[0],e=ht().memoizedState;return[t,e]},useMutableSource:Op,useSyncExternalStore:Pp,useId:Vp,unstable_isNewReconciler:!1},cv={readContext:dt,useCallback:Bp,useContext:dt,useEffect:iu,useImperativeHandle:zp,useInsertionEffect:Mp,useLayoutEffect:Up,useMemo:Wp,useReducer:Ta,useRef:Dp,useState:function(){return Ta(Hs)},useDebugValue:ou,useDeferredValue:function(t){var e=ht();return we===null?e.memoizedState=t:Hp(e,we.memoizedState,t)},useTransition:function(){var t=Ta(Hs)[0],e=ht().memoizedState;return[t,e]},useMutableSource:Op,useSyncExternalStore:Pp,useId:Vp,unstable_isNewReconciler:!1};function gt(t,e){if(t&&t.defaultProps){e=de({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ll(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:de({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $o={isMounted:function(t){return(t=t._reactInternals)?er(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=De(),s=vn(t),i=Ht(r,s);i.payload=e,n!=null&&(i.callback=n),e=gn(t,i,s),e!==null&&(St(e,t,s,r),Ui(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=De(),s=vn(t),i=Ht(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=gn(t,i,s),e!==null&&(St(e,t,s,r),Ui(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=De(),r=vn(t),s=Ht(n,r);s.tag=2,e!=null&&(s.callback=e),e=gn(t,s,r),e!==null&&(St(e,t,r,n),Ui(e,t,r))}};function Rd(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ds(n,r)||!Ds(s,i):!0}function Jp(t,e,n){var r=!1,s=Sn,i=e.contextType;return typeof i=="object"&&i!==null?i=dt(i):(s=qe(e)?Kn:Re.current,r=e.contextTypes,i=(r=r!=null)?Pr(t,s):Sn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$o,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ad(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$o.enqueueReplaceState(e,e.state,null)}function $l(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Zc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=dt(i):(i=qe(e)?Kn:Re.current,s.context=Pr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ll(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&$o.enqueueReplaceState(s,s.state,null),po(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Lr(t,e){try{var n="",r=e;do n+=D0(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Oa(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Dl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uv=typeof WeakMap=="function"?WeakMap:Map;function Gp(t,e,n){n=Ht(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wo||(wo=!0,Yl=r),Dl(t,e)},n}function Xp(t,e,n){n=Ht(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Dl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Dl(t,e),typeof r!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ld(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uv;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Sv.bind(null,t,e,n),e.then(t,t))}function $d(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dd(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ht(-1,1),e.tag=2,gn(n,e,1))),n.lanes|=1),t)}var dv=Gt.ReactCurrentOwner,He=!1;function Le(t,e,n,r){e.child=t===null?Np(e,null,n,r):Rr(e,t.child,n,r)}function Md(t,e,n,r,s){n=n.render;var i=e.ref;return Er(e,s),r=ru(t,e,n,r,i,s),n=su(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jt(t,e,s)):(ie&&n&&Vc(e),e.flags|=1,Le(t,e,r,s),e.child)}function Ud(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!pu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Zp(t,e,i,r,s)):(t=Vi(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ds,n(o,r)&&t.ref===e.ref)return Jt(t,e,s)}return e.flags|=1,t=wn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Zp(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ds(i,r)&&t.ref===e.ref)if(He=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(He=!0);else return e.lanes=t.lanes,Jt(t,e,s)}return Ml(t,e,n,r,s)}function Qp(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(kr,Ge),Ge|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ee(kr,Ge),Ge|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ee(kr,Ge),Ge|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ee(kr,Ge),Ge|=r;return Le(t,e,s,n),e.child}function em(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ml(t,e,n,r,s){var i=qe(n)?Kn:Re.current;return i=Pr(e,i),Er(e,s),n=ru(t,e,n,r,i,s),r=su(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jt(t,e,s)):(ie&&r&&Vc(e),e.flags|=1,Le(t,e,n,s),e.child)}function Fd(t,e,n,r,s){if(qe(n)){var i=!0;lo(e)}else i=!1;if(Er(e,s),e.stateNode===null)Bi(t,e),Jp(e,n,r),$l(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=dt(d):(d=qe(n)?Kn:Re.current,d=Pr(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&Ad(e,o,r,d),rn=!1;var f=e.memoizedState;o.state=f,po(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Ve.current||rn?(typeof u=="function"&&(Ll(e,n,u,r),l=e.memoizedState),(a=rn||Rd(e,n,a,r,f,l,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Cp(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:gt(e.type,a),o.props=d,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=dt(l):(l=qe(n)?Kn:Re.current,l=Pr(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Ad(e,o,r,l),rn=!1,f=e.memoizedState,o.state=f,po(e,r,o,s);var v=e.memoizedState;a!==h||f!==v||Ve.current||rn?(typeof g=="function"&&(Ll(e,n,g,r),v=e.memoizedState),(d=rn||Rd(e,n,d,r,f,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ul(t,e,n,r,i,s)}function Ul(t,e,n,r,s,i){em(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&jd(e,n,!1),Jt(t,e,i);r=e.stateNode,dv.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Rr(e,t.child,null,i),e.child=Rr(e,null,a,i)):Le(t,e,a,i),e.memoizedState=r.state,s&&jd(e,n,!0),e.child}function tm(t){var e=t.stateNode;e.pendingContext?Sd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sd(t,e.context,!1),Qc(t,e.containerInfo)}function zd(t,e,n,r,s){return Ir(),Yc(s),e.flags|=256,Le(t,e,n,r),e.child}var Fl={dehydrated:null,treeContext:null,retryLane:0};function zl(t){return{baseLanes:t,cachePool:null,transitions:null}}function nm(t,e,n){var r=e.pendingProps,s=ce.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ee(ce,s&1),t===null)return Rl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Uo(o,r,0,null),t=qn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=zl(n),e.memoizedState=Fl,t):au(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return hv(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=wn(a,i):(i=qn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?zl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Fl,r}return i=t.child,t=i.sibling,r=wn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function au(t,e){return e=Uo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _i(t,e,n,r){return r!==null&&Yc(r),Rr(e,t.child,null,n),t=au(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hv(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Oa(Error(I(422))),_i(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Uo({mode:"visible",children:r.children},s,0,null),i=qn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Rr(e,t.child,null,o),e.child.memoizedState=zl(o),e.memoizedState=Fl,i);if(!(e.mode&1))return _i(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(I(419)),r=Oa(i,r,void 0),_i(t,e,o,r)}if(a=(o&t.childLanes)!==0,He||a){if(r=Se,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Kt(t,s),St(r,t,s,-1))}return fu(),r=Oa(Error(I(421))),_i(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=jv.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ze=mn(s.nextSibling),Qe=e,ie=!0,xt=null,t!==null&&(it[ot++]=Bt,it[ot++]=Wt,it[ot++]=Jn,Bt=t.id,Wt=t.overflow,Jn=e),e=au(e,r.children),e.flags|=4096,e)}function Bd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Al(t.return,e,n)}function Pa(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function rm(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Le(t,e,r.children,n),r=ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bd(t,n,e);else if(t.tag===19)Bd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ee(ce,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&mo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Pa(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Pa(e,!0,n,null,i);break;case"together":Pa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=wn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fv(t,e,n){switch(e.tag){case 3:tm(e),Ir();break;case 5:Tp(e);break;case 1:qe(e.type)&&lo(e);break;case 4:Qc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ee(ho,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ee(ce,ce.current&1),e.flags|=128,null):n&e.child.childLanes?nm(t,e,n):(ee(ce,ce.current&1),t=Jt(t,e,n),t!==null?t.sibling:null);ee(ce,ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rm(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(ce,ce.current),r)break;return null;case 22:case 23:return e.lanes=0,Qp(t,e,n)}return Jt(t,e,n)}var sm,Bl,im,om;sm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bl=function(){};im=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Bn(Lt.current);var i=null;switch(n){case"input":s=ul(t,s),r=ul(t,r),i=[];break;case"select":s=de({},s,{value:void 0}),r=de({},r,{value:void 0}),i=[];break;case"textarea":s=fl(t,s),r=fl(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=oo)}ml(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Os.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Os.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&re("scroll",t),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};om=function(t,e,n,r){n!==r&&(e.flags|=4)};function ns(t,e){if(!ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pv(t,e,n){var r=e.pendingProps;switch(qc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(e),null;case 1:return qe(e.type)&&ao(),Pe(e),null;case 3:return r=e.stateNode,Ar(),se(Ve),se(Re),tu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xt!==null&&(Gl(xt),xt=null))),Bl(t,e),Pe(e),null;case 5:eu(e);var s=Bn(Bs.current);if(n=e.type,t!==null&&e.stateNode!=null)im(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(I(166));return Pe(e),null}if(t=Bn(Lt.current),wi(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Rt]=e,r[Fs]=i,t=(e.mode&1)!==0,n){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(s=0;s<ps.length;s++)re(ps[s],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":Xu(r,i),re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},re("invalid",r);break;case"textarea":Qu(r,i),re("invalid",r)}ml(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&vi(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&vi(r.textContent,a,t),s=["children",""+a]):Os.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&re("scroll",r)}switch(n){case"input":ui(r),Zu(r,i,!0);break;case"textarea":ui(r),ed(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=oo)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Af(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Rt]=e,t[Fs]=r,sm(t,e,!1,!1),e.stateNode=t;e:{switch(o=gl(n,r),n){case"dialog":re("cancel",t),re("close",t),s=r;break;case"iframe":case"object":case"embed":re("load",t),s=r;break;case"video":case"audio":for(s=0;s<ps.length;s++)re(ps[s],t);s=r;break;case"source":re("error",t),s=r;break;case"img":case"image":case"link":re("error",t),re("load",t),s=r;break;case"details":re("toggle",t),s=r;break;case"input":Xu(t,r),s=ul(t,r),re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=de({},r,{value:void 0}),re("invalid",t);break;case"textarea":Qu(t,r),s=fl(t,r),re("invalid",t);break;default:s=r}ml(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Df(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Lf(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ps(t,l):typeof l=="number"&&Ps(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Os.hasOwnProperty(i)?l!=null&&i==="onScroll"&&re("scroll",t):l!=null&&Pc(t,i,l,o))}switch(n){case"input":ui(t),Zu(t,r,!1);break;case"textarea":ui(t),ed(t);break;case"option":r.value!=null&&t.setAttribute("value",""+bn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?br(t,!!r.multiple,i,!1):r.defaultValue!=null&&br(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=oo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pe(e),null;case 6:if(t&&e.stateNode!=null)om(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=Bn(Bs.current),Bn(Lt.current),wi(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rt]=e,(i=r.nodeValue!==n)&&(t=Qe,t!==null))switch(t.tag){case 3:vi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vi(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=e,e.stateNode=r}return Pe(e),null;case 13:if(se(ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ie&&Ze!==null&&e.mode&1&&!(e.flags&128))Sp(),Ir(),e.flags|=98560,i=!1;else if(i=wi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(I(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[Rt]=e}else Ir(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pe(e),i=!1}else xt!==null&&(Gl(xt),xt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ce.current&1?xe===0&&(xe=3):fu())),e.updateQueue!==null&&(e.flags|=4),Pe(e),null);case 4:return Ar(),Bl(t,e),t===null&&Ms(e.stateNode.containerInfo),Pe(e),null;case 10:return Gc(e.type._context),Pe(e),null;case 17:return qe(e.type)&&ao(),Pe(e),null;case 19:if(se(ce),i=e.memoizedState,i===null)return Pe(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ns(i,!1);else{if(xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mo(t),o!==null){for(e.flags|=128,ns(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ee(ce,ce.current&1|2),e.child}t=t.sibling}i.tail!==null&&fe()>$r&&(e.flags|=128,r=!0,ns(i,!1),e.lanes=4194304)}else{if(!r)if(t=mo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ns(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ie)return Pe(e),null}else 2*fe()-i.renderingStartTime>$r&&n!==1073741824&&(e.flags|=128,r=!0,ns(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=fe(),e.sibling=null,n=ce.current,ee(ce,r?n&1|2:n&1),e):(Pe(e),null);case 22:case 23:return hu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ge&1073741824&&(Pe(e),e.subtreeFlags&6&&(e.flags|=8192)):Pe(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function mv(t,e){switch(qc(e),e.tag){case 1:return qe(e.type)&&ao(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ar(),se(Ve),se(Re),tu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return eu(e),null;case 13:if(se(ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));Ir()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return se(ce),null;case 4:return Ar(),null;case 10:return Gc(e.type._context),null;case 22:case 23:return hu(),null;case 24:return null;default:return null}}var ki=!1,Ie=!1,gv=typeof WeakSet=="function"?WeakSet:Set,L=null;function _r(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){he(t,e,r)}else n.current=null}function Wl(t,e,n){try{n()}catch(r){he(t,e,r)}}var Wd=!1;function yv(t,e){if(Nl=ro,t=dp(),Hc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++d===s&&(a=o),f===i&&++u===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(El={focusedElem:t,selectionRange:n},ro=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,S=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:gt(e.type,_),S);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(w){he(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return v=Wd,Wd=!1,v}function bs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wl(e,n,i)}s=s.next}while(s!==r)}}function Do(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function am(t){var e=t.alternate;e!==null&&(t.alternate=null,am(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rt],delete e[Fs],delete e[Ol],delete e[Qy],delete e[ev])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lm(t){return t.tag===5||t.tag===3||t.tag===4}function Hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oo));else if(r!==4&&(t=t.child,t!==null))for(Vl(t,e,n),t=t.sibling;t!==null;)Vl(t,e,n),t=t.sibling}function ql(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ql(t,e,n),t=t.sibling;t!==null;)ql(t,e,n),t=t.sibling}var Ne=null,yt=!1;function Zt(t,e,n){for(n=n.child;n!==null;)cm(t,e,n),n=n.sibling}function cm(t,e,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(To,n)}catch{}switch(n.tag){case 5:Ie||_r(n,e);case 6:var r=Ne,s=yt;Ne=null,Zt(t,e,n),Ne=r,yt=s,Ne!==null&&(yt?(t=Ne,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(yt?(t=Ne,n=n.stateNode,t.nodeType===8?Sa(t.parentNode,n):t.nodeType===1&&Sa(t,n),Ls(t)):Sa(Ne,n.stateNode));break;case 4:r=Ne,s=yt,Ne=n.stateNode.containerInfo,yt=!0,Zt(t,e,n),Ne=r,yt=s;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wl(n,e,o),s=s.next}while(s!==r)}Zt(t,e,n);break;case 1:if(!Ie&&(_r(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){he(n,e,a)}Zt(t,e,n);break;case 21:Zt(t,e,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,Zt(t,e,n),Ie=r):Zt(t,e,n);break;default:Zt(t,e,n)}}function Vd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gv),e.forEach(function(r){var s=Nv.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ne=a.stateNode,yt=!1;break e;case 3:Ne=a.stateNode.containerInfo,yt=!0;break e;case 4:Ne=a.stateNode.containerInfo,yt=!0;break e}a=a.return}if(Ne===null)throw Error(I(160));cm(i,o,s),Ne=null,yt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){he(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)um(e,t),e=e.sibling}function um(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mt(e,t),Tt(t),r&4){try{bs(3,t,t.return),Do(3,t)}catch(_){he(t,t.return,_)}try{bs(5,t,t.return)}catch(_){he(t,t.return,_)}}break;case 1:mt(e,t),Tt(t),r&512&&n!==null&&_r(n,n.return);break;case 5:if(mt(e,t),Tt(t),r&512&&n!==null&&_r(n,n.return),t.flags&32){var s=t.stateNode;try{Ps(s,"")}catch(_){he(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&If(s,i),gl(a,o);var d=gl(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Df(s,h):u==="dangerouslySetInnerHTML"?Lf(s,h):u==="children"?Ps(s,h):Pc(s,u,h,d)}switch(a){case"input":dl(s,i);break;case"textarea":Rf(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?br(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?br(s,!!i.multiple,i.defaultValue,!0):br(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fs]=i}catch(_){he(t,t.return,_)}}break;case 6:if(mt(e,t),Tt(t),r&4){if(t.stateNode===null)throw Error(I(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){he(t,t.return,_)}}break;case 3:if(mt(e,t),Tt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ls(e.containerInfo)}catch(_){he(t,t.return,_)}break;case 4:mt(e,t),Tt(t);break;case 13:mt(e,t),Tt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uu=fe())),r&4&&Vd(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ie=(d=Ie)||u,mt(e,t),Ie=d):mt(e,t),Tt(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(L=t,u=t.child;u!==null;){for(h=L=u;L!==null;){switch(f=L,g=f.child,f.tag){case 0:case 11:case 14:case 15:bs(4,f,f.return);break;case 1:_r(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){he(r,n,_)}}break;case 5:_r(f,f.return);break;case 22:if(f.memoizedState!==null){Yd(h);continue}}g!==null?(g.return=f,L=g):Yd(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$f("display",o))}catch(_){he(t,t.return,_)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(_){he(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mt(e,t),Tt(t),r&4&&Vd(t);break;case 21:break;default:mt(e,t),Tt(t)}}function Tt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lm(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ps(s,""),r.flags&=-33);var i=Hd(t);ql(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Hd(t);Vl(t,a,o);break;default:throw Error(I(161))}}catch(l){he(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vv(t,e,n){L=t,dm(t)}function dm(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var s=L,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ki;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ie;a=ki;var d=Ie;if(ki=o,(Ie=l)&&!d)for(L=s;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?Kd(s):l!==null?(l.return=o,L=l):Kd(s);for(;i!==null;)L=i,dm(i),i=i.sibling;L=s,ki=a,Ie=d}qd(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,L=i):qd(t)}}function qd(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ie||Do(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:gt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Od(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Od(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ls(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ie||e.flags&512&&Hl(e)}catch(f){he(e,e.return,f)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function Yd(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function Kd(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Do(4,e)}catch(l){he(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){he(e,s,l)}}var i=e.return;try{Hl(e)}catch(l){he(e,i,l)}break;case 5:var o=e.return;try{Hl(e)}catch(l){he(e,o,l)}}}catch(l){he(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var wv=Math.ceil,vo=Gt.ReactCurrentDispatcher,lu=Gt.ReactCurrentOwner,ct=Gt.ReactCurrentBatchConfig,K=0,Se=null,ye=null,Ce=0,Ge=0,kr=En(0),xe=0,qs=null,Xn=0,Mo=0,cu=0,Ss=null,ze=null,uu=0,$r=1/0,Ut=null,wo=!1,Yl=null,yn=null,bi=!1,un=null,xo=0,js=0,Kl=null,Wi=-1,Hi=0;function De(){return K&6?fe():Wi!==-1?Wi:Wi=fe()}function vn(t){return t.mode&1?K&2&&Ce!==0?Ce&-Ce:nv.transition!==null?(Hi===0&&(Hi=Jf()),Hi):(t=X,t!==0||(t=window.event,t=t===void 0?16:np(t.type)),t):1}function St(t,e,n,r){if(50<js)throw js=0,Kl=null,Error(I(185));ei(t,n,r),(!(K&2)||t!==Se)&&(t===Se&&(!(K&2)&&(Mo|=n),xe===4&&an(t,Ce)),Ye(t,r),n===1&&K===0&&!(e.mode&1)&&($r=fe()+500,Ao&&Cn()))}function Ye(t,e){var n=t.callbackNode;ny(t,e);var r=no(t,t===Se?Ce:0);if(r===0)n!==null&&rd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rd(n),e===1)t.tag===0?tv(Jd.bind(null,t)):_p(Jd.bind(null,t)),Xy(function(){!(K&6)&&Cn()}),n=null;else{switch(Gf(r)){case 1:n=$c;break;case 4:n=Yf;break;case 16:n=to;break;case 536870912:n=Kf;break;default:n=to}n=wm(n,hm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hm(t,e){if(Wi=-1,Hi=0,K&6)throw Error(I(327));var n=t.callbackNode;if(Cr()&&t.callbackNode!==n)return null;var r=no(t,t===Se?Ce:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_o(t,r);else{e=r;var s=K;K|=2;var i=pm();(Se!==t||Ce!==e)&&(Ut=null,$r=fe()+500,Vn(t,e));do try{kv();break}catch(a){fm(t,a)}while(!0);Jc(),vo.current=i,K=s,ye!==null?e=0:(Se=null,Ce=0,e=xe)}if(e!==0){if(e===2&&(s=_l(t),s!==0&&(r=s,e=Jl(t,s))),e===1)throw n=qs,Vn(t,0),an(t,r),Ye(t,fe()),n;if(e===6)an(t,r);else{if(s=t.current.alternate,!(r&30)&&!xv(s)&&(e=_o(t,r),e===2&&(i=_l(t),i!==0&&(r=i,e=Jl(t,i))),e===1))throw n=qs,Vn(t,0),an(t,r),Ye(t,fe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(I(345));case 2:An(t,ze,Ut);break;case 3:if(an(t,r),(r&130023424)===r&&(e=uu+500-fe(),10<e)){if(no(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){De(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Tl(An.bind(null,t,ze,Ut),e);break}An(t,ze,Ut);break;case 4:if(an(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-bt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wv(r/1960))-r,10<r){t.timeoutHandle=Tl(An.bind(null,t,ze,Ut),r);break}An(t,ze,Ut);break;case 5:An(t,ze,Ut);break;default:throw Error(I(329))}}}return Ye(t,fe()),t.callbackNode===n?hm.bind(null,t):null}function Jl(t,e){var n=Ss;return t.current.memoizedState.isDehydrated&&(Vn(t,e).flags|=256),t=_o(t,e),t!==2&&(e=ze,ze=n,e!==null&&Gl(e)),t}function Gl(t){ze===null?ze=t:ze.push.apply(ze,t)}function xv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!jt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function an(t,e){for(e&=~cu,e&=~Mo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bt(e),r=1<<n;t[n]=-1,e&=~r}}function Jd(t){if(K&6)throw Error(I(327));Cr();var e=no(t,0);if(!(e&1))return Ye(t,fe()),null;var n=_o(t,e);if(t.tag!==0&&n===2){var r=_l(t);r!==0&&(e=r,n=Jl(t,r))}if(n===1)throw n=qs,Vn(t,0),an(t,e),Ye(t,fe()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,An(t,ze,Ut),Ye(t,fe()),null}function du(t,e){var n=K;K|=1;try{return t(e)}finally{K=n,K===0&&($r=fe()+500,Ao&&Cn())}}function Zn(t){un!==null&&un.tag===0&&!(K&6)&&Cr();var e=K;K|=1;var n=ct.transition,r=X;try{if(ct.transition=null,X=1,t)return t()}finally{X=r,ct.transition=n,K=e,!(K&6)&&Cn()}}function hu(){Ge=kr.current,se(kr)}function Vn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Gy(n)),ye!==null)for(n=ye.return;n!==null;){var r=n;switch(qc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ao();break;case 3:Ar(),se(Ve),se(Re),tu();break;case 5:eu(r);break;case 4:Ar();break;case 13:se(ce);break;case 19:se(ce);break;case 10:Gc(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Se=t,ye=t=wn(t.current,null),Ce=Ge=e,xe=0,qs=null,cu=Mo=Xn=0,ze=Ss=null,zn!==null){for(e=0;e<zn.length;e++)if(n=zn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}zn=null}return t}function fm(t,e){do{var n=ye;try{if(Jc(),Fi.current=yo,go){for(var r=ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}go=!1}if(Gn=0,be=we=ue=null,ks=!1,Ws=0,lu.current=null,n===null||n.return===null){xe=1,qs=e,ye=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ce,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=$d(o);if(g!==null){g.flags&=-257,Dd(g,o,a,i,e),g.mode&1&&Ld(i,d,e),e=g,l=d;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){Ld(i,d,e),fu();break e}l=Error(I(426))}}else if(ie&&a.mode&1){var S=$d(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Dd(S,o,a,i,e),Yc(Lr(l,a));break e}}i=l=Lr(l,a),xe!==4&&(xe=2),Ss===null?Ss=[i]:Ss.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Gp(i,l,e);Td(i,m);break e;case 1:a=l;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(yn===null||!yn.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Xp(i,a,e);Td(i,w);break e}}i=i.return}while(i!==null)}gm(n)}catch(j){e=j,ye===n&&n!==null&&(ye=n=n.return);continue}break}while(!0)}function pm(){var t=vo.current;return vo.current=yo,t===null?yo:t}function fu(){(xe===0||xe===3||xe===2)&&(xe=4),Se===null||!(Xn&268435455)&&!(Mo&268435455)||an(Se,Ce)}function _o(t,e){var n=K;K|=2;var r=pm();(Se!==t||Ce!==e)&&(Ut=null,Vn(t,e));do try{_v();break}catch(s){fm(t,s)}while(!0);if(Jc(),K=n,vo.current=r,ye!==null)throw Error(I(261));return Se=null,Ce=0,xe}function _v(){for(;ye!==null;)mm(ye)}function kv(){for(;ye!==null&&!Y0();)mm(ye)}function mm(t){var e=vm(t.alternate,t,Ge);t.memoizedProps=t.pendingProps,e===null?gm(t):ye=e,lu.current=null}function gm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mv(n,e),n!==null){n.flags&=32767,ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xe=6,ye=null;return}}else if(n=pv(n,e,Ge),n!==null){ye=n;return}if(e=e.sibling,e!==null){ye=e;return}ye=e=t}while(e!==null);xe===0&&(xe=5)}function An(t,e,n){var r=X,s=ct.transition;try{ct.transition=null,X=1,bv(t,e,n,r)}finally{ct.transition=s,X=r}return null}function bv(t,e,n,r){do Cr();while(un!==null);if(K&6)throw Error(I(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ry(t,i),t===Se&&(ye=Se=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bi||(bi=!0,wm(to,function(){return Cr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ct.transition,ct.transition=null;var o=X;X=1;var a=K;K|=4,lu.current=null,yv(t,n),um(n,t),Wy(El),ro=!!Nl,El=Nl=null,t.current=n,vv(n),K0(),K=a,X=o,ct.transition=i}else t.current=n;if(bi&&(bi=!1,un=t,xo=s),i=t.pendingLanes,i===0&&(yn=null),X0(n.stateNode),Ye(t,fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(wo)throw wo=!1,t=Yl,Yl=null,t;return xo&1&&t.tag!==0&&Cr(),i=t.pendingLanes,i&1?t===Kl?js++:(js=0,Kl=t):js=0,Cn(),null}function Cr(){if(un!==null){var t=Gf(xo),e=ct.transition,n=X;try{if(ct.transition=null,X=16>t?16:t,un===null)var r=!1;else{if(t=un,un=null,xo=0,K&6)throw Error(I(331));var s=K;for(K|=4,L=t.current;L!==null;){var i=L,o=i.child;if(L.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(L=d;L!==null;){var u=L;switch(u.tag){case 0:case 11:case 15:bs(8,u,i)}var h=u.child;if(h!==null)h.return=u,L=h;else for(;L!==null;){u=L;var f=u.sibling,g=u.return;if(am(u),u===d){L=null;break}if(f!==null){f.return=g,L=f;break}L=g}}}var v=i.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}L=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,L=o;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bs(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,L=m;break e}L=i.return}}var p=t.current;for(L=p;L!==null;){o=L;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,L=y;else e:for(o=p;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Do(9,a)}}catch(j){he(a,a.return,j)}if(a===o){L=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,L=w;break e}L=a.return}}if(K=s,Cn(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(To,t)}catch{}r=!0}return r}finally{X=n,ct.transition=e}}return!1}function Gd(t,e,n){e=Lr(n,e),e=Gp(t,e,1),t=gn(t,e,1),e=De(),t!==null&&(ei(t,1,e),Ye(t,e))}function he(t,e,n){if(t.tag===3)Gd(t,t,n);else for(;e!==null;){if(e.tag===3){Gd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yn===null||!yn.has(r))){t=Lr(n,t),t=Xp(e,t,1),e=gn(e,t,1),t=De(),e!==null&&(ei(e,1,t),Ye(e,t));break}}e=e.return}}function Sv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=De(),t.pingedLanes|=t.suspendedLanes&n,Se===t&&(Ce&n)===n&&(xe===4||xe===3&&(Ce&130023424)===Ce&&500>fe()-uu?Vn(t,0):cu|=n),Ye(t,e)}function ym(t,e){e===0&&(t.mode&1?(e=fi,fi<<=1,!(fi&130023424)&&(fi=4194304)):e=1);var n=De();t=Kt(t,e),t!==null&&(ei(t,e,n),Ye(t,n))}function jv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ym(t,n)}function Nv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(e),ym(t,n)}var vm;vm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ve.current)He=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return He=!1,fv(t,e,n);He=!!(t.flags&131072)}else He=!1,ie&&e.flags&1048576&&kp(e,uo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bi(t,e),t=e.pendingProps;var s=Pr(e,Re.current);Er(e,n),s=ru(null,e,r,t,s,n);var i=su();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qe(r)?(i=!0,lo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zc(e),s.updater=$o,e.stateNode=s,s._reactInternals=e,$l(e,r,t,n),e=Ul(null,e,r,!0,i,n)):(e.tag=0,ie&&i&&Vc(e),Le(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bi(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Cv(r),t=gt(r,t),s){case 0:e=Ml(null,e,r,t,n);break e;case 1:e=Fd(null,e,r,t,n);break e;case 11:e=Md(null,e,r,t,n);break e;case 14:e=Ud(null,e,r,gt(r.type,t),n);break e}throw Error(I(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gt(r,s),Ml(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gt(r,s),Fd(t,e,r,s,n);case 3:e:{if(tm(e),t===null)throw Error(I(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Cp(t,e),po(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Lr(Error(I(423)),e),e=zd(t,e,r,n,s);break e}else if(r!==s){s=Lr(Error(I(424)),e),e=zd(t,e,r,n,s);break e}else for(Ze=mn(e.stateNode.containerInfo.firstChild),Qe=e,ie=!0,xt=null,n=Np(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ir(),r===s){e=Jt(t,e,n);break e}Le(t,e,r,n)}e=e.child}return e;case 5:return Tp(e),t===null&&Rl(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Cl(r,s)?o=null:i!==null&&Cl(r,i)&&(e.flags|=32),em(t,e),Le(t,e,o,n),e.child;case 6:return t===null&&Rl(e),null;case 13:return nm(t,e,n);case 4:return Qc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rr(e,null,r,n):Le(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gt(r,s),Md(t,e,r,s,n);case 7:return Le(t,e,e.pendingProps,n),e.child;case 8:return Le(t,e,e.pendingProps.children,n),e.child;case 12:return Le(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ee(ho,r._currentValue),r._currentValue=o,i!==null)if(jt(i.value,o)){if(i.children===s.children&&!Ve.current){e=Jt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ht(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?l.next=l:(l.next=u.next,u.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Al(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Al(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Le(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Er(e,n),s=dt(s),r=r(s),e.flags|=1,Le(t,e,r,n),e.child;case 14:return r=e.type,s=gt(r,e.pendingProps),s=gt(r.type,s),Ud(t,e,r,s,n);case 15:return Zp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gt(r,s),Bi(t,e),e.tag=1,qe(r)?(t=!0,lo(e)):t=!1,Er(e,n),Jp(e,r,s),$l(e,r,s,n),Ul(null,e,r,!0,t,n);case 19:return rm(t,e,n);case 22:return Qp(t,e,n)}throw Error(I(156,e.tag))};function wm(t,e){return qf(t,e)}function Ev(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(t,e,n,r){return new Ev(t,e,n,r)}function pu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cv(t){if(typeof t=="function")return pu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rc)return 11;if(t===Ac)return 14}return 2}function wn(t,e){var n=t.alternate;return n===null?(n=lt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vi(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")pu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hr:return qn(n.children,s,i,e);case Ic:o=8,s|=8;break;case ol:return t=lt(12,n,e,s|2),t.elementType=ol,t.lanes=i,t;case al:return t=lt(13,n,e,s),t.elementType=al,t.lanes=i,t;case ll:return t=lt(19,n,e,s),t.elementType=ll,t.lanes=i,t;case Tf:return Uo(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ef:o=10;break e;case Cf:o=9;break e;case Rc:o=11;break e;case Ac:o=14;break e;case nn:o=16,r=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=lt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function qn(t,e,n,r){return t=lt(7,t,r,e),t.lanes=n,t}function Uo(t,e,n,r){return t=lt(22,t,r,e),t.elementType=Tf,t.lanes=n,t.stateNode={isHidden:!1},t}function Ia(t,e,n){return t=lt(6,t,null,e),t.lanes=n,t}function Ra(t,e,n){return e=lt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Tv(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fa(0),this.expirationTimes=fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mu(t,e,n,r,s,i,o,a,l){return t=new Tv(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=lt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zc(i),t}function Ov(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xm(t){if(!t)return Sn;t=t._reactInternals;e:{if(er(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(qe(n))return xp(t,n,e)}return e}function _m(t,e,n,r,s,i,o,a,l){return t=mu(n,r,!0,t,s,i,o,a,l),t.context=xm(null),n=t.current,r=De(),s=vn(n),i=Ht(r,s),i.callback=e??null,gn(n,i,s),t.current.lanes=s,ei(t,s,r),Ye(t,r),t}function Fo(t,e,n,r){var s=e.current,i=De(),o=vn(s);return n=xm(n),e.context===null?e.context=n:e.pendingContext=n,e=Ht(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gn(s,e,o),t!==null&&(St(t,s,o,i),Ui(t,s,o)),o}function ko(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gu(t,e){Xd(t,e),(t=t.alternate)&&Xd(t,e)}function Pv(){return null}var km=typeof reportError=="function"?reportError:function(t){console.error(t)};function yu(t){this._internalRoot=t}zo.prototype.render=yu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));Fo(t,e,null,null)};zo.prototype.unmount=yu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zn(function(){Fo(null,t,null,null)}),e[Yt]=null}};function zo(t){this._internalRoot=t}zo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Qf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<on.length&&e!==0&&e<on[n].priority;n++);on.splice(n,0,t),n===0&&tp(t)}};function vu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zd(){}function Iv(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=ko(o);i.call(d)}}var o=_m(e,r,t,0,null,!1,!1,"",Zd);return t._reactRootContainer=o,t[Yt]=o.current,Ms(t.nodeType===8?t.parentNode:t),Zn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=ko(l);a.call(d)}}var l=mu(t,0,!1,null,null,!1,!1,"",Zd);return t._reactRootContainer=l,t[Yt]=l.current,Ms(t.nodeType===8?t.parentNode:t),Zn(function(){Fo(e,l,n,r)}),l}function Wo(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ko(o);a.call(l)}}Fo(e,o,t,s)}else o=Iv(n,e,t,s,r);return ko(o)}Xf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fs(e.pendingLanes);n!==0&&(Dc(e,n|1),Ye(e,fe()),!(K&6)&&($r=fe()+500,Cn()))}break;case 13:Zn(function(){var r=Kt(t,1);if(r!==null){var s=De();St(r,t,1,s)}}),gu(t,1)}};Mc=function(t){if(t.tag===13){var e=Kt(t,134217728);if(e!==null){var n=De();St(e,t,134217728,n)}gu(t,134217728)}};Zf=function(t){if(t.tag===13){var e=vn(t),n=Kt(t,e);if(n!==null){var r=De();St(n,t,e,r)}gu(t,e)}};Qf=function(){return X};ep=function(t,e){var n=X;try{return X=t,e()}finally{X=n}};vl=function(t,e,n){switch(e){case"input":if(dl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ro(r);if(!s)throw Error(I(90));Pf(r),dl(r,s)}}}break;case"textarea":Rf(t,n);break;case"select":e=n.value,e!=null&&br(t,!!n.multiple,e,!1)}};Ff=du;zf=Zn;var Rv={usingClientEntryPoint:!1,Events:[ni,gr,Ro,Mf,Uf,du]},rs={findFiberByHostInstance:Fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Av={bundleType:rs.bundleType,version:rs.version,rendererPackageName:rs.rendererPackageName,rendererConfig:rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hf(t),t===null?null:t.stateNode},findFiberByHostInstance:rs.findFiberByHostInstance||Pv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Si=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Si.isDisabled&&Si.supportsFiber)try{To=Si.inject(Av),At=Si}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rv;tt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vu(e))throw Error(I(200));return Ov(t,e,null,n)};tt.createRoot=function(t,e){if(!vu(t))throw Error(I(299));var n=!1,r="",s=km;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=mu(t,1,!1,null,null,n,!1,r,s),t[Yt]=e.current,Ms(t.nodeType===8?t.parentNode:t),new yu(e)};tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=Hf(e),t=t===null?null:t.stateNode,t};tt.flushSync=function(t){return Zn(t)};tt.hydrate=function(t,e,n){if(!Bo(e))throw Error(I(200));return Wo(null,t,e,!0,n)};tt.hydrateRoot=function(t,e,n){if(!vu(t))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=km;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_m(e,null,t,1,n??null,s,!1,i,o),t[Yt]=e.current,Ms(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new zo(e)};tt.render=function(t,e,n){if(!Bo(e))throw Error(I(200));return Wo(null,t,e,!1,n)};tt.unmountComponentAtNode=function(t){if(!Bo(t))throw Error(I(40));return t._reactRootContainer?(Zn(function(){Wo(null,null,t,!1,function(){t._reactRootContainer=null,t[Yt]=null})}),!0):!1};tt.unstable_batchedUpdates=du;tt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bo(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return Wo(t,e,n,!1,r)};tt.version="18.3.1-next-f1338f8080-20240426";function bm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bm)}catch(t){console.error(t)}}bm(),bf.exports=tt;var Lv=bf.exports,Sm,Qd=Lv;Sm=Qd.createRoot,Qd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ys(){return Ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ys.apply(this,arguments)}var dn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dn||(dn={}));const eh="popstate";function $v(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Xl("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:bo(s)}return Mv(e,n,null,t)}function pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Dv(){return Math.random().toString(36).substr(2,8)}function th(t,e){return{usr:t.state,key:t.key,idx:e}}function Xl(t,e,n,r){return n===void 0&&(n=null),Ys({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wr(e):e,{state:n,key:e&&e.key||r||Dv()})}function bo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Mv(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=dn.Pop,l=null,d=u();d==null&&(d=0,o.replaceState(Ys({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=dn.Pop;let S=u(),m=S==null?null:S-d;d=S,l&&l({action:a,location:_.location,delta:m})}function f(S,m){a=dn.Push;let p=Xl(_.location,S,m);d=u()+1;let y=th(p,d),w=_.createHref(p);try{o.pushState(y,"",w)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(w)}i&&l&&l({action:a,location:_.location,delta:1})}function g(S,m){a=dn.Replace;let p=Xl(_.location,S,m);d=u();let y=th(p,d),w=_.createHref(p);o.replaceState(y,"",w),i&&l&&l({action:a,location:_.location,delta:0})}function v(S){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof S=="string"?S:bo(S);return p=p.replace(/ $/,"%20"),pe(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let _={get action(){return a},get location(){return t(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(eh,h),l=S,()=>{s.removeEventListener(eh,h),l=null}},createHref(S){return e(s,S)},createURL:v,encodeLocation(S){let m=v(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(S){return o.go(S)}};return _}var nh;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nh||(nh={}));function Uv(t,e,n){return n===void 0&&(n="/"),Fv(t,e,n,!1)}function Fv(t,e,n,r){let s=typeof e=="string"?Wr(e):e,i=wu(s.pathname||"/",n);if(i==null)return null;let o=Nm(t);zv(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=Zv(i);a=Gv(o[l],d,r)}return a}function Nm(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(pe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=xn([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(pe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Nm(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:Kv(d,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Em(i.path))s(i,o,l)}),e}function Em(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Em(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function zv(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Jv(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Bv=/^:[\w-]+$/,Wv=3,Hv=2,Vv=1,qv=10,Yv=-2,rh=t=>t==="*";function Kv(t,e){let n=t.split("/"),r=n.length;return n.some(rh)&&(r+=Yv),e&&(r+=Hv),n.filter(s=>!rh(s)).reduce((s,i)=>s+(Bv.test(i)?Wv:i===""?Vv:qv),r)}function Jv(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Gv(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=sh({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},u),f=l.route;if(!h&&d&&n&&!r[r.length-1].route.index&&(h=sh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:xn([i,h.pathname]),pathnameBase:nw(xn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=xn([i,h.pathnameBase]))}return o}function sh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Xv(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let _=a[h]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[h];return g&&!v?d[f]=void 0:d[f]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function Xv(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Zv(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Qv(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Wr(t):t;return{pathname:n?n.startsWith("/")?n:ew(n,e):e,search:rw(r),hash:sw(s)}}function ew(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Aa(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xu(t,e){let n=tw(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _u(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Wr(t):(s=Ys({},t),pe(!s.pathname||!s.pathname.includes("?"),Aa("?","pathname","search",s)),pe(!s.pathname||!s.pathname.includes("#"),Aa("#","pathname","hash",s)),pe(!s.search||!s.search.includes("#"),Aa("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Qv(s,a),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||u)&&(l.pathname+="/"),l}const xn=t=>t.join("/").replace(/\/\/+/g,"/"),nw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Cm=["post","put","patch","delete"];new Set(Cm);const ow=["get",...Cm];new Set(ow);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ks(){return Ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ks.apply(this,arguments)}const ku=x.createContext(null),aw=x.createContext(null),Tn=x.createContext(null),Ho=x.createContext(null),On=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Tm=x.createContext(null);function lw(t,e){let{relative:n}=e===void 0?{}:e;Hr()||pe(!1);let{basename:r,navigator:s}=x.useContext(Tn),{hash:i,pathname:o,search:a}=Pm(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:xn([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Hr(){return x.useContext(Ho)!=null}function Vr(){return Hr()||pe(!1),x.useContext(Ho).location}function Om(t){x.useContext(Tn).static||x.useLayoutEffect(t)}function qr(){let{isDataRoute:t}=x.useContext(On);return t?_w():cw()}function cw(){Hr()||pe(!1);let t=x.useContext(ku),{basename:e,future:n,navigator:r}=x.useContext(Tn),{matches:s}=x.useContext(On),{pathname:i}=Vr(),o=JSON.stringify(xu(s,n.v7_relativeSplatPath)),a=x.useRef(!1);return Om(()=>{a.current=!0}),x.useCallback(function(d,u){if(u===void 0&&(u={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let h=_u(d,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:xn([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function Pm(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=x.useContext(Tn),{matches:s}=x.useContext(On),{pathname:i}=Vr(),o=JSON.stringify(xu(s,r.v7_relativeSplatPath));return x.useMemo(()=>_u(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function uw(t,e){return dw(t,e)}function dw(t,e,n,r){Hr()||pe(!1);let{navigator:s,static:i}=x.useContext(Tn),{matches:o}=x.useContext(On),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let u=Vr(),h;if(e){var f;let m=typeof e=="string"?Wr(e):e;d==="/"||(f=m.pathname)!=null&&f.startsWith(d)||pe(!1),h=m}else h=u;let g=h.pathname||"/",v=g;if(d!=="/"){let m=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(m.length).join("/")}let _=!i&&n&&n.matches&&n.matches.length>0?n.matches:Uv(t,{pathname:v}),S=gw(_&&_.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:xn([d,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?d:xn([d,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n,r);return e&&S?x.createElement(Ho.Provider,{value:{location:Ks({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:dn.Pop}},S):S}function hw(){let t=xw(),e=iw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,null)}const fw=x.createElement(hw,null);class pw extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(On.Provider,{value:this.props.routeContext},x.createElement(Tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mw(t){let{routeContext:e,match:n,children:r}=t,s=x.useContext(ku);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(On.Provider,{value:e},r)}function gw(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||pe(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:g}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let g,v=!1,_=null,S=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||fw,l&&(d<0&&f===0?(v=!0,S=null):d===f&&(v=!0,S=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),p=()=>{let y;return g?y=_:v?y=S:h.route.Component?y=x.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=u,x.createElement(mw,{match:h,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(pw,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Im=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Im||{}),So=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(So||{});function yw(t){let e=x.useContext(ku);return e||pe(!1),e}function vw(t){let e=x.useContext(aw);return e||pe(!1),e}function ww(t){let e=x.useContext(On);return e||pe(!1),e}function Rm(t){let e=ww(),n=e.matches[e.matches.length-1];return n.route.id||pe(!1),n.route.id}function xw(){var t;let e=x.useContext(Tm),n=vw(So.UseRouteError),r=Rm(So.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _w(){let{router:t}=yw(Im.UseNavigateStable),e=Rm(So.UseNavigateStable),n=x.useRef(!1);return Om(()=>{n.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ks({fromRouteId:e},i)))},[t,e])}function kw(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function bw(t){let{to:e,replace:n,state:r,relative:s}=t;Hr()||pe(!1);let{future:i,static:o}=x.useContext(Tn),{matches:a}=x.useContext(On),{pathname:l}=Vr(),d=qr(),u=_u(e,xu(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(u);return x.useEffect(()=>d(JSON.parse(h),{replace:n,state:r,relative:s}),[d,h,s,n,r]),null}function qi(t){pe(!1)}function Sw(t){let{basename:e="/",children:n=null,location:r,navigationType:s=dn.Pop,navigator:i,static:o=!1,future:a}=t;Hr()&&pe(!1);let l=e.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:l,navigator:i,static:o,future:Ks({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Wr(r));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:v="default"}=r,_=x.useMemo(()=>{let S=wu(u,l);return S==null?null:{location:{pathname:S,search:h,hash:f,state:g,key:v},navigationType:s}},[l,u,h,f,g,v,s]);return _==null?null:x.createElement(Tn.Provider,{value:d},x.createElement(Ho.Provider,{children:n,value:_}))}function jw(t){let{children:e,location:n}=t;return uw(Zl(e),n)}new Promise(()=>{});function Zl(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let i=[...e,s];if(r.type===x.Fragment){n.push.apply(n,Zl(r.props.children,i));return}r.type!==qi&&pe(!1),!r.props.index||!r.props.children||pe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zl(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ql.apply(this,arguments)}function Nw(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Ew(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Cw(t,e){return t.button===0&&(!e||e==="_self")&&!Ew(t)}function ec(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Tw(t,e){let n=ec(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const Ow=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Pw="6";try{window.__reactRouterVersion=Pw}catch{}const Iw="startTransition",ih=sl[Iw];function Rw(t){let{basename:e,children:n,future:r,window:s}=t,i=x.useRef();i.current==null&&(i.current=$v({window:s,v5Compat:!0}));let o=i.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},u=x.useCallback(h=>{d&&ih?ih(()=>l(h)):l(h)},[l,d]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>kw(r),[r]),x.createElement(Sw,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Aw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jo=x.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:d,preventScrollReset:u,viewTransition:h}=e,f=Nw(e,Ow),{basename:g}=x.useContext(Tn),v,_=!1;if(typeof d=="string"&&Lw.test(d)&&(v=d,Aw))try{let y=new URL(window.location.href),w=d.startsWith("//")?new URL(y.protocol+d):new URL(d),j=wu(w.pathname,g);w.origin===y.origin&&j!=null?d=j+w.search+w.hash:_=!0}catch{}let S=lw(d,{relative:s}),m=$w(d,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:h});function p(y){r&&r(y),y.defaultPrevented||m(y)}return x.createElement("a",Ql({},f,{href:v||S,onClick:_||i?r:p,ref:n,target:l}))});var oh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oh||(oh={}));var ah;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ah||(ah={}));function $w(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=qr(),d=Vr(),u=Pm(t,{relative:o});return x.useCallback(h=>{if(Cw(h,n)){h.preventDefault();let f=r!==void 0?r:bo(d)===bo(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,l,u,r,s,n,t,i,o,a])}function Dw(t){let e=x.useRef(ec(t)),n=x.useRef(!1),r=Vr(),s=x.useMemo(()=>Tw(r.search,n.current?null:e.current),[r.search]),i=qr(),o=x.useCallback((a,l)=>{const d=ec(typeof a=="function"?a(s):a);n.current=!0,i("?"+d,l)},[i,s]);return[s,o]}/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=(t,e)=>{const n=x.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...d},u)=>x.createElement("svg",{ref:u,...Mw,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Uw(t)}`,a].join(" "),...d},[...e.map(([h,f])=>x.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=B("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=B("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=B("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=B("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=B("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=B("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=B("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=B("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=B("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=B("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=B("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=B("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=B("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=B("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=B("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=B("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=B("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=B("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=B("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=B("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=B("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),cx={en:{hero:{title:"Find Trusted Contractors for Your Home Projects",subtitle:"Connect with verified professionals for renovation, repair, and maintenance services",stats:{yearsInMarket:"Years in Market",clients:"Happy Clients",positiveReviews:"Positive Reviews"}},common:{iWant:"I want to",verified:"Verified",call:"Call Now",message:"Message",unavailable:"Currently Unavailable",startOver:"Start Over",searching:"Searching for the best matches...",searchingDescription:"We are analyzing your requirements to find the most suitable contractors",companiesFound:"companies found",yearsInBusiness:"{{years}} years in business"},search:{selectStep:"Select",steps:{action:"what you want to do",landscape:"landscape work",inspect:"inspect the property",renovate:"renovate the interior",repair:"repair the equipment",install:"install new systems",flip_a_house:"flip a house",remove:"remove old structures",texture:"texture the walls",powerwash:"power wash the exterior",clean:"clean the premises",replace:"replace old elements",paint:"paint the surfaces",build:"build new structures",location:"where the work will be done",time:"when you need it done"},options:{action:["Repair","Install","Replace","Maintain"],landscape:["Lawn Care","Garden Design","Tree Removal"],inspect:["Home Inspection","Electrical Inspection","Plumbing Inspection"],renovate:["Interior Renovation","Kitchen Remodel","Bathroom Remodel"],repair:["Appliance Repair","Roof Repair","HVAC Repair"],install:["Air Conditioning","Heating Systems","Water Heaters"],flip_a_house:["Full Renovation","Interior Design","Exterior Work"],remove:["Debris Removal","Old Furniture","Construction Waste"],texture:["Wall Texturing","Ceiling Texturing","Flooring"],powerwash:["Exterior Power Washing","Driveway Cleaning","Deck Cleaning"],clean:["Deep Cleaning","Post-Construction Cleaning","Move-In/Move-Out Cleaning"],replace:["Windows","Doors","Roofing"],paint:["Interior Painting","Exterior Painting","Custom Finishes"],build:["New Construction","Additions","Garages"],location:["New York","Los Angeles","Chicago","Houston","Miami"],time:["Within 24 hours","Within 3 days","Within a week","Flexible"]}},services:{renovation:{name:"Renovation"},maintenance:{name:"Maintenance"},finishing:{name:"Finishing"},plumbing:{name:"Plumbing"}},testimonials:{title:"What Our Clients Say",subtitle:"Real feedback from satisfied customers who trusted us with their projects"},footer:{about:{title:"About Us",description:"We connect homeowners with trusted contractors for all types of home improvement and repair projects."},services:{title:"Our Services"},company:{title:"Company",about:"About Us",careers:"Careers",blog:"Blog",partners:"For Partners"},contact:{title:"Contact",address:"123 Business Street, Suite 100, New York, NY 10001"},copyright:"All rights reserved.",privacy:"Privacy Policy",terms:"Terms of Service",cookies:"Cookie Policy"},contractorApplication:{title:"Join Our Contractor Network",subtitle:"Expand your business by connecting with customers looking for quality services",form:{companyName:"Company Name",ownerName:"Owner Name",email:"Email Address",phone:"Phone Number",website:"Website (optional)",experience:"Years of Experience",services:"Services Offered",description:"Company Description",submit:"Submit Application"},success:"Your application has been submitted successfully! We will review it and contact you soon."}}},Um=x.createContext(null);function ux({children:t}){const[e]=x.useState("en"),r={language:e,setLanguage:()=>{},t:(s,i)=>{try{let o=s.split(".").reduce((a,l)=>{if(a===void 0)throw new Error(`Translation key not found: ${s}`);return a[l]},cx[e]);return i&&Object.entries(i).forEach(([a,l])=>{o=o.replace(`{{${a}}}`,l.toString())}),o}catch(o){return console.error("Translation error:",o),s}}};return c.jsx(Um.Provider,{value:r,children:t})}function Nu(){const t=x.useContext(Um);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t}const dx="modulepreload",hx=function(t){return"/"+t},uh={},Dr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=hx(l),l in uh)return;uh[l]=!0;const d=l.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":dx,d||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),d)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},fx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Dr(async()=>{const{default:r}=await Promise.resolve().then(()=>Yr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Eu extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class px extends Eu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mx extends Eu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gx extends Eu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var tc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(tc||(tc={}));var yx=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};class vx{constructor(e,{headers:n={},customFetch:r,region:s=tc.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=fx(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return yx(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(v=>{throw new px(v)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new mx(u);if(!u.ok)throw new gx(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield u.json():f==="application/octet-stream"?g=yield u.blob():f==="text/event-stream"?g=u:f==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Be={},Cu={},Vo={},ii={},qo={},Yo={},wx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mr=wx();const xx=Mr.fetch,Fm=Mr.fetch.bind(Mr),zm=Mr.Headers,_x=Mr.Request,kx=Mr.Response,Yr=Object.freeze(Object.defineProperty({__proto__:null,Headers:zm,Request:_x,Response:kx,default:Fm,fetch:xx},Symbol.toStringTag,{value:"Module"})),bx=c0(Yr);var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});let Sx=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ko.default=Sx;var Bm=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yo,"__esModule",{value:!0});const jx=Bm(bx),Nx=Bm(Ko);let Ex=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=jx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let d=null,u=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=m:u=JSON.parse(m))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),S=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&S&&S.length>1&&(h=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const _=await i.text();try{d=JSON.parse(_),Array.isArray(d)&&i.status===404&&(u=[],d=null,f=200,g="OK")}catch{i.status===404&&_===""?(f=204,g="No Content"):d={message:_}}if(d&&this.isMaybeSingle&&(!((l=d==null?void 0:d.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,f=200,g="OK"),d&&this.shouldThrowOnError)throw new Nx.default(d)}return{error:d,data:u,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Yo.default=Ex;var Cx=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qo,"__esModule",{value:!0});const Tx=Cx(Yo);let Ox=class extends Tx.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};qo.default=Ox;var Px=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ii,"__esModule",{value:!0});const Ix=Px(qo);let Rx=class extends Ix.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ii.default=Rx;var Ax=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vo,"__esModule",{value:!0});const ss=Ax(ii);let Lx=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new ss.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ss.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(l.length>0){const d=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new ss.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ss.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ss.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Vo.default=Lx;var Jo={},Go={};Object.defineProperty(Go,"__esModule",{value:!0});Go.version=void 0;Go.version="0.0.0-automated";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.DEFAULT_HEADERS=void 0;const $x=Go;Jo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${$x.version}`};var Wm=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cu,"__esModule",{value:!0});const Dx=Wm(Vo),Mx=Wm(ii),Ux=Jo;let Fx=class Hm{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Ux.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Dx.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Hm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",l=n);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new Mx.default({method:o,url:a,headers:d,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Cu.default=Fx;var Kr=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const Vm=Kr(Cu);Be.PostgrestClient=Vm.default;const qm=Kr(Vo);Be.PostgrestQueryBuilder=qm.default;const Ym=Kr(ii);Be.PostgrestFilterBuilder=Ym.default;const Km=Kr(qo);Be.PostgrestTransformBuilder=Km.default;const Jm=Kr(Yo);Be.PostgrestBuilder=Jm.default;const Gm=Kr(Ko);Be.PostgrestError=Gm.default;var zx=Be.default={PostgrestClient:Vm.default,PostgrestQueryBuilder:qm.default,PostgrestFilterBuilder:Ym.default,PostgrestTransformBuilder:Km.default,PostgrestBuilder:Jm.default,PostgrestError:Gm.default};const{PostgrestClient:Bx,PostgrestQueryBuilder:K2,PostgrestFilterBuilder:J2,PostgrestTransformBuilder:G2,PostgrestBuilder:X2,PostgrestError:Z2}=zx,Wx="2.11.2",Hx={"X-Client-Info":`realtime-js/${Wx}`},Vx="1.0.0",Xm=1e4,qx=1e3;var Tr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Tr||(Tr={}));var Je;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Je||(Je={}));var vt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vt||(vt={}));var nc;(function(t){t.websocket="websocket"})(nc||(nc={}));var Mn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Mn||(Mn={}));class Yx{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:d}}}class Zm{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Q||(Q={}));const dh=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Kx(o,t,e,s),i),{})},Kx=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Qm(i,o):rc(o)},Qm=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Zx(e,n)}switch(t){case Q.bool:return Jx(e);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return Gx(e);case Q.json:case Q.jsonb:return Xx(e);case Q.timestamp:return Qx(e);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return rc(e);default:return rc(e)}},rc=t=>t,Jx=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Gx=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Xx=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Zx=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Qm(e,a))}return t},Qx=t=>typeof t=="string"?t.replace(" ","T"):t,eg=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class La{constructor(e,n,r={},s=Xm){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var hh;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(hh||(hh={}));class Es{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Es.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Es.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Es.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(d,u)=>{o[d]||(l[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(S=>S.presence_ref),g=h.map(S=>S.presence_ref),v=u.filter(S=>g.indexOf(S.presence_ref)<0),_=h.filter(S=>f.indexOf(S.presence_ref)<0);v.length>0&&(a[d]=v),_.length>0&&(l[d]=_)}else a[d]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var d;const u=(d=e[a])!==null&&d!==void 0?d:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(g=>g.presence_ref),f=u.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let d=e[a];if(!d)return;const u=l.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=d,s(a,d,l),d.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fh;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(fh||(fh={}));var ph;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ph||(ph={}));var Ft;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ft||(Ft={}));class Tu{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new La(this,vt.join,this.params,this.timeout),this.rejoinTimer=new Zm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Es(this),this.broadcastEndpointURL=eg(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Ft.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Ft.CLOSED));const l={},d={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(Ft.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let _=0;_<g;_++){const S=f[_],{filter:{event:m,schema:p,table:y,filter:w}}=S,j=u&&u[_];if(j&&j.event===m&&j.schema===p&&j.table===y&&j.filter===w)v.push(Object.assign(Object.assign({},S),{id:j.id}));else{this.unsubscribe(),e==null||e(Ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Ft.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Je.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new La(this,vt.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new La(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:d,join:u}=vt;if(r&&[a,l,d,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var v,_,S;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(_=g.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var v,_,S,m,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const w=g.id,j=(v=g.filter)===null||v===void 0?void 0:v.event;return w&&((_=n.ids)===null||_===void 0?void 0:_.includes(w))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const w=(p=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:_,table:S,commit_timestamp:m,type:p,errors:y}=v;f=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:m,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(v))}g.callback(f,r)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Tu.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vt.close,{},e)}_onError(e){this._on(vt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=dh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=dh(e.columns,e.old_record)),n}}const e1=()=>{},t1=typeof WebSocket<"u",n1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class r1{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Hx,this.params={},this.timeout=Xm,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=e1,this.conn=null,this.sendBuffer=[],this.serializer=new Yx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Dr(async()=>{const{default:l}=await Promise.resolve().then(()=>Yr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${nc.websocket}`,this.httpEndpoint=eg(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Zm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(t1){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new s1(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Dr(async()=>{const{default:e}=await import("./browser-RKK5KCfM.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Vx}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Tr.connecting:return Mn.Connecting;case Tr.open:return Mn.Open;case Tr.closing:return Mn.Closing;default:return Mn.Closed}}isConnected(){return this.connectionState()===Mn.Open}channel(e,n={config:{}}){const r=new Tu(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(vt.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(qx,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(vt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([n1],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class s1{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Tr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Ou extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _e(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class i1 extends Ou{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class sc extends Ou{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var o1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};const tg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Dr(async()=>{const{default:r}=await Promise.resolve().then(()=>Yr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},a1=()=>o1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Dr(()=>Promise.resolve().then(()=>Yr),void 0)).Response:Response}),ic=t=>{if(Array.isArray(t))return t.map(n=>ic(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ic(r)}),e};var tr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};const $a=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),l1=(t,e,n)=>tr(void 0,void 0,void 0,function*(){const r=yield a1();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new i1($a(s),t.status||500))}).catch(s=>{e(new sc($a(s),s))}):e(new sc($a(t),t))}),c1=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function oi(t,e,n,r,s,i){return tr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,c1(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>l1(l,a,r))})})}function No(t,e,n,r){return tr(this,void 0,void 0,function*(){return oi(t,"GET",e,n,r)})}function sn(t,e,n,r,s){return tr(this,void 0,void 0,function*(){return oi(t,"POST",e,r,s,n)})}function u1(t,e,n,r,s){return tr(this,void 0,void 0,function*(){return oi(t,"PUT",e,r,s,n)})}function d1(t,e,n,r){return tr(this,void 0,void 0,function*(){return oi(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ng(t,e,n,r,s){return tr(this,void 0,void 0,function*(){return oi(t,"DELETE",e,r,s,n)})}var Fe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};const h1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class f1{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=tg(s)}uploadOrUpdate(e,n,r,s){return Fe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},mh),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const d=this._removeEmptyFolders(n),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:d,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Fe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const d=Object.assign({upsert:mh.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",d.cacheControl)):(l=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(_e(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Fe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield sn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ou("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}update(e,n,r){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Fe(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Fe(this,void 0,void 0,function*(){try{return{data:{path:(yield sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Fe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield sn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Fe(this,void 0,void 0,function*(){try{const s=yield sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}download(e,n){return Fe(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield No(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}info(e){return Fe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield No(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ic(r),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}exists(e){return Fe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield d1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(_e(r)&&r instanceof sc){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${d}`)}}}remove(e){return Fe(this,void 0,void 0,function*(){try{return{data:yield ng(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}list(e,n,r){return Fe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},h1),n),{prefix:e||""});return{data:yield sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const p1="2.7.1",m1={"X-Client-Info":`storage-js/${p1}`};var rr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};class g1{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},m1),n),this.fetch=tg(r)}listBuckets(){return rr(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(_e(e))return{data:null,error:e};throw e}})}getBucket(e){return rr(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return rr(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return rr(this,void 0,void 0,function*(){try{return{data:yield u1(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}emptyBucket(e){return rr(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}deleteBucket(e){return rr(this,void 0,void 0,function*(){try{return{data:yield ng(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}}class y1 extends g1{constructor(e,n={},r){super(e,n,r)}from(e){return new f1(this.url,this.headers,e,this.fetch)}}const v1="2.49.4";let ms="";typeof Deno<"u"?ms="deno":typeof document<"u"?ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ms="react-native":ms="node";const w1={"X-Client-Info":`supabase-js-${ms}/${v1}`},x1={headers:w1},_1={schema:"public"},k1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},b1={};var S1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};const j1=t=>{let e;return t?e=t:typeof fetch>"u"?e=Fm:e=fetch,(...n)=>e(...n)},N1=()=>typeof Headers>"u"?zm:Headers,E1=(t,e,n)=>{const r=j1(n),s=N1();return(i,o)=>S1(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:d}))})};var C1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};function T1(t){return t.replace(/\/$/,"")}function O1(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:d}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},d),i),accessToken:()=>C1(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const rg="2.69.1",cr=30*1e3,oc=3,Da=oc*cr,P1="http://localhost:9999",I1="supabase.auth.token",R1={"X-Client-Info":`gotrue-js/${rg}`},ac="X-Supabase-Api-Version",sg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},A1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,L1=6e5;class Pu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function F(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class $1 extends Pu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function D1(t){return F(t)&&t.name==="AuthApiError"}class ig extends Pu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Pn extends Pu{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class en extends Pn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function M1(t){return F(t)&&t.name==="AuthSessionMissingError"}class Ma extends Pn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ji extends Pn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ni extends Pn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function U1(t){return F(t)&&t.name==="AuthImplicitGrantRedirectError"}class gh extends Pn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lc extends Pn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ua(t){return F(t)&&t.name==="AuthRetryableFetchError"}class yh extends Pn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Cs extends Pn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const vh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wh=` 	
\r=`.split(""),F1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<wh.length;e+=1)t[wh[e].charCodeAt(0)]=-2;for(let e=0;e<vh.length;e+=1)t[vh[e].charCodeAt(0)]=e;return t})();function og(t,e,n){const r=F1[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function xh(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{W1(o,r,n)};for(let o=0;o<t.length;o+=1)og(t.charCodeAt(o),s,i);return e.join("")}function z1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function B1(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}z1(r,e)}}function W1(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function H1(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)og(t.charCodeAt(s),n,r);return new Uint8Array(e)}function V1(t){const e=[];return B1(t,n=>e.push(n)),new Uint8Array(e)}function q1(t){return Math.round(Date.now()/1e3)+t}function Y1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ot=()=>typeof window<"u"&&typeof document<"u",In={tested:!1,writable:!1},Ts=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(In.tested)return In.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),In.tested=!0,In.writable=!0}catch{In.tested=!0,In.writable=!1}return In.writable};function K1(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const ag=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Dr(async()=>{const{default:r}=await Promise.resolve().then(()=>Yr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},J1=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",lg=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ei=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ci=async(t,e)=>{await t.removeItem(e)};class Xo{constructor(){this.promise=new Xo.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Xo.promiseConstructor=Promise;function Fa(t){const e=t.split(".");if(e.length!==3)throw new Cs("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!A1.test(e[r]))throw new Cs("JWT not in base64url format");return{header:JSON.parse(xh(e[0])),payload:JSON.parse(xh(e[1])),signature:H1(e[2]),raw:{header:e[0],payload:e[1]}}}async function G1(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function X1(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Z1(t){return("0"+t.toString(16)).substr(-2)}function Q1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Z1).join("")}async function e_(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function t_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await e_(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sr(t,e,n=!1){const r=Q1();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await lg(t,`${e}-code-verifier`,s);const i=await t_(r);return[i,r===i?"plain":"s256"]}const n_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r_(t){const e=t.headers.get(ac);if(!e||!e.match(n_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function s_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function i_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var o_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Ln=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),a_=[502,503,504];async function _h(t){var e;if(!J1(t))throw new lc(Ln(t),0);if(a_.includes(t.status))throw new lc(Ln(t),t.status);let n;try{n=await t.json()}catch(i){throw new ig(Ln(i),i)}let r;const s=r_(t);if(s&&s.getTime()>=sg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new yh(Ln(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new en}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new yh(Ln(n),t.status,n.weak_password.reasons);throw new $1(Ln(n),t.status||500,r)}const l_=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function V(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ac]||(i[ac]=sg["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await c_(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function c_(t,e,n,r,s,i){const o=l_(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new lc(Ln(l),0)}if(a.ok||await _h(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await _h(l)}}function tn(t){var e;let n=null;f_(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=q1(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function kh(t){const e=tn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ln(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function u_(t){return{data:t,error:null}}function d_(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=o_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function h_(t){return t}function f_(t){return t.access_token&&t.refresh_token&&t.expires_in}var p_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class m_{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=ag(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ln})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=p_(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:d_,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(F(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ln})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const d={nextPage:null,lastPage:0,total:0},u=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:h_});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);d[`${S}Page`]=_}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(F(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await V(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ln})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ln})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ln})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await V(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(F(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}}const g_={getItem:t=>Ts()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ts()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ts()&&globalThis.localStorage.removeItem(t)}};function bh(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function y_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ir={debug:!!(globalThis&&Ts()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class v_ extends cg{}async function w_(t,e,n){ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new v_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ir.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}y_();const x_={url:P1,storageKey:I1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:R1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Sh(t,e,n){return await n()}class Gs{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gs.nextInstanceID,Gs.nextInstanceID+=1,this.instanceID>0&&Ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},x_),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new m_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ag(s.fetch),this.lock=s.lock||Sh,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ot()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=w_:this.lock=Sh,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ts()?this.storage=g_:(this.memoryStorage={},this.storage=bh(this.memoryStorage)):(this.memoryStorage={},this.storage=bh(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=K1(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ot()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),U1(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return F(n)?{error:n}:{error:new ig("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:tn}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:h,options:f}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await sr(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:v},xform:tn})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:tn})}else throw new ji("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:kh})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:kh})}else throw new ji("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ma}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Ei(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:tn});if(await Ci(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ma}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(F(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:tn}),{data:l,error:d}=a;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ma}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await sr(this.storage,this.storageKey));const{error:h}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:d,error:u}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new ji("You must provide either an email or phone number.")}catch(a){if(F(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:tn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,d=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(s){if(F(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await sr(this.storage,this.storageKey)),await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:u_})}catch(i){if(F(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new en;const{error:s}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(F(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await V(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await V(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ji("You must provide either an email or phone number and a type")}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ei(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Da:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ln}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new en}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ln})})}catch(n){if(F(n))return M1(n)&&(await this._removeSession(),await Ci(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new en;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await sr(this.storage,this.storageKey));const{data:d,error:u}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ln});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new en;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Fa(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(F(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new en;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ot())throw new Ni("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ni(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new gh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ni("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gh("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:d}=e;if(!i||!a||!o||!d)throw new Ni("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const g=f-u;g*1e3<=cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const v=f-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,u);const{data:_,error:S}=await this._getUser(i);if(S)throw S;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(r){if(F(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ei(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(D1(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ci(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Y1(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await sr(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(F(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,d,u;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Ot()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(F(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await X1(async s=>(s>0&&await G1(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ua(i)&&Date.now()+o-r<cr})}catch(r){if(this._debug(n,"error",r),F(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ot()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ei(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Da;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Da}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Ua(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new en;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Xo;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new en;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),F(i)){const o={session:null,error:i};return Ua(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await lg(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ci(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),cr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${cr}ms, refresh threshold is ${oc} ticks`),s<=oc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof cg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await sr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await V(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:d}=await V(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(F(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(F(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Fa(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+L1>Date.now()))return r;const{data:s,error:i}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Cs("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new Cs("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return{data:null,error:v};r=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Fa(r);if(s_(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const d=i_(s.alg),u=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,V1(`${a}.${l}`)))throw new Cs("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}}Gs.nextInstanceID=0;const __=Gs;class k_ extends __{constructor(e){super(e)}}var b_=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};class S_{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=T1(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:_1,realtime:b1,auth:Object.assign(Object.assign({},k1),{storageKey:l}),global:x1},u=O1(r??{},d);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=E1(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Bx(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new vx(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new y1(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return b_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new k_({url:this.authUrl,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new r1(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const j_=(t,e,n)=>new S_(t,e,n),N_="https://xyqnzykzpijhhfxrgrqy.supabase.co",E_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5cW56eWt6cGlqaGhmeHJncnF5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ3OTQxNTUsImV4cCI6MjA2MDM3MDE1NX0.3IgnWODGOyhmpO4uG8ww5le3knT4zlaY4ezNGlbLTyw",cc=j_(N_,E_);function C_({onAddComment:t}){Nu();const[e,n]=x.useState(0),[r,s]=x.useState(!1),[i,o]=x.useState([]),[a,l]=x.useState(!0);x.useEffect(()=>{d()},[]),x.useEffect(()=>{if(i.length>0){const f=setInterval(()=>{s(!0),setTimeout(()=>{n(g=>(g+1)%i.length),s(!1)},500)},5e3);return()=>clearInterval(f)}},[i.length]);const d=async()=>{try{const{data:f,error:g}=await cc.from("testimonial_comments").select("*").order("created_at",{ascending:!1});if(g)throw g;o(f||[])}catch(f){console.error("Error fetching comments:",f)}finally{l(!1)}},u=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});if(a)return c.jsx("div",{className:"text-center py-12",children:c.jsxs("div",{className:"animate-pulse space-y-4",children:[c.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"}),c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mx-auto"}),c.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mx-auto"})]})});if(i.length===0)return c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[c.jsx(lh,{className:"w-12 h-12 text-blue-200 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"No testimonials yet. Be the first to share your experience!"}),c.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(Js,{className:"w-5 h-5"}),"Share Your Experience"]})]});const h=i[e];return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-8",children:[c.jsx("div",{className:"absolute top-4 right-4",children:c.jsx(lh,{className:"w-12 h-12 text-blue-200"})}),c.jsxs("div",{className:`transition-opacity duration-500 ${r?"opacity-0":"opacity-100"}`,children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-2xl font-semibold text-blue-600",children:h.user_name.charAt(0).toUpperCase()})}),c.jsxs("div",{children:[c.jsx("div",{className:"flex gap-1 mb-1",children:Array.from({length:h.rating}).map((f,g)=>c.jsx(ju,{className:"w-5 h-5 text-yellow-400 fill-current"},g))}),c.jsx("h3",{className:"font-semibold text-gray-900",children:h.user_name}),c.jsx("p",{className:"text-sm text-gray-600",children:u(h.created_at)})]})]}),c.jsxs("blockquote",{className:"text-lg text-gray-700 italic",children:['"',h.content,'"']})]}),c.jsx("div",{className:"flex justify-center mt-6 gap-2",children:i.map((f,g)=>c.jsx("button",{onClick:()=>{s(!0),setTimeout(()=>{n(g),s(!1)},500)},className:`w-2 h-2 rounded-full transition-all duration-300 ${g===e?"bg-blue-500 w-4":"bg-blue-200"}`},g))})]}),c.jsx("div",{className:"flex justify-center",children:c.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(Js,{className:"w-5 h-5"}),"Share Your Experience"]})})]})}function ug({isOpen:t,onClose:e,onSubmit:n}){const{t:r}=Nu(),[s,i]=x.useState(!1),[o,a]=x.useState(null),[l,d]=x.useState({action:[],landscape:[],inspect:[],renovate:[],repair:[],install:[],flip_a_house:[],remove:[],texture:[],powerwash:[],clean:[],replace:[],paint:[],build:[],location:[],time:[]}),[u,h]=x.useState({companyName:"",ownerName:"",email:"",phone:"",website:"",experience:0,services:"",description:"",selectedActions:[],selectedLandscapes:[],selectedInspects:[],selectedRenovates:[],selectedRepairs:[],selectedInstalls:[],selectedFlips:[],selectedRemoves:[],selectedTextures:[],selectedPowerwashes:[],selectedCleans:[],selectedReplaces:[],selectedPaints:[],selectedBuilds:[],selectedLocations:[],selectedTimes:[],image:null});x.useEffect(()=>{f()},[]);const f=async()=>{try{const p=await fetch("https://contractors-0q4c.onrender.com/api/search-options",{method:"GET",headers:{"Content-Type":"application/json"}});if(!p.ok)throw new Error("Failed to fetch category options");const w=(await p.json()).reduce((j,b)=>(j[b.category]||(j[b.category]=[]),j[b.category].push(b.value),j),{});d(w)}catch(p){console.error("Error fetching category options:",p)}},g=async p=>{p.preventDefault(),i(!0);try{const y=localStorage.getItem("auth_token");if(!y){alert("You need to log in to submit the form.");return}const w=new FormData;w.append("companyName",u.companyName),w.append("ownerName",u.ownerName),w.append("email",u.email),w.append("phone",u.phone),w.append("website",u.website),w.append("experience",u.experience.toString()),w.append("services",u.services),w.append("description",u.description),w.append("selectedActions",JSON.stringify(u.selectedActions)),w.append("selectedLandscapes",JSON.stringify(u.selectedLandscapes)),w.append("selectedInspects",JSON.stringify(u.selectedInspects)),w.append("selectedRenovates",JSON.stringify(u.selectedRenovates)),w.append("selectedRepairs",JSON.stringify(u.selectedRepairs)),w.append("selectedInstalls",JSON.stringify(u.selectedInstalls)),w.append("selectedFlips",JSON.stringify(u.selectedFlips)),w.append("selectedRemoves",JSON.stringify(u.selectedRemoves)),w.append("selectedTextures",JSON.stringify(u.selectedTextures)),w.append("selectedPowerwashes",JSON.stringify(u.selectedPowerwashes)),w.append("selectedCleans",JSON.stringify(u.selectedCleans)),w.append("selectedReplaces",JSON.stringify(u.selectedReplaces)),w.append("selectedPaints",JSON.stringify(u.selectedPaints)),w.append("selectedBuilds",JSON.stringify(u.selectedBuilds)),w.append("selectedLocations",JSON.stringify(u.selectedLocations)),w.append("selectedTimes",JSON.stringify(u.selectedTimes)),u.image&&w.append("image",u.image);const j=await fetch("https://contractors-0q4c.onrender.com/api/add/companies",{method:"POST",headers:{Authorization:`Bearer ${y}`},body:w});if(!j.ok){const b=await j.json();throw new Error(b.message||"Failed to submit form")}n(u),e(),h({companyName:"",ownerName:"",email:"",phone:"",website:"",experience:0,services:"",description:"",selectedActions:[],selectedLandscapes:[],selectedInspects:[],selectedRenovates:[],selectedRepairs:[],selectedInstalls:[],selectedFlips:[],selectedRemoves:[],selectedTextures:[],selectedPowerwashes:[],selectedCleans:[],selectedReplaces:[],selectedPaints:[],selectedBuilds:[],selectedLocations:[],selectedTimes:[],image:null})}catch(y){console.error("Error submitting form:",y)}finally{i(!1)}},v=p=>{const{name:y,value:w}=p.target;h(j=>({...j,[y]:w}))},_=p=>{var w;const y=(w=p.target.files)==null?void 0:w[0];if(y){h(b=>({...b,image:y}));const j=URL.createObjectURL(y);a(j)}},S=(p,y)=>{const j={action:"selectedActions",landscape:"selectedLandscapes",inspect:"selectedInspects",renovate:"selectedRenovates",repair:"selectedRepairs",install:"selectedInstalls",flip_a_house:"selectedFlips",remove:"selectedRemoves",texture:"selectedTextures",powerwash:"selectedPowerwashes",clean:"selectedCleans",replace:"selectedReplaces",paint:"selectedPaints",build:"selectedBuilds",location:"selectedLocations",time:"selectedTimes"}[p];h(b=>{const C=b[j],T=C.includes(y)?C.filter(D=>D!==y):[...C,y];return{...b,[j]:T}})};if(!t)return null;const m=(p,y)=>{const j={action:"selectedActions",landscape:"selectedLandscapes",inspect:"selectedInspects",renovate:"selectedRenovates",repair:"selectedRepairs",install:"selectedInstalls",flip_a_house:"selectedFlips",remove:"selectedRemoves",texture:"selectedTextures",powerwash:"selectedPowerwashes",clean:"selectedCleans",replace:"selectedReplaces",paint:"selectedPaints",build:"selectedBuilds",location:"selectedLocations",time:"selectedTimes"}[p],b=l[p]||[];return c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:y}),c.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(C=>c.jsx("button",{type:"button",onClick:()=>S(p,C),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${u[j].includes(C)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:C},C))})]})};return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white px-6 py-4 border-b flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold",children:r("contractorApplication.title")}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:c.jsx(si,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:g,className:"p-6",children:[c.jsx("div",{className:"mb-6",children:c.jsx("div",{className:"relative group",children:c.jsxs("div",{className:"aspect-video rounded-lg overflow-hidden bg-gray-100",children:[c.jsx("img",{src:o||"https://via.placeholder.com/300x200",alt:"Company preview",className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsxs("label",{className:"cursor-pointer flex flex-col items-center text-white",children:[c.jsx("span",{className:"text-sm",children:"Upload Image"}),c.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"hidden"})]})})]})})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700 mb-2",children:r("contractorApplication.form.companyName")}),c.jsx("input",{type:"text",id:"companyName",name:"companyName",value:u.companyName,onChange:v,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"ownerName",className:"block text-sm font-medium text-gray-700 mb-2",children:r("contractorApplication.form.ownerName")}),c.jsx("input",{type:"text",id:"ownerName",name:"ownerName",value:u.ownerName,onChange:v,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:r("contractorApplication.form.email")}),c.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:v,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:r("contractorApplication.form.phone")}),c.jsx("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:v,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 mb-2",children:r("contractorApplication.form.website")}),c.jsx("input",{type:"url",id:"website",name:"website",value:u.website,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"experience",className:"block text-sm font-medium text-gray-700 mb-2",children:r("contractorApplication.form.experience")}),c.jsx("input",{type:"number",id:"experience",name:"experience",value:u.experience,onChange:v,required:!0,min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),m("action","Select Actions"),m("landscape","Select Landscapes"),m("inspect","Select Inspects"),m("renovate","Select Renovates"),m("repair","Select Repairs"),m("install","Select Installs"),m("flip_a_house","Select Flip a House"),m("remove","Select Removes"),m("texture","Select Textures"),m("powerwash","Select Powerwashes"),m("clean","Select Cleans"),m("replace","Select Replaces"),m("paint","Select Paints"),m("build","Select Builds"),m("location","Select Locations"),m("time","Select Times"),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{htmlFor:"services",className:"block text-sm font-medium text-gray-700 mb-2",children:r("contractorApplication.form.services")}),c.jsx("input",{type:"text",id:"services",name:"services",value:u.services,onChange:v,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:r("contractorApplication.form.description")}),c.jsx("textarea",{id:"description",name:"description",value:u.description,onChange:v,required:!0,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("button",{type:"submit",disabled:s,className:`w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg transition-colors ${s?"opacity-75 cursor-not-allowed":"hover:bg-blue-700"}`,children:[s?c.jsx(_t,{className:"w-5 h-5 animate-spin"}):c.jsx(Am,{className:"w-5 h-5"}),r("contractorApplication.form.submit")]})]})]})})}function T_({isOpen:t,onClose:e,onSubmit:n}){const[r,s]=x.useState(!1),[i,o]=x.useState({userName:"",content:"",rating:5}),a=async l=>{l.preventDefault(),s(!0);try{await n(i),e(),o({userName:"",content:"",rating:5})}catch(d){console.error("Error:",d)}finally{s(!1)}};return t?c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg",children:[c.jsxs("div",{className:"px-6 py-4 border-b flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold",children:"Add Comment"}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:c.jsx(si,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:a,className:"p-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"userName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name"}),c.jsx("input",{type:"text",id:"userName",value:i.userName,onChange:l=>o({...i,userName:l.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"rating",className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),c.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(l=>c.jsx("button",{type:"button",onClick:()=>o({...i,rating:l}),className:"p-2",children:c.jsx(ju,{className:`w-6 h-6 ${l<=i.rating?"text-yellow-400 fill-current":"text-gray-300"}`})},l))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Comment"}),c.jsx("textarea",{id:"content",value:i.content,onChange:l=>o({...i,content:l.target.value}),required:!0,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),c.jsx("button",{type:"submit",disabled:r,className:`w-full mt-6 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg transition-colors ${r?"opacity-75 cursor-not-allowed":"hover:bg-blue-700"}`,children:r?c.jsx(_t,{className:"w-5 h-5 animate-spin"}):"Submit Comment"})]})]})}):null}function dg(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=dg(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ge(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=dg(t))&&(r&&(r+=" "),r+=e);return r}var uc=function(t,e){return uc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},uc(t,e)};function O_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");uc(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ke=function(){return ke=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ke.apply(this,arguments)};function P_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function or(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{d(r.next(u))}catch(h){o(h)}}function l(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(a,l)}d((r=r.apply(t,[])).next())})}function ar(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(d){return function(u){return l([d,u])}}function l(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(r=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(u){d=[6,u],s=0}finally{r=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function It(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n}var Un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Iu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ru(t,e){return t(e={exports:{}},e.exports),e.exports}var $n=Ru(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function r(){var s=this;this.locked=new Map,this.addToLocked=function(i,o){var a=s.locked.get(i);a===void 0?o===void 0?s.locked.set(i,[]):s.locked.set(i,[o]):o!==void 0&&(a.unshift(o),s.locked.set(i,a))},this.isLocked=function(i){return s.locked.has(i)},this.lock=function(i){return new Promise(function(o,a){s.isLocked(i)?s.addToLocked(i,o):(s.addToLocked(i),o())})},this.unlock=function(i){var o=s.locked.get(i);if(o!==void 0&&o.length!==0){var a=o.pop();s.locked.set(i,o),a!==void 0&&setTimeout(a,0)}else s.locked.delete(i)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r}();e.default=function(){return n.getInstance()}});Iu($n);var I_=Iu(Ru(function(t,e){var n=Un&&Un.__awaiter||function(u,h,f,g){return new(f||(f=Promise))(function(v,_){function S(y){try{p(g.next(y))}catch(w){_(w)}}function m(y){try{p(g.throw(y))}catch(w){_(w)}}function p(y){y.done?v(y.value):new f(function(w){w(y.value)}).then(S,m)}p((g=g.apply(u,h||[])).next())})},r=Un&&Un.__generator||function(u,h){var f,g,v,_,S={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return _={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function m(p){return function(y){return function(w){if(f)throw new TypeError("Generator is already executing.");for(;S;)try{if(f=1,g&&(v=2&w[0]?g.return:w[0]?g.throw||((v=g.return)&&v.call(g),0):g.next)&&!(v=v.call(g,w[1])).done)return v;switch(g=0,v&&(w=[2&w[0],v.value]),w[0]){case 0:case 1:v=w;break;case 4:return S.label++,{value:w[1],done:!1};case 5:S.label++,g=w[1],w=[0];continue;case 7:w=S.ops.pop(),S.trys.pop();continue;default:if(v=S.trys,!((v=v.length>0&&v[v.length-1])||w[0]!==6&&w[0]!==2)){S=0;continue}if(w[0]===3&&(!v||w[1]>v[0]&&w[1]<v[3])){S.label=w[1];break}if(w[0]===6&&S.label<v[1]){S.label=v[1],v=w;break}if(v&&S.label<v[2]){S.label=v[2],S.ops.push(w);break}v[2]&&S.ops.pop(),S.trys.pop();continue}w=h.call(u,S)}catch(j){w=[6,j],g=0}finally{f=v=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([p,y])}}},s=Un;Object.defineProperty(e,"__esModule",{value:!0});var i="browser-tabs-lock-key",o={key:function(u){return n(s,void 0,void 0,function(){return r(this,function(h){throw new Error("Unsupported")})})},getItem:function(u){return n(s,void 0,void 0,function(){return r(this,function(h){throw new Error("Unsupported")})})},clear:function(){return n(s,void 0,void 0,function(){return r(this,function(u){return[2,window.localStorage.clear()]})})},removeItem:function(u){return n(s,void 0,void 0,function(){return r(this,function(h){throw new Error("Unsupported")})})},setItem:function(u,h){return n(s,void 0,void 0,function(){return r(this,function(f){throw new Error("Unsupported")})})},keySync:function(u){return window.localStorage.key(u)},getItemSync:function(u){return window.localStorage.getItem(u)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(u){return window.localStorage.removeItem(u)},setItemSync:function(u,h){return window.localStorage.setItem(u,h)}};function a(u){return new Promise(function(h){return setTimeout(h,u)})}function l(u){for(var h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",f="",g=0;g<u;g++)f+=h[Math.floor(Math.random()*h.length)];return f}var d=function(){function u(h){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=h,u.waiters===void 0&&(u.waiters=[])}return u.prototype.acquireLock=function(h,f){return f===void 0&&(f=5e3),n(this,void 0,void 0,function(){var g,v,_,S,m,p,y;return r(this,function(w){switch(w.label){case 0:g=Date.now()+l(4),v=Date.now()+f,_=i+"-"+h,S=this.storageHandler===void 0?o:this.storageHandler,w.label=1;case 1:return Date.now()<v?[4,a(30)]:[3,8];case 2:return w.sent(),S.getItemSync(_)!==null?[3,5]:(m=this.id+"-"+h+"-"+g,[4,a(Math.floor(25*Math.random()))]);case 3:return w.sent(),S.setItemSync(_,JSON.stringify({id:this.id,iat:g,timeoutKey:m,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,a(30)];case 4:return w.sent(),(p=S.getItemSync(_))!==null&&(y=JSON.parse(p)).id===this.id&&y.iat===g?(this.acquiredIatSet.add(g),this.refreshLockWhileAcquired(_,g),[2,!0]):[3,7];case 5:return u.lockCorrector(this.storageHandler===void 0?o:this.storageHandler),[4,this.waitForSomethingToChange(v)];case 6:w.sent(),w.label=7;case 7:return g=Date.now()+l(4),[3,1];case 8:return[2,!1]}})})},u.prototype.refreshLockWhileAcquired=function(h,f){return n(this,void 0,void 0,function(){var g=this;return r(this,function(v){return setTimeout(function(){return n(g,void 0,void 0,function(){var _,S,m;return r(this,function(p){switch(p.label){case 0:return[4,$n.default().lock(f)];case 1:return p.sent(),this.acquiredIatSet.has(f)?(_=this.storageHandler===void 0?o:this.storageHandler,(S=_.getItemSync(h))===null?($n.default().unlock(f),[2]):((m=JSON.parse(S)).timeRefreshed=Date.now(),_.setItemSync(h,JSON.stringify(m)),$n.default().unlock(f),this.refreshLockWhileAcquired(h,f),[2])):($n.default().unlock(f),[2])}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(h){return n(this,void 0,void 0,function(){return r(this,function(f){switch(f.label){case 0:return[4,new Promise(function(g){var v=!1,_=Date.now(),S=!1;function m(){if(S||(window.removeEventListener("storage",m),u.removeFromWaiting(m),clearTimeout(p),S=!0),!v){v=!0;var y=50-(Date.now()-_);y>0?setTimeout(g,y):g(null)}}window.addEventListener("storage",m),u.addToWaiting(m);var p=setTimeout(m,Math.max(0,h-Date.now()))})];case 1:return f.sent(),[2]}})})},u.addToWaiting=function(h){this.removeFromWaiting(h),u.waiters!==void 0&&u.waiters.push(h)},u.removeFromWaiting=function(h){u.waiters!==void 0&&(u.waiters=u.waiters.filter(function(f){return f!==h}))},u.notifyWaiters=function(){u.waiters!==void 0&&u.waiters.slice().forEach(function(h){return h()})},u.prototype.releaseLock=function(h){return n(this,void 0,void 0,function(){return r(this,function(f){switch(f.label){case 0:return[4,this.releaseLock__private__(h)];case 1:return[2,f.sent()]}})})},u.prototype.releaseLock__private__=function(h){return n(this,void 0,void 0,function(){var f,g,v,_;return r(this,function(S){switch(S.label){case 0:return f=this.storageHandler===void 0?o:this.storageHandler,g=i+"-"+h,(v=f.getItemSync(g))===null?[2]:(_=JSON.parse(v)).id!==this.id?[3,2]:[4,$n.default().lock(_.iat)];case 1:S.sent(),this.acquiredIatSet.delete(_.iat),f.removeItemSync(g),$n.default().unlock(_.iat),u.notifyWaiters(),S.label=2;case 2:return[2]}})})},u.lockCorrector=function(h){for(var f=Date.now()-5e3,g=h,v=[],_=0;;){var S=g.keySync(_);if(S===null)break;v.push(S),_++}for(var m=!1,p=0;p<v.length;p++){var y=v[p];if(y.includes(i)){var w=g.getItemSync(y);if(w!==null){var j=JSON.parse(w);(j.timeRefreshed===void 0&&j.timeAcquired<f||j.timeRefreshed!==void 0&&j.timeRefreshed<f)&&(g.removeItemSync(y),m=!0)}}}m&&u.notifyWaiters()},u.waiters=void 0,u}();e.default=d}));const R_={timeoutInSeconds:60},hg={name:"auth0-spa-js",version:"2.1.3"},fg=()=>Date.now();let Xe=class dc extends Error{constructor(e,n){super(n),this.error=e,this.error_description=n,Object.setPrototypeOf(this,dc.prototype)}static fromPayload({error:e,error_description:n}){return new dc(e,n)}},A_=class pg extends Xe{constructor(e,n,r,s=null){super(e,n),this.state=r,this.appState=s,Object.setPrototypeOf(this,pg.prototype)}},hc=class mg extends Xe{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,mg.prototype)}},L_=class gg extends hc{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,gg.prototype)}},$_=class yg extends Xe{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,yg.prototype)}},D_=class vg extends Xe{constructor(e,n,r){super(e,n),this.mfa_token=r,Object.setPrototypeOf(this,vg.prototype)}},wg=class xg extends Xe{constructor(e,n){super("missing_refresh_token",`Missing Refresh Token (audience: '${jh(e,["default"])}', scope: '${jh(n)}')`),this.audience=e,this.scope=n,Object.setPrototypeOf(this,xg.prototype)}};function jh(t,e=[]){return t&&!e.includes(t)?t:""}const Yi=()=>window.crypto,za=()=>{const t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(Yi().getRandomValues(new Uint8Array(43))).forEach(n=>e+=t[n%t.length]),e},Nh=t=>btoa(t),fc=t=>{var{clientId:e}=t,n=It(t,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter(s=>r[s]!==void 0).reduce((s,i)=>Object.assign(Object.assign({},s),{[i]:r[i]}),{}))(Object.assign({client_id:e},n))).toString()},Eh=t=>(e=>decodeURIComponent(atob(e).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join("")))(t.replace(/_/g,"/").replace(/-/g,"+")),M_=async(t,e)=>{const n=await fetch(t,e);return{ok:n.ok,json:await n.json()}},U_=async(t,e,n)=>{const r=new AbortController;let s;return e.signal=r.signal,Promise.race([M_(t,e),new Promise((i,o)=>{s=setTimeout(()=>{r.abort(),o(new Error("Timeout when executing 'fetch'"))},n)})]).finally(()=>{clearTimeout(s)})},F_=async(t,e,n,r,s,i,o)=>{return a={auth:{audience:e,scope:n},timeout:s,fetchUrl:t,fetchOptions:r,useFormData:o},l=i,new Promise(function(d,u){const h=new MessageChannel;h.port1.onmessage=function(f){f.data.error?u(new Error(f.data.error)):d(f.data),h.port1.close()},l.postMessage(a,[h.port2])});var a,l},z_=async(t,e,n,r,s,i,o=1e4)=>s?F_(t,e,n,r,o,s,i):U_(t,r,o);async function B_(t,e){var{baseUrl:n,timeout:r,audience:s,scope:i,auth0Client:o,useFormData:a}=t,l=It(t,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const d=a?fc(l):JSON.stringify(l);return await async function(u,h,f,g,v,_,S){let m,p=null;for(let T=0;T<3;T++)try{m=await z_(u,f,g,v,_,S,h),p=null;break}catch(D){p=D}if(p)throw p;const y=m.json,{error:w,error_description:j}=y,b=It(y,["error","error_description"]),{ok:C}=m;if(!C){const T=j||`HTTP error. Unable to fetch ${u}`;throw w==="mfa_required"?new D_(w,T,b.mfa_token):w==="missing_refresh_token"?new wg(f,g):new Xe(w||"request_error",T)}return b}(`${n}/oauth/token`,r,s||"default",i,{method:"POST",body:d,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(o||hg))}},e,a)}const Ti=(...t)=>{return(e=t.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e};let Wn=class pc{constructor(e,n="@@auth0spajs@@",r){this.prefix=n,this.suffix=r,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[n,r,s,i]=e.split("::");return new pc({clientId:r,scope:i,audience:s},n)}static fromCacheEntry(e){const{scope:n,audience:r,client_id:s}=e;return new pc({scope:n,audience:r,clientId:s})}};class W_{set(e,n){localStorage.setItem(e,JSON.stringify(n))}get(e){const n=window.localStorage.getItem(e);if(n)try{return JSON.parse(n)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}}class _g{constructor(){this.enclosedCache=function(){let e={};return{set(n,r){e[n]=r},get(n){const r=e[n];if(r)return r},remove(n){delete e[n]},allKeys:()=>Object.keys(e)}}()}}let H_=class{constructor(e,n,r){this.cache=e,this.keyManifest=n,this.nowProvider=r||fg}async setIdToken(e,n,r){var s;const i=this.getIdTokenCacheKey(e);await this.cache.set(i,{id_token:n,decodedToken:r}),await((s=this.keyManifest)===null||s===void 0?void 0:s.add(i))}async getIdToken(e){const n=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!n&&e.scope&&e.audience){const r=await this.get(e);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(n)return{id_token:n.id_token,decodedToken:n.decodedToken}}async get(e,n=0){var r;let s=await this.cache.get(e.toKey());if(!s){const a=await this.getCacheKeys();if(!a)return;const l=this.matchExistingCacheKey(e,a);l&&(s=await this.cache.get(l))}if(!s)return;const i=await this.nowProvider(),o=Math.floor(i/1e3);return s.expiresAt-n<o?s.body.refresh_token?(s.body={refresh_token:s.body.refresh_token},await this.cache.set(e.toKey(),s),s.body):(await this.cache.remove(e.toKey()),void await((r=this.keyManifest)===null||r===void 0?void 0:r.remove(e.toKey()))):s.body}async set(e){var n;const r=new Wn({clientId:e.client_id,scope:e.scope,audience:e.audience}),s=await this.wrapCacheEntry(e);await this.cache.set(r.toKey(),s),await((n=this.keyManifest)===null||n===void 0?void 0:n.add(r.toKey()))}async clear(e){var n;const r=await this.getCacheKeys();r&&(await r.filter(s=>!e||s.includes(e)).reduce(async(s,i)=>{await s,await this.cache.remove(i)},Promise.resolve()),await((n=this.keyManifest)===null||n===void 0?void 0:n.clear()))}async wrapCacheEntry(e){const n=await this.nowProvider();return{body:e,expiresAt:Math.floor(n/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new Wn({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,n){return n.filter(r=>{var s;const i=Wn.fromKey(r),o=new Set(i.scope&&i.scope.split(" ")),a=((s=e.scope)===null||s===void 0?void 0:s.split(" "))||[],l=i.scope&&a.reduce((d,u)=>d&&o.has(u),!0);return i.prefix==="@@auth0spajs@@"&&i.clientId===e.clientId&&i.audience===e.audience&&l})[0]}};class V_{constructor(e,n,r){this.storage=e,this.clientId=n,this.cookieDomain=r,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const is=t=>typeof t=="number",q_=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],Y_=t=>{if(!t.id_token)throw new Error("ID token is required but missing");const e=(i=>{const o=i.split("."),[a,l,d]=o;if(o.length!==3||!a||!l||!d)throw new Error("ID token could not be decoded");const u=JSON.parse(Eh(l)),h={__raw:i},f={};return Object.keys(u).forEach(g=>{h[g]=u[g],q_.includes(g)||(f[g]=u[g])}),{encoded:{header:a,payload:l,signature:d},header:JSON.parse(Eh(a)),claims:h,user:f}})(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${t.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${t.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${t.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==t.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${t.aud}" but found "${e.claims.aud}"`);if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${t.nonce}", found "${e.claims.nonce}"`)}if(t.max_age&&!is(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!is(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!is(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const n=t.leeway||60,r=new Date(t.now||Date.now()),s=new Date(0);if(s.setUTCSeconds(e.claims.exp+n),r>s)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${r}) is after expiration time (${s})`);if(e.claims.nbf!=null&&is(e.claims.nbf)){const i=new Date(0);if(i.setUTCSeconds(e.claims.nbf-n),r<i)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${r}) is before ${i}`)}if(e.claims.auth_time!=null&&is(e.claims.auth_time)){const i=new Date(0);if(i.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+n),r>i)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${r}) is after last auth at ${i}`)}if(t.organization){const i=t.organization.trim();if(i.startsWith("org_")){const o=i;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(o!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${o}", found "${e.claims.org_id}"`)}else{const o=i.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(o!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${o}", found "${e.claims.org_name}"`)}}return e};var Hn=Ru(function(t,e){var n=Un&&Un.__assign||function(){return n=Object.assign||function(l){for(var d,u=1,h=arguments.length;u<h;u++)for(var f in d=arguments[u])Object.prototype.hasOwnProperty.call(d,f)&&(l[f]=d[f]);return l},n.apply(this,arguments)};function r(l,d){if(!d)return"";var u="; "+l;return d===!0?u:u+"="+d}function s(l,d,u){return encodeURIComponent(l).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(d).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(h){if(typeof h.expires=="number"){var f=new Date;f.setMilliseconds(f.getMilliseconds()+864e5*h.expires),h.expires=f}return r("Expires",h.expires?h.expires.toUTCString():"")+r("Domain",h.domain)+r("Path",h.path)+r("Secure",h.secure)+r("SameSite",h.sameSite)}(u)}function i(l){for(var d={},u=l?l.split("; "):[],h=/(%[\dA-F]{2})+/gi,f=0;f<u.length;f++){var g=u[f].split("="),v=g.slice(1).join("=");v.charAt(0)==='"'&&(v=v.slice(1,-1));try{d[g[0].replace(h,decodeURIComponent)]=v.replace(h,decodeURIComponent)}catch{}}return d}function o(){return i(document.cookie)}function a(l,d,u){document.cookie=s(l,d,n({path:"/"},u))}e.__esModule=!0,e.encode=s,e.parse=i,e.getAll=o,e.get=function(l){return o()[l]},e.set=a,e.remove=function(l,d){a(l,"",n(n({},d),{expires:-1}))}});Iu(Hn),Hn.encode,Hn.parse,Hn.getAll;var K_=Hn.get,kg=Hn.set,bg=Hn.remove;const ur={get(t){const e=K_(t);if(e!==void 0)return JSON.parse(e)},save(t,e,n){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),n!=null&&n.daysUntilExpire&&(r.expires=n.daysUntilExpire),n!=null&&n.cookieDomain&&(r.domain=n.cookieDomain),kg(t,JSON.stringify(e),r)},remove(t,e){let n={};e!=null&&e.cookieDomain&&(n.domain=e.cookieDomain),bg(t,n)}},J_={get(t){return ur.get(t)||ur.get(`_legacy_${t}`)},save(t,e,n){let r={};window.location.protocol==="https:"&&(r={secure:!0}),n!=null&&n.daysUntilExpire&&(r.expires=n.daysUntilExpire),n!=null&&n.cookieDomain&&(r.domain=n.cookieDomain),kg(`_legacy_${t}`,JSON.stringify(e),r),ur.save(t,e,n)},remove(t,e){let n={};e!=null&&e.cookieDomain&&(n.domain=e.cookieDomain),bg(t,n),ur.remove(t,e),ur.remove(`_legacy_${t}`,e)}},G_={get(t){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(t);return e!=null?JSON.parse(e):void 0},save(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove(t){sessionStorage.removeItem(t)}};function X_(t,e,n){var r=e===void 0?null:e,s=function(l,d){var u=atob(l);if(d){for(var h=new Uint8Array(u.length),f=0,g=u.length;f<g;++f)h[f]=u.charCodeAt(f);return String.fromCharCode.apply(null,new Uint16Array(h.buffer))}return u}(t,n!==void 0&&n),i=s.indexOf(`
`,10)+1,o=s.substring(i)+(r?"//# sourceMappingURL="+r:""),a=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(a)}var Ch,Th,Oh,Ba,Z_=(Ch="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",Th=null,Oh=!1,function(t){return Ba=Ba||X_(Ch,Th,Oh),new Worker(Ba,t)});const Wa={};class Q_{constructor(e,n){this.cache=e,this.clientId=n,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var n;const r=new Set(((n=await this.cache.get(this.manifestKey))===null||n===void 0?void 0:n.keys)||[]);r.add(e),await this.cache.set(this.manifestKey,{keys:[...r]})}async remove(e){const n=await this.cache.get(this.manifestKey);if(n){const r=new Set(n.keys);return r.delete(e),r.size>0?await this.cache.set(this.manifestKey,{keys:[...r]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}}const ek={memory:()=>new _g().enclosedCache,localstorage:()=>new W_},Ph=t=>ek[t],Ih=t=>{const{openUrl:e,onRedirect:n}=t,r=It(t,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:e===!1||e?e:n})},Ha=new I_;class tk{constructor(e){let n,r;if(this.userCache=new _g().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await Ha.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!Yi())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(Yi().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)r=e.cache;else{if(n=e.cacheLocation||"memory",!Ph(n))throw new Error(`Invalid cache location "${n}"`);r=Ph(n)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?ur:J_,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(o=>`auth0.${o}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const s=e.useCookiesForTransactions?this.cookieStorage:G_;var i;this.scope=Ti("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new V_(s,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||fg,this.cacheManager=new H_(r,r.allKeys?void 0:new Q_(r,this.options.clientId),this.nowProvider),this.domainUrl=(i=this.options.domain,/^https?:\/\//.test(i)?i:`https://${i}`),this.tokenIssuer=((o,a)=>o?o.startsWith("https://")?o:`https://${o}/`:`${a}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&n==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new Z_)}_url(e){const n=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||hg)));return`${this.domainUrl}${e}&auth0Client=${n}`}_authorizeUrl(e){return this._url(`/authorize?${fc(e)}`)}async _verifyIdToken(e,n,r){const s=await this.nowProvider();return Y_({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:n,organization:r,leeway:this.options.leeway,max_age:(i=this.options.authorizationParams.max_age,typeof i!="string"?i:parseInt(i,10)||void 0),now:s});var i}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,n,r){const s=Nh(za()),i=Nh(za()),o=za(),a=(u=>{const h=new Uint8Array(u);return(f=>{const g={"+":"-","/":"_","=":""};return f.replace(/[+/=]/g,v=>g[v])})(window.btoa(String.fromCharCode(...Array.from(h))))})(await(async u=>await Yi().subtle.digest({name:"SHA-256"},new TextEncoder().encode(u)))(o)),l=((u,h,f,g,v,_,S,m)=>Object.assign(Object.assign(Object.assign({client_id:u.clientId},u.authorizationParams),f),{scope:Ti(h,f.scope),response_type:"code",response_mode:m||"query",state:g,nonce:v,redirect_uri:S||u.authorizationParams.redirect_uri,code_challenge:_,code_challenge_method:"S256"}))(this.options,this.scope,e,s,i,a,e.redirect_uri||this.options.authorizationParams.redirect_uri||r,n==null?void 0:n.response_mode),d=this._authorizeUrl(l);return{nonce:i,code_verifier:o,scope:l.scope,audience:l.audience||"default",redirect_uri:l.redirect_uri,state:s,url:d}}async loginWithPopup(e,n){var r;if(e=e||{},!(n=n||{}).popup&&(n.popup=(a=>{const l=window.screenX+(window.innerWidth-400)/2,d=window.screenY+(window.innerHeight-600)/2;return window.open(a,"auth0:authorize:popup",`left=${l},top=${d},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!n.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const s=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);n.popup.location.href=s.url;const i=await(a=>new Promise((l,d)=>{let u;const h=setInterval(()=>{a.popup&&a.popup.closed&&(clearInterval(h),clearTimeout(f),window.removeEventListener("message",u,!1),d(new $_(a.popup)))},1e3),f=setTimeout(()=>{clearInterval(h),d(new L_(a.popup)),window.removeEventListener("message",u,!1)},1e3*(a.timeoutInSeconds||60));u=function(g){if(g.data&&g.data.type==="authorization_response"){if(clearTimeout(f),clearInterval(h),window.removeEventListener("message",u,!1),a.popup.close(),g.data.response.error)return d(Xe.fromPayload(g.data.response));l(g.data.response)}},window.addEventListener("message",u)}))(Object.assign(Object.assign({},n),{timeoutInSeconds:n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(s.state!==i.state)throw new Xe("state_mismatch","Invalid state");const o=((r=e.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:s.audience,scope:s.scope,code_verifier:s.code_verifier,grant_type:"authorization_code",code:i.code,redirect_uri:s.redirect_uri},{nonceIn:s.nonce,organization:o})}async getUser(){var e;const n=await this._getIdTokenFromCache();return(e=n==null?void 0:n.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const n=await this._getIdTokenFromCache();return(e=n==null?void 0:n.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var n;const r=Ih(e),{openUrl:s,fragment:i,appState:o}=r,a=It(r,["openUrl","fragment","appState"]),l=((n=a.authorizationParams)===null||n===void 0?void 0:n.organization)||this.options.authorizationParams.organization,d=await this._prepareAuthorizeUrl(a.authorizationParams||{}),{url:u}=d,h=It(d,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},h),{appState:o}),l&&{organization:l}));const f=i?`${u}#${i}`:u;s?await s(f):window.location.assign(f)}async handleRedirectCallback(e=window.location.href){const n=e.split("?").slice(1);if(n.length===0)throw new Error("There are no query params available for parsing.");const{state:r,code:s,error:i,error_description:o}=(h=>{h.indexOf("#")>-1&&(h=h.substring(0,h.indexOf("#")));const f=new URLSearchParams(h);return{state:f.get("state"),code:f.get("code")||void 0,error:f.get("error")||void 0,error_description:f.get("error_description")||void 0}})(n.join("")),a=this.transactionManager.get();if(!a)throw new Xe("missing_transaction","Invalid state");if(this.transactionManager.remove(),i)throw new A_(i,o||i,r,a.appState);if(!a.code_verifier||a.state&&a.state!==r)throw new Xe("state_mismatch","Invalid state");const l=a.organization,d=a.nonce,u=a.redirect_uri;return await this._requestToken(Object.assign({audience:a.audience,scope:a.scope,code_verifier:a.code_verifier,grant_type:"authorization_code",code:s},u?{redirect_uri:u}:{}),{nonceIn:d,organization:l}),{appState:a.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch{}}async getTokenSilently(e={}){var n;const r=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:Ti(this.scope,(n=e.authorizationParams)===null||n===void 0?void 0:n.scope)})}),s=await((i,o)=>{let a=Wa[o];return a||(a=i().finally(()=>{delete Wa[o],a=null}),Wa[o]=a),a})(()=>this._getTokenSilently(r),`${this.options.clientId}::${r.authorizationParams.audience}::${r.authorizationParams.scope}`);return e.detailedResponse?s:s==null?void 0:s.access_token}async _getTokenSilently(e){const{cacheMode:n}=e,r=It(e,["cacheMode"]);if(n!=="off"){const s=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(s)return s}if(n!=="cache-only"){if(!await(async(s,i=3)=>{for(let o=0;o<i;o++)if(await s())return!0;return!1})(()=>Ha.acquireLock("auth0.lock.getTokenSilently",5e3),10))throw new hc;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),n!=="off"){const d=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(d)return d}const s=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(r):await this._getTokenFromIFrame(r),{id_token:i,access_token:o,oauthTokenScope:a,expires_in:l}=s;return Object.assign(Object.assign({id_token:i,access_token:o},a?{scope:a}:null),{expires_in:l})}finally{await Ha.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},n={}){var r;const s=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:Ti(this.scope,(r=e.authorizationParams)===null||r===void 0?void 0:r.scope)})});return n=Object.assign(Object.assign({},R_),n),await this.loginWithPopup(s,n),(await this.cacheManager.get(new Wn({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const n=e.logoutParams||{},{federated:r}=n,s=It(n,["federated"]),i=r?"&federated":"";return this._url(`/v2/logout?${fc(Object.assign({clientId:e.clientId},s))}`)+i}async logout(e={}){const n=Ih(e),{openUrl:r}=n,s=It(n,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const i=this._buildLogoutUrl(s);r?await r(i):r!==!1&&window.location.assign(i)}async _getTokenFromIFrame(e){const n=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!n.organization&&(n.organization=r);const{url:s,state:i,nonce:o,code_verifier:a,redirect_uri:l,scope:d,audience:u}=await this._prepareAuthorizeUrl(n,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Xe("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const h=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,f=await((v,_,S=60)=>new Promise((m,p)=>{const y=window.document.createElement("iframe");y.setAttribute("width","0"),y.setAttribute("height","0"),y.style.display="none";const w=()=>{window.document.body.contains(y)&&(window.document.body.removeChild(y),window.removeEventListener("message",j,!1))};let j;const b=setTimeout(()=>{p(new hc),w()},1e3*S);j=function(C){if(C.origin!=_||!C.data||C.data.type!=="authorization_response")return;const T=C.source;T&&T.close(),C.data.response.error?p(Xe.fromPayload(C.data.response)):m(C.data.response),clearTimeout(b),window.removeEventListener("message",j,!1),setTimeout(w,2e3)},window.addEventListener("message",j,!1),window.document.body.appendChild(y),y.setAttribute("src",v)}))(s,this.domainUrl,h);if(i!==f.state)throw new Xe("state_mismatch","Invalid state");const g=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:a,code:f.code,grant_type:"authorization_code",redirect_uri:l,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:o,organization:n.organization});return Object.assign(Object.assign({},g),{scope:d,oauthTokenScope:g.scope,audience:u})}catch(h){throw h.error==="login_required"&&this.logout({openUrl:!1}),h}}async _getTokenUsingRefreshToken(e){const n=await this.cacheManager.get(new Wn({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(n&&n.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new wg(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const r=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,s=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null;try{const i=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:n&&n.refresh_token,redirect_uri:r}),s&&{timeout:s}));return Object.assign(Object.assign({},i),{scope:e.authorizationParams.scope,oauthTokenScope:i.scope,audience:e.authorizationParams.audience||"default"})}catch(i){if((i.message.indexOf("Missing Refresh Token")>-1||i.message&&i.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw i}}async _saveEntryInCache(e){const{id_token:n,decodedToken:r}=e,s=It(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:n,decodedToken:r}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(s)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",n=await this.cacheManager.getIdToken(new Wn({clientId:this.options.clientId,audience:e,scope:this.scope})),r=this.userCache.get("@@user@@");return n&&n.id_token===(r==null?void 0:r.id_token)?r:(this.userCache.set("@@user@@",n),n)}async _getEntryFromCache({scope:e,audience:n,clientId:r}){const s=await this.cacheManager.get(new Wn({scope:e,audience:n,clientId:r}),60);if(s&&s.access_token){const{access_token:i,oauthTokenScope:o,expires_in:a}=s,l=await this._getIdTokenFromCache();return l&&Object.assign(Object.assign({id_token:l.id_token,access_token:i},o?{scope:o}:null),{expires_in:a})}}async _requestToken(e,n){const{nonceIn:r,organization:s}=n||{},i=await B_(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),o=await this._verifyIdToken(i.id_token,r,s);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},i),{decodedToken:o,scope:e.scope,audience:e.audience||"default"}),i.scope?{oauthTokenScope:i.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(s||o.claims.org_id),Object.assign(Object.assign({},i),{decodedToken:o})}}var Sg={isAuthenticated:!1,isLoading:!0},Mt=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},nk=ke(ke({},Sg),{buildAuthorizeUrl:Mt,buildLogoutUrl:Mt,getAccessTokenSilently:Mt,getAccessTokenWithPopup:Mt,getIdTokenClaims:Mt,loginWithRedirect:Mt,loginWithPopup:Mt,logout:Mt,handleRedirectCallback:Mt}),jg=x.createContext(nk),Rh=function(t){O_(e,t);function e(n,r){var s=t.call(this,r||n)||this;return s.error=n,s.error_description=r,Object.setPrototypeOf(s,e.prototype),s}return e}(Error),rk=/[?&]code=[^&]+/,sk=/[?&]state=[^&]+/,ik=/[?&]error=[^&]+/,ok=function(t){return t===void 0&&(t=window.location.search),(rk.test(t)||ik.test(t))&&sk.test(t)},Ng=function(t){return function(e){return e instanceof Error?e:e!==null&&typeof e=="object"&&"error"in e&&typeof e.error=="string"?"error_description"in e&&typeof e.error_description=="string"?new Rh(e.error,e.error_description):new Rh(e.error):new Error(t)}},Ah=Ng("Login failed"),Va=Ng("Get access token failed"),Eg=function(t){var e;t!=null&&t.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),t.authorizationParams=t.authorizationParams||{},t.authorizationParams.redirect_uri=t.redirectUri,delete t.redirectUri),!((e=t==null?void 0:t.authorizationParams)===null||e===void 0)&&e.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),t.authorizationParams.redirect_uri=t.authorizationParams.redirectUri,delete t.authorizationParams.redirectUri)},ak=function(t,e){switch(e.type){case"LOGIN_POPUP_STARTED":return ke(ke({},t),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return ke(ke({},t),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return t.user===e.user?t:ke(ke({},t),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return ke(ke({},t),{isAuthenticated:!1,user:void 0});case"ERROR":return ke(ke({},t),{isLoading:!1,error:e.error})}},lk=function(t){return Eg(t),ke(ke({},t),{auth0Client:{name:"auth0-react",version:"2.3.0"}})},ck=function(t){window.history.replaceState({},document.title,(t==null?void 0:t.returnTo)||window.location.pathname)},uk=function(t){var e=t.children,n=t.skipRedirectCallback,r=t.onRedirectCallback,s=r===void 0?ck:r,i=t.context,o=i===void 0?jg:i,a=P_(t,["children","skipRedirectCallback","onRedirectCallback","context"]),l=x.useState(function(){return new tk(lk(a))})[0],d=x.useReducer(ak,Sg),u=d[0],h=d[1],f=x.useRef(!1),g=x.useCallback(function(b){return h({type:"ERROR",error:b}),b},[]);x.useEffect(function(){f.current||(f.current=!0,function(){return or(void 0,void 0,void 0,function(){var b,C,T;return ar(this,function(D){switch(D.label){case 0:return D.trys.push([0,7,,8]),b=void 0,ok()&&!n?[4,l.handleRedirectCallback()]:[3,3];case 1:return C=D.sent().appState,[4,l.getUser()];case 2:return b=D.sent(),s(C,b),[3,6];case 3:return[4,l.checkSession()];case 4:return D.sent(),[4,l.getUser()];case 5:b=D.sent(),D.label=6;case 6:return h({type:"INITIALISED",user:b}),[3,8];case 7:return T=D.sent(),g(Ah(T)),[3,8];case 8:return[2]}})})}())},[l,s,n,g]);var v=x.useCallback(function(b){return Eg(b),l.loginWithRedirect(b)},[l]),_=x.useCallback(function(b,C){return or(void 0,void 0,void 0,function(){var T,D;return ar(this,function(A){switch(A.label){case 0:h({type:"LOGIN_POPUP_STARTED"}),A.label=1;case 1:return A.trys.push([1,3,,4]),[4,l.loginWithPopup(b,C)];case 2:return A.sent(),[3,4];case 3:return T=A.sent(),g(Ah(T)),[2];case 4:return[4,l.getUser()];case 5:return D=A.sent(),h({type:"LOGIN_POPUP_COMPLETE",user:D}),[2]}})})},[l]),S=x.useCallback(function(b){return b===void 0&&(b={}),or(void 0,void 0,void 0,function(){return ar(this,function(C){switch(C.label){case 0:return[4,l.logout(b)];case 1:return C.sent(),(b.openUrl||b.openUrl===!1)&&h({type:"LOGOUT"}),[2]}})})},[l]),m=x.useCallback(function(b){return or(void 0,void 0,void 0,function(){var C,T,D,A;return ar(this,function(J){switch(J.label){case 0:return J.trys.push([0,2,3,5]),[4,l.getTokenSilently(b)];case 1:return C=J.sent(),[3,5];case 2:throw T=J.sent(),Va(T);case 3:return D=h,A={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return D.apply(void 0,[(A.user=J.sent(),A)]),[7];case 5:return[2,C]}})})},[l]),p=x.useCallback(function(b,C){return or(void 0,void 0,void 0,function(){var T,D,A,J;return ar(this,function(me){switch(me.label){case 0:return me.trys.push([0,2,3,5]),[4,l.getTokenWithPopup(b,C)];case 1:return T=me.sent(),[3,5];case 2:throw D=me.sent(),Va(D);case 3:return A=h,J={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return A.apply(void 0,[(J.user=me.sent(),J)]),[7];case 5:return[2,T]}})})},[l]),y=x.useCallback(function(){return l.getIdTokenClaims()},[l]),w=x.useCallback(function(b){return or(void 0,void 0,void 0,function(){var C,T,D;return ar(this,function(A){switch(A.label){case 0:return A.trys.push([0,2,3,5]),[4,l.handleRedirectCallback(b)];case 1:return[2,A.sent()];case 2:throw C=A.sent(),Va(C);case 3:return T=h,D={type:"HANDLE_REDIRECT_COMPLETE"},[4,l.getUser()];case 4:return T.apply(void 0,[(D.user=A.sent(),D)]),[7];case 5:return[2]}})})},[l]),j=x.useMemo(function(){return ke(ke({},u),{getAccessTokenSilently:m,getAccessTokenWithPopup:p,getIdTokenClaims:y,loginWithRedirect:v,loginWithPopup:_,logout:S,handleRedirectCallback:w})},[u,m,p,y,v,_,S,w]);return Vt.createElement(o.Provider,{value:j},e)},dk=function(t){return t===void 0&&(t=jg),x.useContext(t)};x.createContext(null);function hk({children:t}){return c.jsx(uk,{domain:"dev-whbba5qnfveb88fc.us.auth0.com",clientId:"4Gr73u1k9ZDvmePAz5fLJyIqrv3cn2YO",authorizationParams:{redirect_uri:"https://contractors-0q4c.onrender.com/"},children:t})}function Zo(){const{isAuthenticated:t,isLoading:e,user:n,loginWithRedirect:r,logout:s,getIdTokenClaims:i}=dk();return x.useEffect(()=>{(async()=>{if(t){const a=await i();a&&localStorage.setItem("auth_token",a.__raw)}})()},[t,i]),{isAuthenticated:t,isLoading:e,user:n,loginWithRedirect:r,logout:()=>{localStorage.removeItem("auth_token"),s({logoutParams:{returnTo:window.location.origin}})}}}const Dt=Object.create(null);Dt.open="0";Dt.close="1";Dt.ping="2";Dt.pong="3";Dt.message="4";Dt.upgrade="5";Dt.noop="6";const Ki=Object.create(null);Object.keys(Dt).forEach(t=>{Ki[Dt[t]]=t});const mc={type:"error",data:"parser error"},Cg=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Tg=typeof ArrayBuffer=="function",Og=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Au=({type:t,data:e},n,r)=>Cg&&e instanceof Blob?n?r(e):Lh(e,r):Tg&&(e instanceof ArrayBuffer||Og(e))?n?r(e):Lh(new Blob([e]),r):r(Dt[t]+(e||"")),Lh=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function $h(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let qa;function fk(t,e){if(Cg&&t.data instanceof Blob)return t.data.arrayBuffer().then($h).then(e);if(Tg&&(t.data instanceof ArrayBuffer||Og(t.data)))return e($h(t.data));Au(t,!1,n=>{qa||(qa=new TextEncoder),e(qa.encode(n))})}const Dh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Dh.length;t++)gs[Dh.charCodeAt(t)]=t;const pk=t=>{let e=t.length*.75,n=t.length,r,s=0,i,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),u=new Uint8Array(d);for(r=0;r<n;r+=4)i=gs[t.charCodeAt(r)],o=gs[t.charCodeAt(r+1)],a=gs[t.charCodeAt(r+2)],l=gs[t.charCodeAt(r+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|a>>2,u[s++]=(a&3)<<6|l&63;return d},mk=typeof ArrayBuffer=="function",Lu=(t,e)=>{if(typeof t!="string")return{type:"message",data:Pg(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:gk(t.substring(1),e)}:Ki[n]?t.length>1?{type:Ki[n],data:t.substring(1)}:{type:Ki[n]}:mc},gk=(t,e)=>{if(mk){const n=pk(t);return Pg(n,e)}else return{base64:!0,data:t}},Pg=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Ig="",yk=(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((i,o)=>{Au(i,!1,a=>{r[o]=a,++s===n&&e(r.join(Ig))})})},vk=(t,e)=>{const n=t.split(Ig),r=[];for(let s=0;s<n.length;s++){const i=Lu(n[s],e);if(r.push(i),i.type==="error")break}return r};function wk(){return new TransformStream({transform(t,e){fk(t,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let Ya;function Oi(t){return t.reduce((e,n)=>e+n.length,0)}function Pi(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function xk(t,e){Ya||(Ya=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(Oi(n)<1)break;const l=Pi(n,1);i=(l[0]&128)===128,s=l[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Oi(n)<2)break;const l=Pi(n,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Oi(n)<8)break;const l=Pi(n,8),d=new DataView(l.buffer,l.byteOffset,l.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(mc);break}s=u*Math.pow(2,32)+d.getUint32(4),r=3}else{if(Oi(n)<s)break;const l=Pi(n,s);a.enqueue(Lu(i?l:Ya.decode(l),e)),r=0}if(s===0||s>t){a.enqueue(mc);break}}}})}const Rg=4;function ve(t){if(t)return _k(t)}function _k(t){for(var e in ve.prototype)t[e]=ve.prototype[e];return t}ve.prototype.on=ve.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ve.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};ve.prototype.off=ve.prototype.removeListener=ve.prototype.removeAllListeners=ve.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};ve.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};ve.prototype.emitReserved=ve.prototype.emit;ve.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ve.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Qo=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),at=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),kk="arraybuffer";function Ag(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const bk=at.setTimeout,Sk=at.clearTimeout;function ea(t,e){e.useNativeTimers?(t.setTimeoutFn=bk.bind(at),t.clearTimeoutFn=Sk.bind(at)):(t.setTimeoutFn=at.setTimeout.bind(at),t.clearTimeoutFn=at.clearTimeout.bind(at))}const jk=1.33;function Nk(t){return typeof t=="string"?Ek(t):Math.ceil((t.byteLength||t.size)*jk)}function Ek(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function Lg(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Ck(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Tk(t){let e={},n=t.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class Ok extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class $u extends ve{constructor(e){super(),this.writable=!1,ea(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new Ok(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Lu(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Ck(e);return n.length?"?"+n:""}}class Pk extends $u{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};vk(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,yk(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Lg()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let $g=!1;try{$g=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ik=$g;function Rk(){}class Ak extends Pk{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class $t extends ve{constructor(e,n,r){super(),this.createRequest=e,ea(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=Ag(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=$t.requestsCount++,$t.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Rk,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete $t.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}$t.requestsCount=0;$t.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Mh);else if(typeof addEventListener=="function"){const t="onpagehide"in at?"pagehide":"unload";addEventListener(t,Mh,!1)}}function Mh(){for(let t in $t.requests)$t.requests.hasOwnProperty(t)&&$t.requests[t].abort()}const Lk=function(){const t=Dg({xdomain:!1});return t&&t.responseType!==null}();class $k extends Ak{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=Lk&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new $t(Dg,this.uri(),e)}}function Dg(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Ik))return new XMLHttpRequest}catch{}if(!e)try{return new at[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Mg=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Dk extends $u{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=Mg?{}:Ag(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;Au(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&Qo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Lg()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Ka=at.WebSocket||at.MozWebSocket;class Mk extends Dk{createSocket(e,n,r){return Mg?new Ka(e,n,r):n?new Ka(e,n):new Ka(e)}doWrite(e,n){this.ws.send(n)}}class Uk extends $u{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=xk(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=wk();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this._writer.write(r).then(()=>{s&&Qo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Fk={websocket:Mk,webtransport:Uk,polling:$k},zk=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Bk=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function gc(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=zk.exec(t||""),i={},o=14;for(;o--;)i[Bk[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Wk(i,i.path),i.queryKey=Hk(i,i.query),i}function Wk(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Hk(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const yc=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ji=[];yc&&addEventListener("offline",()=>{Ji.forEach(t=>t())},!1);class _n extends ve{constructor(e,n){if(super(),this.binaryType=kk,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=gc(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=gc(n.host).host);ea(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Tk(this.opts.query)),yc&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ji.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Rg,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&_n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",_n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=Nk(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Qo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(_n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),yc&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Ji.indexOf(this._offlineEventListener);r!==-1&&Ji.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}_n.protocol=Rg;class Vk extends _n{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;_n.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;_n.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function i(){r||(r=!0,u(),n.close(),n=null)}const o=h=>{const f=new Error("probe error: "+h);f.transport=n.name,i(),this.emitReserved("upgradeError",f)};function a(){o("transport closed")}function l(){o("socket closed")}function d(h){n&&h.name!==n.name&&i()}const u=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",d)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let qk=class extends Vk{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>Fk[s]).filter(s=>!!s)),super(e,r)}};function Yk(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=gc(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const Kk=typeof ArrayBuffer=="function",Jk=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Ug=Object.prototype.toString,Gk=typeof Blob=="function"||typeof Blob<"u"&&Ug.call(Blob)==="[object BlobConstructor]",Xk=typeof File=="function"||typeof File<"u"&&Ug.call(File)==="[object FileConstructor]";function Du(t){return Kk&&(t instanceof ArrayBuffer||Jk(t))||Gk&&t instanceof Blob||Xk&&t instanceof File}function Gi(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Gi(t[n]))return!0;return!1}if(Du(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Gi(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Gi(t[n]))return!0;return!1}function Zk(t){const e=[],n=t.data,r=t;return r.data=vc(n,e),r.attachments=e.length,{packet:r,buffers:e}}function vc(t,e){if(!t)return t;if(Du(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=vc(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=vc(t[r],e));return n}return t}function Qk(t,e){return t.data=wc(t.data,e),delete t.attachments,t}function wc(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=wc(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=wc(t[n],e));return t}const eb=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],tb=5;var q;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(q||(q={}));class nb{constructor(e){this.replacer=e}encode(e){return(e.type===q.EVENT||e.type===q.ACK)&&Gi(e)?this.encodeAsBinary({type:e.type===q.EVENT?q.BINARY_EVENT:q.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===q.BINARY_EVENT||e.type===q.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Zk(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Uh(t){return Object.prototype.toString.call(t)==="[object Object]"}class Mu extends ve{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===q.BINARY_EVENT;r||n.type===q.BINARY_ACK?(n.type=r?q.EVENT:q.ACK,this.reconstructor=new rb(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Du(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(q[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===q.BINARY_EVENT||r.type===q.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(i,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(i,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(Mu.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case q.CONNECT:return Uh(n);case q.DISCONNECT:return n===void 0;case q.CONNECT_ERROR:return typeof n=="string"||Uh(n);case q.EVENT:case q.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&eb.indexOf(n[0])===-1);case q.ACK:case q.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class rb{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Qk(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const sb=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Mu,Encoder:nb,get PacketType(){return q},protocol:tb},Symbol.toStringTag,{value:"Module"}));function wt(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const ib=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Fg extends ve{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[wt(e,"open",this.onopen.bind(this)),wt(e,"packet",this.onpacket.bind(this)),wt(e,"error",this.onerror.bind(this)),wt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,s,i;if(ib.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:q.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const u=this.ids++,h=n.pop();this._registerAckCallback(u,h),o.id=u}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:q.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case q.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case q.EVENT:case q.BINARY_EVENT:this.onevent(e);break;case q.ACK:case q.BINARY_ACK:this.onack(e);break;case q.DISCONNECT:this.ondisconnect();break;case q.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:q.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:q.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Jr(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Jr.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Jr.prototype.reset=function(){this.attempts=0};Jr.prototype.setMin=function(t){this.ms=t};Jr.prototype.setMax=function(t){this.max=t};Jr.prototype.setJitter=function(t){this.jitter=t};class xc extends ve{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ea(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Jr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||sb;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new qk(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=wt(n,"open",function(){r.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=wt(n,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(wt(e,"ping",this.onping.bind(this)),wt(e,"data",this.ondata.bind(this)),wt(e,"error",this.onerror.bind(this)),wt(e,"close",this.onclose.bind(this)),wt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Qo(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Fg(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const os={};function Xi(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Yk(t,e.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=os[s]&&i in os[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new xc(r,e):(os[s]||(os[s]=new xc(r,e)),l=os[s]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(Xi,{Manager:xc,Socket:Fg,io:Xi,connect:Xi});const zg=x.createContext(null),ta=()=>x.useContext(zg),ob=({children:t})=>{const[e,n]=x.useState(null);return x.useEffect(()=>{const r=Xi("https://contractors-0q4c.onrender.com",{withCredentials:!0,transports:["websocket"]});return n(r),r.on("connect",()=>{console.log("Socket connected:",r.id)}),r.on("disconnect",()=>{console.log("Socket disconnected")}),()=>{r.disconnect()}},[]),c.jsx(zg.Provider,{value:e,children:t})},as=[{id:"action"},{id:"landscape"},{id:"inspect"},{id:"renovate"},{id:"repair"},{id:"install"},{id:"flip_a_house"},{id:"remove"},{id:"texture"},{id:"powerwash"},{id:"clean"},{id:"replace"},{id:"paint"},{id:"build"},{id:"location"},{id:"time"}],Fh=t=>Array.from({length:t},(e,n)=>({id:`unavailable-${n}`,name:"***********",selected_locations:"Address hidden",rating:4+Math.random()*.9,workingHours:"***********",yearsInBusiness:Math.floor(Math.random()*10)+1,verified:Math.random()>.5,image:"https://images.unsplash.com/photo-1581578731548-c64695cc6952?auto=format&fit=crop&w=300",available:!1,phone:"N/A"})),ab=()=>c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(_t,{className:"w-12 h-12 text-white animate-spin"}),c.jsx("p",{className:"text-white mt-4",children:"Loading..."})]})});function lb(){var Ke;const t=qr(),e=ta();x.useEffect(()=>{if(e)return e.on("new_company_added",N=>{g(R=>[N,...R])}),()=>{e.off("new_company_added")}},[e]);const{t:n}=Nu(),{loginWithRedirect:r}=Zo(),[s,i]=x.useState(0),[o,a]=x.useState([]),[l,d]=x.useState(!1),[u,h]=x.useState(!1),[f,g]=x.useState([]),[v,_]=x.useState(!1),[S,m]=x.useState(!1),[p,y]=x.useState({action:[],object:[],location:[],size:[],time:[]}),[w,j]=x.useState(!1);x.useEffect(()=>{b()},[]);const b=async()=>{try{const N=await fetch("https://contractors-0q4c.onrender.com/api/search-options",{method:"GET",headers:{"Content-Type":"application/json"}});if(!N.ok)throw new Error("Failed to fetch search options");const $=(await N.json()).reduce((W,H)=>(W[H.category]||(W[H.category]=[]),W[H.category].push({value:H.value,next_category:H.next_category||null,question:H.question||null}),W),{});console.log("Grouped search options:",$),y($)}catch(N){console.error("Error fetching search options:",N)}},C=async()=>{try{const N=await fetch("https://contractors-0q4c.onrender.com/api/companies",{method:"GET",headers:{"Content-Type":"application/json"}});if(!N.ok)throw new Error("Failed to fetch companies");const $=(await N.json()).map(oe=>({id:oe.id,name:oe.company_name,selected_locations:oe.selected_locations,rating:oe.rating,workingHours:oe.working_hours,yearsInBusiness:oe.years_in_business,verified:oe.verified,image:oe.image_url,available:!0})),W=Math.max(5,6-$.length),H=Fh(W);g([...$,...H])}catch(N){console.error("Error fetching companies:",N);const R=Fh(6);g(R)}},T=N=>{var H;const R=as[s].id,$=(H=p[R])==null?void 0:H.find(oe=>oe.value===N),W=[...o,N];if(a(W),$!=null&&$.next_category){const oe=as.findIndex(je=>je.id===$.next_category);oe!==-1&&i(oe)}else d(!0),C()},D=()=>{i(0),a([]),d(!1),g([])},A=[{icon:c.jsx(sx,{className:"w-6 h-6 text-blue-100"}),value:"15+",label:n("hero.stats.yearsInMarket")},{icon:c.jsx(ax,{className:"w-6 h-6 text-blue-100"}),value:"50,000+",label:n("hero.stats.clients")},{icon:c.jsx(Su,{className:"w-6 h-6 text-blue-100"}),value:"98%",label:n("hero.stats.positiveReviews")}],J=()=>c.jsxs("div",{className:"font-montserrat text-2xl font-semibold mb-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[c.jsx("span",{className:"text-gray-600",children:n("common.iWant")}),o.map((N,R)=>c.jsxs("span",{className:"text-blue-600 font-bold",children:[" ",N]},R))]}),me=N=>c.jsxs("article",{className:ge("company-card bg-white rounded-xl shadow-md overflow-hidden",N.available?"hover:shadow-xl":"opacity-50 pointer-events-none"),children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:N.image,alt:N.name,className:ge("w-full h-56 object-cover",!N.available&&"blur-sm"),loading:"lazy"}),N.verified&&c.jsxs("div",{className:"absolute top-4 right-4 glass-effect text-blue-600 px-4 py-2 rounded-full text-sm font-medium flex items-center gap-2",children:[c.jsx(rx,{className:"w-4 h-4"}),n("common.verified")]})]}),c.jsxs("div",{className:"p-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"font-montserrat text-xl font-bold",children:N.name}),c.jsxs("div",{className:"flex items-center bg-yellow-50 px-3 py-2 rounded-lg",children:[c.jsx(ju,{className:"w-5 h-5 text-yellow-400 fill-current"}),c.jsx("span",{className:"ml-2 font-semibold",children:N.rating.toFixed(1)})]})]}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(Dm,{className:"w-5 h-5 mr-3 text-blue-500"}),c.jsx("span",{className:"font-medium",children:N.selected_locations})]}),c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(Vw,{className:"w-5 h-5 mr-3 text-blue-500"}),c.jsx("span",{className:"font-medium",children:N.workingHours})]}),c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(Lm,{className:"w-5 h-5 mr-3 text-blue-500"}),c.jsx("span",{className:"font-medium",children:n("common.yearsInBusiness",{years:N.yearsInBusiness})})]})]}),N.available?c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("a",{href:`tel:${N.phone}`,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-all font-semibold",children:[c.jsx(tx,{className:"w-5 h-5"}),n("common.call")]}),c.jsxs("button",{onClick:()=>Ct(N.id),className:"flex items-center justify-center gap-2 bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-all font-semibold",children:[c.jsx(Js,{className:"w-5 h-5"}),n("common.message")]})]}):c.jsx("div",{className:"text-center py-3 px-6 bg-gray-50 rounded-lg text-gray-600 font-medium",children:n("common.unavailable")})]})]},N.id),Ae=async N=>{h(!0);try{const{error:R}=await cc.from("consideration_companies").insert({company_name:N.companyName,owner_name:N.ownerName,email:N.email,phone:N.phone,website:N.website||null,experience:parseInt(N.experience),services:N.services,description:N.description,status:"pending",selected_actions:N.selectedActions,selected_objects:N.selectedObjects,selected_locations:N.selectedLocations,selected_sizes:N.selectedSizes,selected_times:N.selectedTimes});if(R)throw R;alert(n("contractorApplication.success"))}catch(R){console.error("Error submitting application:",R),alert("Failed to submit application. Please try again.")}finally{h(!1),_(!1)}},Et=async N=>{try{const{error:R}=await cc.from("testimonial_comments").insert({user_name:N.userName,content:N.content,rating:N.rating});if(R)throw R}catch(R){console.error("Error submitting comment:",R),alert("Failed to submit comment. Please try again.")}},ft=()=>{if(!localStorage.getItem("auth_token")){r();return}_(!0)},Ct=async N=>{const R=localStorage.getItem("auth_token");if(!R){alert("You need to log in to send a message."),r();return}j(!0);try{const $=await fetch("https://contractors-0q4c.onrender.com/api/chats",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify({companyId:N})});if(!$.ok){const H=await $.json();throw new Error(H.message||"Failed to create or fetch chat")}const{chatId:W}=await $.json();t(`/account?tab=chat&chatId=${W}`)}catch($){console.error("Error handling message:",$),alert("Failed to send message. Please try again.")}finally{j(!1)}};return c.jsxs(c.Fragment,{children:[w&&c.jsx(ab,{}),c.jsxs("header",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 py-24 relative hero-pattern",children:[c.jsx("div",{className:"absolute inset-0 bg-black/20"}),c.jsx("div",{className:"container mx-auto px-4 relative",children:c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("div",{className:"max-w-3xl",children:[c.jsx("h1",{className:"font-montserrat text-6xl font-bold mb-8 leading-tight text-white drop-shadow-lg",children:n("hero.title")}),c.jsx("p",{className:"text-xl text-white/90 mb-12 leading-relaxed drop-shadow",children:n("hero.subtitle")}),c.jsx("div",{className:"grid grid-cols-3 gap-6",children:A.map((N,R)=>c.jsxs("div",{className:"glass-effect rounded-xl p-6 text-center border border-white/10 shadow-xl backdrop-blur-lg",children:[c.jsx("div",{className:"bg-white/10 rounded-full p-3 w-fit mx-auto",children:N.icon}),c.jsx("div",{className:"text-2xl font-bold mt-3 text-white",children:N.value}),c.jsx("div",{className:"text-sm text-blue-100",children:N.label})]},R))})]})})})]}),c.jsxs("main",{className:"container mx-auto px-4 py-12",children:[c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 -mt-24 mb-12 relative z-10",children:[J(),!l&&s<as.length&&c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex items-center gap-3 text-gray-700 font-medium",children:[c.jsx(Mm,{className:"w-6 h-6 text-blue-500"}),c.jsxs("span",{className:"text-lg",children:[n("search.selectStep")," ",n(`search.steps.${as[s].id}`),":"]})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:(Ke=p[as[s].id])==null?void 0:Ke.map((N,R)=>c.jsxs("button",{onClick:()=>T(N.value),className:"search-option flex items-center justify-between px-6 py-4 bg-gray-50 text-gray-700 rounded-xl transition-all hover:text-blue-700 font-medium",children:[N.value," ",c.jsx(Bw,{className:"w-5 h-5"})]},`${N.value}-${R}`))})]}),l&&!u&&c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("button",{onClick:D,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium",children:[c.jsx(si,{className:"w-5 h-5"}),n("common.startOver")]})}),u&&c.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[c.jsx(_t,{className:"w-12 h-12 text-blue-500 animate-spin mb-4"}),c.jsx("p",{className:"text-lg text-gray-600 font-medium",children:n("common.searching")}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:n("common.searchingDescription")})]})]}),l&&!u&&c.jsxs("section",{children:[c.jsxs("h2",{className:"font-montserrat text-3xl font-bold mb-8",children:[f.length," ",n("common.companiesFound")]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map(me)})]}),c.jsxs("section",{className:"py-16",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold mb-4",children:n("testimonials.title")}),c.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:n("testimonials.subtitle")})]}),c.jsx(C_,{onAddComment:()=>m(!0)})]}),c.jsx("section",{className:"py-16 bg-gradient-to-r from-gray-50 to-blue-50",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[c.jsx("h2",{className:"text-3xl font-bold mb-4",children:n("contractorApplication.title")}),c.jsx("p",{className:"text-gray-600 mb-8",children:n("contractorApplication.subtitle")}),c.jsxs("button",{onClick:ft,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(Am,{className:"w-5 h-5"}),"Apply Now"]})]})})})]}),c.jsx("footer",{className:"bg-gray-900 text-white pt-16 pb-8",children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:n("footer.about.title")}),c.jsx("p",{className:"text-gray-400 mb-4",children:n("footer.about.description")}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(qw,{className:"w-5 h-5"})}),c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(ix,{className:"w-5 h-5"})}),c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(Kw,{className:"w-5 h-5"})}),c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(lx,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:n("footer.services.title")}),c.jsx("ul",{className:"space-y-2",children:["renovation","maintenance","finishing","plumbing"].map(N=>c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n(`services.${N}.name`)})},N))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:n("footer.company.title")}),c.jsx("ul",{className:"space-y-2",children:["about","careers","blog","partners"].map(N=>c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n(`footer.company.${N}`)})},N))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:n("footer.contact.title")}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[c.jsx(Zw,{className:"w-5 h-5"}),c.jsx("span",{children:n("footer.contact.address")})]}),c.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[c.jsx(ex,{className:"w-5 h-5"}),c.jsx("a",{href:"tel:+1234567890",className:"hover:text-white transition-colors",children:"+1 (234) 567-890"})]}),c.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[c.jsx(Xw,{className:"w-5 h-5"}),c.jsx("a",{href:"mailto:info@example.com",className:"hover:text-white transition-colors",children:"info@example.com"})]})]})]})]}),c.jsx("div",{className:"border-t border-gray-800 pt-8",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsxs("p",{className:"text-gray-400",children:["© 2025 ",n("footer.copyright")]}),c.jsxs("div",{className:"flex gap-6",children:[c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n("footer.privacy")}),c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n("footer.terms")}),c.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n("footer.cookies")})]})]})})]})}),c.jsx(ug,{isOpen:v,onClose:()=>_(!1),onSubmit:Ae}),c.jsx(T_,{isOpen:S,onClose:()=>m(!1),onSubmit:Et})]})}function cb(){var Z;const[t,e]=x.useState("action"),[n,r]=x.useState({action:[],landscape:[],inspect:[],renovate:[],repair:[],install:[],flip_a_house:[],remove:[],texture:[],powerwash:[],clean:[],replace:[],paint:[],build:[],location:[],time:[]}),[s,i]=x.useState(""),[o,a]=x.useState("companies"),[l,d]=x.useState([]),[u,h]=x.useState([]);x.useState(null);const[f,g]=x.useState(null),[v,_]=x.useState(null),[S,m]=x.useState(!0),[p,y]=x.useState({action:[],landscape:[],inspect:[],renovate:[],repair:[],install:[],flip_a_house:[],remove:[],texture:[],powerwash:[],clean:[],replace:[],paint:[],build:[],location:[],time:[]}),[w,j]=x.useState(!1),[b,C]=x.useState({company_name:"",owner_name:"",email:"",phone:"",website:"",services:"",description:"",rating:0,working_hours:"",years_in_business:0,verified:!1,image:null,selected_actions:[],selected_landscapes:[],selected_inspects:[],selected_renovates:[],selected_repairs:[],selected_installs:[],selected_flips:[],selected_removes:[],selected_textures:[],selected_powerwashes:[],selected_cleans:[],selected_replaces:[],selected_paints:[],selected_builds:[],selected_locations:[],selected_times:[],user_email:""}),[T,D]=x.useState(null),A=qr(),J=["action","landscape","inspect","renovate","repair","install","flip_a_house","remove","texture","powerwash","clean","replace","paint","build","location","time"];x.useEffect(()=>{Ae(),o==="applications"?Et():o==="companies"?ft():o==="search-options"&&Ae()},[o]);function me(k){return k.split("_").map(O=>O.charAt(0).toUpperCase()+O.slice(1)).join(" ")}const Ae=async()=>{try{m(!0);const k=localStorage.getItem("auth_token");if(!k){console.error("Authorization token is missing");return}const O=await fetch("https://contractors-0q4c.onrender.com/api/search-options",{method:"GET",headers:{Authorization:`Bearer ${k}`}});if(!O.ok){const te=await O.json();throw new Error(te.message||"Failed to fetch search options")}const M=(await O.json()).reduce((te,ae)=>(te[ae.category]||(te[ae.category]=[]),te[ae.category].push({value:ae.value,next_category:ae.next_category||null}),te),{action:[],landscape:[],inspect:[],renovate:[],repair:[],install:[],flip_a_house:[],remove:[],texture:[],powerwash:[],clean:[],replace:[],paint:[],build:[],location:[],time:[]});r(M),console.log("Grouped category options with next_category:",M)}catch(k){console.error("Error fetching search options:",k),alert("Failed to fetch search options")}finally{m(!1)}},Et=async()=>{try{m(!0);const k=localStorage.getItem("auth_token");if(!k){console.error("Authorization token is missing"),A("/");return}const O=await fetch("https://contractors-0q4c.onrender.com/api/admin/companies?status=!active",{method:"GET",headers:{Authorization:`Bearer ${k}`}});if(O.status===403){console.error("Access denied: User is not an admin"),A("/");return}if(!O.ok){const M=await O.json();throw new Error(M.message||"Failed to fetch applications")}const P=await O.json();d(P)}catch(k){console.error("Error fetching applications:",k),alert("Failed to fetch applications")}finally{m(!1)}},ft=async()=>{try{const k=localStorage.getItem("auth_token");if(!k){console.error("Authorization token is missing"),A("/");return}const O=await fetch("https://contractors-0q4c.onrender.com/api/admin/companies?status=active",{method:"GET",headers:{Authorization:`Bearer ${k}`}});if(O.status===403){console.error("Access denied: User is not an admin"),A("/");return}if(!O.ok){const M=await O.json();throw new Error(M.message||"Failed to fetch companies")}const P=await O.json();h(P)}catch(k){console.error("Error fetching companies:",k),A("/")}finally{m(!1)}},Ct=(k,O,P,M)=>{const ae={action:"selected_actions",landscape:"selected_landscapes",inspect:"selected_inspects",renovate:"selected_renovates",repair:"selected_repairs",install:"selected_installs",flip_a_house:"selected_flips",remove:"selected_removes",texture:"selected_textures",powerwash:"selected_powerwashes",clean:"selected_cleans",replace:"selected_replaces",paint:"selected_paints",build:"selected_builds",location:"selected_locations",time:"selected_times"}[O];M(rt=>{if(!rt)return rt;const pt=rt[ae]||[],st=pt.includes(P)?pt.filter(ne=>ne!==P):[...pt,P];return{...rt,[ae]:st}})},Ke=(k,O,P)=>c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:J.filter(M=>{const ae={action:"selected_actions",landscape:"selected_landscapes",inspect:"selected_inspects",renovate:"selected_renovates",repair:"selected_repairs",install:"selected_installs",flip_a_house:"selected_flips",remove:"selected_removes",texture:"selected_textures",powerwash:"selected_powerwashes",clean:"selected_cleans",replace:"selected_replaces",paint:"selected_paints",build:"selected_builds",location:"selected_locations",time:"selected_times"}[M];return Array.isArray(k[ae])&&k[ae].length>0}).map(M=>{var pt;const ae={action:"selected_actions",landscape:"selected_landscapes",inspect:"selected_inspects",renovate:"selected_renovates",repair:"selected_repairs",install:"selected_installs",flip_a_house:"selected_flips",remove:"selected_removes",texture:"selected_textures",powerwash:"selected_powerwashes",clean:"selected_cleans",replace:"selected_replaces",paint:"selected_paints",build:"selected_builds",location:"selected_locations",time:"selected_times"}[M],rt=Array.isArray(k[ae])?k[ae]:[];return c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h4",{className:"font-medium text-gray-700 capitalize",children:[me(M)," Selections:"]}),O&&P?c.jsx("div",{className:"flex flex-wrap gap-2",children:(pt=p[M])==null?void 0:pt.map(st=>c.jsx("button",{type:"button",onClick:()=>Ct(k,M,st,P),className:ge("px-3 py-1 rounded-lg text-sm font-medium transition-colors",rt.includes(st)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:st},st))}):c.jsx("div",{className:"flex flex-wrap gap-2",children:rt.map(st=>c.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-lg text-sm",children:st},st))})]},M)})}),N=async k=>{try{m(!0);const O=localStorage.getItem("auth_token");if(!O){console.error("Authorization token is missing");return}const P=await fetch(`https://contractors-0q4c.onrender.com/api/admin/companies/${k.id}/activate`,{method:"POST",headers:{Authorization:`Bearer ${O}`}});if(!P.ok){const M=await P.json();throw new Error(M.message||"Failed to activate company")}await Et(),await ft()}catch(O){console.error("Error approving application:",O),alert("Failed to approve application")}finally{m(!1)}},R=async k=>{try{m(!0);const O=localStorage.getItem("auth_token");if(!O){console.error("Authorization token is missing");return}const P=await fetch(`https://contractors-0q4c.onrender.com/api/admin/companies/${k}/reject`,{method:"POST",headers:{Authorization:`Bearer ${O}`}});if(!P.ok){const M=await P.json();throw new Error(M.message||"Failed to reject company")}await Et()}catch(O){console.error("Error rejecting application:",O),alert("Failed to reject application")}finally{m(!1)}},$=async k=>{try{m(!0);const O=localStorage.getItem("auth_token");if(!O){console.error("Authorization token is missing");return}const P=new FormData;P.append("company_name",k.company_name),P.append("owner_name",k.owner_name),P.append("email",k.email),P.append("phone",k.phone),P.append("services",k.services),P.append("description",k.description),k.image&&P.append("image",k.image);const M=await fetch(`https://contractors-0q4c.onrender.com/api/admin/companies/${k.id}`,{method:"POST",headers:{Authorization:`Bearer ${O}`},body:P});if(!M.ok){const te=await M.json();throw new Error(te.message||"Failed to update company")}await ft(),g(null)}catch(O){console.error("Error updating company:",O),alert("Failed to update company")}finally{m(!1)}},W=async k=>{if(confirm("Are you sure you want to delete this company?"))try{m(!0);const O=localStorage.getItem("auth_token");if(!O){console.error("Authorization token is missing");return}const P=await fetch(`https://contractors-0q4c.onrender.com/api/admin/companies/${k}`,{method:"DELETE",headers:{Authorization:`Bearer ${O}`}});if(!P.ok){const M=await P.json();throw new Error(M.message||"Failed to delete company")}await ft()}catch(O){console.error("Error deleting company:",O),alert("Failed to delete company")}finally{m(!1)}},H=async()=>{if(s.trim()!=="")try{m(!0);const k=localStorage.getItem("auth_token");if(!k){console.error("Authorization token is missing");return}const O=await fetch("https://contractors-0q4c.onrender.com/api/search-options",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({category:t,value:s.trim(),next_category:T||null})});if(!O.ok){const P=await O.json();throw new Error(P.message||"Failed to add search option")}await Ae(),i(""),D(null)}catch(k){console.error("Error adding search option:",k),alert("Failed to add search option")}finally{m(!1)}},oe=async k=>{try{m(!0);const O=localStorage.getItem("auth_token");if(!O){console.error("Authorization token is missing");return}const P=await fetch("https://contractors-0q4c.onrender.com/api/search-options",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify({category:t,value:k})});if(!P.ok){const M=await P.json();throw new Error(M.message||"Failed to remove search option")}await Ae()}catch(O){console.error("Error removing search option:",O),alert("Failed to remove search option")}finally{m(!1)}},je=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Xt=(k,O)=>{var M;const P=(M=k.target.files)==null?void 0:M[0];if(P){const te=URL.createObjectURL(P);_(te),O(ae=>({...ae,image:P}))}},E=k=>{_(null),k(O=>({...O,image:null}))},U=async k=>{k.preventDefault();try{m(!0);const O=localStorage.getItem("auth_token");if(!O){console.error("Authorization token is missing");return}const P=new FormData;P.append("company_name",b.company_name),P.append("owner_name",b.owner_name),P.append("email",b.email),P.append("phone",b.phone),P.append("website",b.website),P.append("services",b.services),P.append("description",b.description),P.append("rating",String(b.rating)),P.append("working_hours",b.working_hours),P.append("years_in_business",String(b.years_in_business)),P.append("verified",String(b.verified)),P.append("selected_actions",JSON.stringify(b.selected_actions)),P.append("selected_landscapes",JSON.stringify(b.selected_landscapes)),P.append("selected_inspects",JSON.stringify(b.selected_inspects)),P.append("selected_renovates",JSON.stringify(b.selected_renovates)),P.append("selected_repairs",JSON.stringify(b.selected_repairs)),P.append("selected_installs",JSON.stringify(b.selected_installs)),P.append("selected_flips",JSON.stringify(b.selected_flips)),P.append("selected_removes",JSON.stringify(b.selected_removes)),P.append("selected_textures",JSON.stringify(b.selected_textures)),P.append("selected_powerwashes",JSON.stringify(b.selected_powerwashes)),P.append("selected_cleans",JSON.stringify(b.selected_cleans)),P.append("selected_replaces",JSON.stringify(b.selected_replaces)),P.append("selected_paints",JSON.stringify(b.selected_paints)),P.append("selected_builds",JSON.stringify(b.selected_builds)),P.append("selected_locations",JSON.stringify(b.selected_locations)),P.append("selected_times",JSON.stringify(b.selected_times)),P.append("user_email",b.user_email),b.image&&P.append("image",b.image);const M=await fetch("https://contractors-0q4c.onrender.com/api/admin/companies",{method:"POST",headers:{Authorization:`Bearer ${O}`},body:P});if(!M.ok){const te=await M.json();throw new Error(te.message||"Failed to add company")}await ft(),j(!1),C({company_name:"",owner_name:"",email:"",phone:"",website:"",services:"",description:"",rating:0,working_hours:"",years_in_business:0,verified:!1,image:null,selected_actions:[],selected_landscapes:[],selected_inspects:[],selected_renovates:[],selected_repairs:[],selected_installs:[],selected_flips:[],selected_removes:[],selected_textures:[],selected_powerwashes:[],selected_cleans:[],selected_replaces:[],selected_paints:[],selected_builds:[],selected_locations:[],selected_times:[],user_email:""})}catch(O){console.error("Error adding company:",O),alert("Failed to add company")}finally{m(!1)}},Y=k=>{var P;const O=(P=k.target.files)==null?void 0:P[0];if(O){const M=URL.createObjectURL(O);_(M),C({...b,image:O})}};return S?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(_t,{className:"w-8 h-8 animate-spin text-blue-600"})}):c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[c.jsxs("div",{className:"flex gap-4 mb-8",children:[c.jsxs("button",{onClick:()=>a("companies"),className:ge("flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors",o==="companies"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[c.jsx(bu,{className:"w-5 h-5"}),"Active Companies"]}),c.jsxs("button",{onClick:()=>a("applications"),className:ge("flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors",o==="applications"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[c.jsx($m,{className:"w-5 h-5"}),"Review Companies"]}),c.jsxs("button",{onClick:()=>a("search-options"),className:ge("flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors",o==="search-options"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[c.jsx(Ns,{className:"w-5 h-5"}),"Search Options"]})]}),o==="companies"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Active Companies"}),c.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(Ns,{className:"w-5 h-5"}),"Add Company"]})]}),S?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(_t,{className:"w-8 h-8 animate-spin text-blue-600"})}):c.jsx("div",{className:"space-y-6",children:u.map(k=>c.jsx("div",{className:"border rounded-lg p-6 space-y-4",children:(f==null?void 0:f.id)===k.id?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),c.jsx("input",{type:"text",value:f.company_name,onChange:O=>g({...f,company_name:O.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner Name"}),c.jsx("input",{type:"text",value:f.owner_name,onChange:O=>g({...f,owner_name:O.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Update Image"}),c.jsxs("div",{className:"relative group",children:[c.jsxs("div",{className:"aspect-video rounded-lg overflow-hidden bg-gray-100",children:[c.jsx("img",{src:v||f.image_url||"https://via.placeholder.com/300x200",alt:"Company preview",className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsxs("label",{className:"cursor-pointer flex flex-col items-center text-white",children:[c.jsx("span",{className:"text-sm",children:"Upload Image"}),c.jsx("input",{type:"file",accept:"image/*",onChange:O=>Xt(O,g),className:"hidden"})]})})]}),v&&c.jsx("button",{onClick:()=>E(g),className:"mt-2 px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Cancel Image"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Services"}),c.jsx("input",{type:"text",value:f.services,onChange:O=>g({...f,services:O.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{value:f.description,onChange:O=>g({...f,description:O.target.value}),rows:3,className:"w-full px-3 py-2 border rounded-lg"})]}),Ke(f,!0,g),c.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[c.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),c.jsx("button",{onClick:()=>$(f),className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold",children:k.company_name}),c.jsx("p",{className:"text-gray-600",children:k.owner_name})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[k.verified&&c.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"Verified"}),c.jsx("span",{className:ge("px-3 py-1 rounded-full text-sm font-medium",k.available?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:k.available?"Available":"Unavailable"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"col-span-1",children:c.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-gray-100",children:c.jsx("img",{src:k.image_url||"https://via.placeholder.com/300x200",alt:"Company preview",className:"w-full h-full object-cover"})})}),c.jsxs("div",{className:"col-span-2 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Email:"}),c.jsx("span",{className:"text-gray-800",children:k.email})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Phone:"}),c.jsx("span",{className:"text-gray-800",children:k.phone})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Working Hours:"}),c.jsx("span",{className:"text-gray-800",children:k.working_hours})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Years in Business:"}),c.jsx("span",{className:"text-gray-800",children:k.years_in_business})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Rating:"}),c.jsx("span",{className:"text-gray-800",children:k.rating.toFixed(1)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Owner Email:"}),c.jsx("span",{className:"text-gray-800",children:k.user_email})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Created At:"}),c.jsx("span",{className:"text-gray-800",children:je(k.created_at)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Updated At:"}),c.jsx("span",{className:"text-gray-800",children:je(k.updated_at)})]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Services:"}),c.jsx("p",{className:"text-gray-800",children:k.services})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Description:"}),c.jsx("p",{className:"text-gray-800",children:k.description})]})]})]}),c.jsx("div",{className:"mt-6",children:Ke(k,!1)}),c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx("button",{onClick:()=>g(k),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(Qw,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>W(k.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(ch,{className:"w-5 h-5"})})]})]})},k.id))})]}),o==="applications"&&c.jsxs(c.Fragment,{children:[c.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Review Companies"}),S?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(_t,{className:"w-8 h-8 animate-spin text-blue-600"})}):l.length===0?c.jsx("div",{className:"text-center py-12 text-gray-500",children:"No applications found"}):c.jsx("div",{className:"space-y-6",children:l.map(k=>c.jsxs("div",{className:"border rounded-lg p-6 space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold",children:k.company_name}),c.jsx("p",{className:"text-gray-600",children:k.owner_name})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:ge("px-3 py-1 rounded-full text-sm font-medium",{"bg-yellow-100 text-yellow-800":k.status==="pending","bg-red-100 text-red-800":k.status==="rejected"}),children:k.status.charAt(0).toUpperCase()+k.status.slice(1)})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"col-span-1",children:c.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-gray-100",children:c.jsx("img",{src:k.image_url||"https://via.placeholder.com/300x200",alt:"Company preview",className:"w-full h-full object-cover"})})}),c.jsxs("div",{className:"col-span-2 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Email:"}),c.jsx("span",{className:"text-gray-800",children:k.email})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Phone:"}),c.jsx("span",{className:"text-gray-800",children:k.phone})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Working Hours:"}),c.jsx("span",{className:"text-gray-800",children:k.working_hours})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Years in Business:"}),c.jsx("span",{className:"text-gray-800",children:k.years_in_business})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Rating:"}),c.jsx("span",{className:"text-gray-800",children:k.rating.toFixed(1)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Owner Email:"}),c.jsx("span",{className:"text-gray-800",children:k.user_email})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Created At:"}),c.jsx("span",{className:"text-gray-800",children:je(k.created_at)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Updated At:"}),c.jsx("span",{className:"text-gray-800",children:je(k.updated_at)})]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Services:"}),c.jsx("p",{className:"text-gray-800",children:k.services})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Description:"}),c.jsx("p",{className:"text-gray-800",children:k.description})]})]})]}),c.jsx("div",{className:"mt-6",children:Ke(k,!1)}),c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx("button",{onClick:()=>N(k),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:c.jsx(Su,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>R(k.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(Hw,{className:"w-5 h-5"})})]})]},k.id))})]}),o==="search-options"&&c.jsxs(c.Fragment,{children:[c.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Search Options Management"}),c.jsx("div",{className:"flex gap-2 mb-8 overflow-x-auto pb-2",children:J.map(k=>c.jsxs("button",{onClick:()=>e(k),className:ge("px-4 py-2 rounded-lg font-medium transition-colors",t===k?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[me(k)," "]},k))}),c.jsxs("div",{className:"flex gap-2 mb-6",children:[c.jsx("input",{type:"text",value:s,onChange:k=>i(k.target.value),placeholder:"Enter new option...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),c.jsx("input",{type:"text",value:T||"",onChange:k=>D(k.target.value||null),placeholder:"Enter next category (optional)...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),c.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(Ns,{className:"w-5 h-5"}),"Add"]})]}),S?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(_t,{className:"w-8 h-8 animate-spin text-blue-600"})}):c.jsx("div",{className:"space-y-2 mb-8",children:(Z=n[t])==null?void 0:Z.map(k=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:k.value}),k.next_category&&c.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(Next step: ",k.next_category,")"]})]}),c.jsx("button",{onClick:()=>oe(k.value),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(ch,{className:"w-5 h-5"})})]},k.value))})]})]}),w&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>j(!1),children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto p-6",onClick:k=>k.stopPropagation(),children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:"Add New Company"}),c.jsxs("form",{onSubmit:U,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),c.jsx("input",{type:"text",value:b.company_name,onChange:k=>C({...b,company_name:k.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner Name"}),c.jsx("input",{type:"text",value:b.owner_name,onChange:k=>C({...b,owner_name:k.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",value:b.email,onChange:k=>C({...b,email:k.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:b.phone,onChange:k=>C({...b,phone:k.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),c.jsx("input",{type:"url",value:b.website,onChange:k=>C({...b,website:k.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Services"}),c.jsx("input",{type:"text",value:b.services,onChange:k=>C({...b,services:k.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{value:b.description,onChange:k=>C({...b,description:k.target.value}),rows:3,className:"w-full px-3 py-2 border rounded-lg"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rating"}),c.jsx("input",{type:"number",value:b.rating,onChange:k=>C({...b,rating:parseFloat(k.target.value)}),className:"w-full px-3 py-2 border rounded-lg",min:0,max:5,step:.1})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Working Hours"}),c.jsx("input",{type:"text",value:b.working_hours,onChange:k=>C({...b,working_hours:k.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Years in Business"}),c.jsx("input",{type:"number",value:b.years_in_business,onChange:k=>C({...b,years_in_business:parseInt(k.target.value,10)}),className:"w-full px-3 py-2 border rounded-lg",min:0})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Verified"}),c.jsxs("select",{value:b.verified?"true":"false",onChange:k=>C({...b,verified:k.target.value==="true"}),className:"w-full px-3 py-2 border rounded-lg",children:[c.jsx("option",{value:"false",children:"False"}),c.jsx("option",{value:"true",children:"True"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Image"}),c.jsx("input",{type:"file",accept:"image/*",onChange:Y,className:"w-full px-3 py-2 border rounded-lg"}),v&&c.jsxs("div",{className:"mt-4",children:[c.jsx("span",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Preview:"}),c.jsx("img",{src:v,alt:"Preview",className:"w-full h-auto rounded-lg border"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner Email"}),c.jsx("input",{type:"email",value:b.user_email||"",onChange:k=>C({...b,user_email:k.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),J.map(k=>{var O;return c.jsxs("div",{className:"mb-4",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 capitalize",children:[me(k)," Selections"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:(O=n[k])==null?void 0:O.map(P=>{var M;return c.jsx("button",{type:"button",onClick:()=>{const te=`selected_${k}s`,ae=b[te],rt=ae.includes(P.value)?ae.filter(pt=>pt!==P.value):[...ae,P.value];C({...b,[te]:rt})},className:ge("px-3 py-1 rounded-lg text-sm font-medium transition-colors",(M=b[`selected_${k}s`])!=null&&M.includes(P.value)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:P.value},P.value)})})]},k)}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:"Submit"})]})]})]})})]})}const ub={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},db=(t,e,n)=>{let r;const s=ub[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ja(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const hb={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fb={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pb={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mb={date:Ja({formats:hb,defaultWidth:"full"}),time:Ja({formats:fb,defaultWidth:"full"}),dateTime:Ja({formats:pb,defaultWidth:"full"})},gb={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yb=(t,e,n,r)=>gb[t];function ls(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const vb={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wb={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xb={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_b={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kb={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bb={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sb=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},jb={ordinalNumber:Sb,era:ls({values:vb,defaultWidth:"wide"}),quarter:ls({values:wb,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ls({values:xb,defaultWidth:"wide"}),day:ls({values:_b,defaultWidth:"wide"}),dayPeriod:ls({values:kb,defaultWidth:"wide",formattingValues:bb,defaultFormattingWidth:"wide"})};function cs(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Eb(a,h=>h.test(o)):Nb(a,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(l):l,d=n.valueCallback?n.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function Nb(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Eb(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Cb(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const Tb=/^(\d+)(th|st|nd|rd)?/i,Ob=/\d+/i,Pb={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ib={any:[/^b/i,/^(a|c)/i]},Rb={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ab={any:[/1/i,/2/i,/3/i,/4/i]},Lb={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$b={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Db={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mb={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ub={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fb={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zb={ordinalNumber:Cb({matchPattern:Tb,parsePattern:Ob,valueCallback:t=>parseInt(t,10)}),era:cs({matchPatterns:Pb,defaultMatchWidth:"wide",parsePatterns:Ib,defaultParseWidth:"any"}),quarter:cs({matchPatterns:Rb,defaultMatchWidth:"wide",parsePatterns:Ab,defaultParseWidth:"any",valueCallback:t=>t+1}),month:cs({matchPatterns:Lb,defaultMatchWidth:"wide",parsePatterns:$b,defaultParseWidth:"any"}),day:cs({matchPatterns:Db,defaultMatchWidth:"wide",parsePatterns:Mb,defaultParseWidth:"any"}),dayPeriod:cs({matchPatterns:Ub,defaultMatchWidth:"any",parsePatterns:Fb,defaultParseWidth:"any"})},Bb={code:"en-US",formatDistance:db,formatLong:mb,formatRelative:yb,localize:jb,match:zb,options:{weekStartsOn:0,firstWeekContainsDate:1}};let Wb={};function na(){return Wb}const Bg=6048e5,Hb=864e5,zh=Symbol.for("constructDateFrom");function jn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&zh in t?t[zh](e):t instanceof Date?new t.constructor(e):new Date(e)}function Nt(t,e){return jn(e||t,t)}function Bh(t){const e=Nt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Vb(t,...e){const n=jn.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Wh(t,e){const n=Nt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function qb(t,e,n){const[r,s]=Vb(n==null?void 0:n.in,t,e),i=Wh(r),o=Wh(s),a=+i-Bh(i),l=+o-Bh(o);return Math.round((a-l)/Hb)}function Yb(t,e){const n=Nt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Kb(t,e){const n=Nt(t,e==null?void 0:e.in);return qb(n,Yb(n))+1}function Xs(t,e){var a,l,d,u;const n=na(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=Nt(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Eo(t,e){return Xs(t,{...e,weekStartsOn:1})}function Wg(t,e){const n=Nt(t,e==null?void 0:e.in),r=n.getFullYear(),s=jn(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=Eo(s),o=jn(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Eo(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function Jb(t,e){const n=Wg(t,e),r=jn(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Eo(r)}function Gb(t,e){const n=Nt(t,e==null?void 0:e.in),r=+Eo(n)-+Jb(n);return Math.round(r/Bg)+1}function Hg(t,e){var u,h,f,g;const n=Nt(t,e==null?void 0:e.in),r=n.getFullYear(),s=na(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(f=s.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=jn((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Xs(o,e),l=jn((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const d=Xs(l,e);return+n>=+a?r+1:+n>=+d?r:r-1}function Xb(t,e){var a,l,d,u;const n=na(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=Hg(t,e),i=jn((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Xs(i,e)}function Zb(t,e){const n=Nt(t,e==null?void 0:e.in),r=+Xs(n,e)-+Xb(n,e);return Math.round(r/Bg)+1}function G(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Qt={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return G(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):G(n+1,2)},d(t,e){return G(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return G(t.getHours()%12||12,e.length)},H(t,e){return G(t.getHours(),e.length)},m(t,e){return G(t.getMinutes(),e.length)},s(t,e){return G(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return G(s,e.length)}},lr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hh={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Qt.y(t,e)},Y:function(t,e,n,r){const s=Hg(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return G(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):G(i,e.length)},R:function(t,e){const n=Wg(t);return G(n,e.length)},u:function(t,e){const n=t.getFullYear();return G(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return G(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return G(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Qt.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return G(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Zb(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):G(s,e.length)},I:function(t,e,n){const r=Gb(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):G(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Qt.d(t,e)},D:function(t,e,n){const r=Kb(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):G(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return G(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return G(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return G(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=lr.noon:r===0?s=lr.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=lr.evening:r>=12?s=lr.afternoon:r>=4?s=lr.morning:s=lr.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Qt.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Qt.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):G(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):G(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Qt.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Qt.s(t,e)},S:function(t,e){return Qt.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return qh(r);case"XXXX":case"XX":return Dn(r);case"XXXXX":case"XXX":default:return Dn(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return qh(r);case"xxxx":case"xx":return Dn(r);case"xxxxx":case"xxx":default:return Dn(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Vh(r,":");case"OOOO":default:return"GMT"+Dn(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Vh(r,":");case"zzzz":default:return"GMT"+Dn(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return G(r,e.length)},T:function(t,e,n){return G(+t,e.length)}};function Vh(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+G(i,2)}function qh(t,e){return t%60===0?(t>0?"-":"+")+G(Math.abs(t)/60,2):Dn(t,e)}function Dn(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=G(Math.trunc(r/60),2),i=G(r%60,2);return n+s+e+i}const Yh=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Vg=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Qb=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Yh(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Yh(r,e)).replace("{{time}}",Vg(s,e))},eS={p:Vg,P:Qb},tS=/^D+$/,nS=/^Y+$/,rS=["D","DD","YY","YYYY"];function sS(t){return tS.test(t)}function iS(t){return nS.test(t)}function oS(t,e,n){const r=aS(t,e,n);if(console.warn(r),rS.includes(t))throw new RangeError(r)}function aS(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function lS(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function cS(t){return!(!lS(t)&&typeof t!="number"||isNaN(+Nt(t)))}const uS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hS=/^'([^]*?)'?$/,fS=/''/g,pS=/[a-zA-Z]/;function Ga(t,e,n){var u,h,f,g;const r=na(),s=r.locale??Bb,i=r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??0,a=Nt(t,n==null?void 0:n.in);if(!cS(a))throw new RangeError("Invalid time value");let l=e.match(dS).map(v=>{const _=v[0];if(_==="p"||_==="P"){const S=eS[_];return S(v,s.formatLong)}return v}).join("").match(uS).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const _=v[0];if(_==="'")return{isToken:!1,value:mS(v)};if(Hh[_])return{isToken:!0,value:v};if(_.match(pS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(v=>{if(!v.isToken)return v.value;const _=v.value;(iS(_)||sS(_))&&oS(_,e,String(t));const S=Hh[_[0]];return S(a,_,s.localize,d)}).join("")}function mS(t){const e=t.match(hS);return e?e[1].replace(fS,"'"):t}function gS(t,e){const n=_S(e);return"formatToParts"in n?vS(n,t):wS(n,t)}const yS={year:0,month:1,day:2,hour:3,minute:4,second:5};function vS(t,e){try{const n=t.formatToParts(e),r=[];for(let s=0;s<n.length;s++){const i=yS[n[s].type];i!==void 0&&(r[i]=parseInt(n[s].value,10))}return r}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function wS(t,e){const n=t.format(e),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}const Xa={},Kh=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),xS=Kh==="06/25/2014, 00:00:00"||Kh==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function _S(t){return Xa[t]||(Xa[t]=xS?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Xa[t]}function qg(t,e,n,r,s,i,o){const a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,s,i,o),a}const Jh=36e5,kS=6e4,Za={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Yg(t,e,n){if(!t)return 0;let r=Za.timezoneZ.exec(t);if(r)return 0;let s,i;if(r=Za.timezoneHH.exec(t),r)return s=parseInt(r[1],10),Gh(s)?-(s*Jh):NaN;if(r=Za.timezoneHHMM.exec(t),r){s=parseInt(r[2],10);const o=parseInt(r[3],10);return Gh(s,o)?(i=Math.abs(s)*Jh+o*kS,r[1]==="+"?-i:i):NaN}if(jS(t)){e=new Date(e||Date.now());const o=n?e:bS(e),a=_c(o,t);return-(n?a:SS(e,a,t))}return NaN}function bS(t){return qg(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function _c(t,e){const n=gS(t,e),r=qg(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let s=t.getTime();const i=s%1e3;return s-=i>=0?i:1e3+i,r-s}function SS(t,e,n){let s=t.getTime()-e;const i=_c(new Date(s),n);if(e===i)return e;s-=i-e;const o=_c(new Date(s),n);return i===o?i:Math.max(i,o)}function Gh(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const Xh={};function jS(t){if(Xh[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Xh[t]=!0,!0}catch{return!1}}function Zh(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const NS=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Qa=36e5,Qh=6e4,ES=2,$e={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:NS};function CS(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const n=e.additionalDigits==null?ES:Number(e.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const r=TS(t),{year:s,restDateString:i}=OS(r.date,n),o=PS(i,s);if(o===null||isNaN(o.getTime()))return new Date(NaN);if(o){const a=o.getTime();let l=0,d;if(r.time&&(l=IS(r.time),l===null||isNaN(l)))return new Date(NaN);if(r.timeZone||e.timeZone){if(d=Yg(r.timeZone||e.timeZone,new Date(a+l)),isNaN(d))return new Date(NaN)}else d=Zh(new Date(a+l)),d=Zh(new Date(a+l+d));return new Date(a+l+d)}else return new Date(NaN)}function TS(t){const e={};let n=$e.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=$e.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){const s=$e.timeZone.exec(r);s?(e.time=r.replace(s[1],""),e.timeZone=s[1].trim()):e.time=r}return e}function OS(t,e){if(t){const n=$e.YYY[e],r=$e.YYYYY[e];let s=$e.YYYY.exec(t)||r.exec(t);if(s){const i=s[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(s=$e.YY.exec(t)||n.exec(t),s){const i=s[1];return{year:parseInt(i,10)*100,restDateString:t.slice(i.length)}}}return{year:null}}function PS(t,e){if(e===null)return null;let n,r,s;if(!t||!t.length)return n=new Date(0),n.setUTCFullYear(e),n;let i=$e.MM.exec(t);if(i)return n=new Date(0),r=parseInt(i[1],10)-1,tf(e,r)?(n.setUTCFullYear(e,r),n):new Date(NaN);if(i=$e.DDD.exec(t),i){n=new Date(0);const o=parseInt(i[1],10);return LS(e,o)?(n.setUTCFullYear(e,0,o),n):new Date(NaN)}if(i=$e.MMDD.exec(t),i){n=new Date(0),r=parseInt(i[1],10)-1;const o=parseInt(i[2],10);return tf(e,r,o)?(n.setUTCFullYear(e,r,o),n):new Date(NaN)}if(i=$e.Www.exec(t),i)return s=parseInt(i[1],10)-1,nf(s)?ef(e,s):new Date(NaN);if(i=$e.WwwD.exec(t),i){s=parseInt(i[1],10)-1;const o=parseInt(i[2],10)-1;return nf(s,o)?ef(e,s,o):new Date(NaN)}return null}function IS(t){let e,n,r=$e.HH.exec(t);if(r)return e=parseFloat(r[1].replace(",",".")),el(e)?e%24*Qa:NaN;if(r=$e.HHMM.exec(t),r)return e=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),el(e,n)?e%24*Qa+n*Qh:NaN;if(r=$e.HHMMSS.exec(t),r){e=parseInt(r[1],10),n=parseInt(r[2],10);const s=parseFloat(r[3].replace(",","."));return el(e,n,s)?e%24*Qa+n*Qh+s*1e3:NaN}return null}function ef(t,e,n){e=e||0,n=n||0;const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=e*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const RS=[31,28,31,30,31,30,31,31,30,31,30,31],AS=[31,29,31,30,31,30,31,31,30,31,30,31];function Kg(t){return t%400===0||t%4===0&&t%100!==0}function tf(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;const r=Kg(t);if(r&&n>AS[e]||!r&&n>RS[e])return!1}return!0}function LS(t,e){if(e<1)return!1;const n=Kg(t);return!(n&&e>366||!n&&e>365)}function nf(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function el(t,e,n){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}function rf(t,e,n){t=CS(t,n);const r=Yg(e,t,!0),s=new Date(t.getTime()-r),i=new Date(0);return i.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),i.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),i}function Jg({onNewMessage:t}){const e=ta();return x.useEffect(()=>{if(e)return e.on("newMessage",t),()=>{e.off("newMessage",t)}},[e,t]),null}function $S({message:t,sender:e,onClose:n}){return x.useEffect(()=>{const r=setTimeout(()=>{n()},5e3);return()=>clearTimeout(r)},[n]),c.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:c.jsx("div",{className:"bg-white rounded-lg shadow-lg border border-gray-100 p-4 max-w-sm",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx(Js,{className:"w-4 h-4 text-blue-600"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-gray-900",children:e}),c.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t})]}),c.jsx("button",{onClick:n,className:"flex-shrink-0 ml-4 p-1 rounded-full hover:bg-gray-100 transition-colors",children:c.jsx(si,{className:"w-4 h-4 text-gray-400"})})]})})})}const Gg=x.createContext(null);function DS({children:t}){const[e,n]=x.useState([]),r=(i,o)=>{const a=Math.random().toString(36).substr(2,9);n(l=>[...l,{id:a,message:i,sender:o}])},s=i=>{n(o=>o.filter(a=>a.id!==i))};return c.jsxs(Gg.Provider,{value:{showToast:r},children:[t,e.map(i=>c.jsx($S,{message:i.message,sender:i.sender,onClose:()=>s(i.id)},i.id))]})}function Xg(){const t=x.useContext(Gg);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}function MS(){var oe,je,Xt;const t=qr(),e=ta(),{showToast:n}=Xg(),{isAuthenticated:r,isLoading:s,user:i}=Zo(),[o,a]=x.useState("chat"),[l]=Dw(),d=l.get("chatId"),[u,h]=x.useState(d),[f,g]=x.useState(""),[v,_]=x.useState([]),[S,m]=x.useState(!0),[p,y]=x.useState(!1),[w,j]=x.useState({}),[b,C]=x.useState([]),[T,D]=x.useState(null),A=x.useRef(null);x.useEffect(()=>{u!==null&&A.current&&A.current.scrollIntoView({behavior:"smooth"})},[u,(oe=w[u??""])==null?void 0:oe.length]),x.useEffect(()=>{r&&me()},[r]),x.useEffect(()=>{o==="contracts"&&Ae()},[o]),x.useEffect(()=>{o==="chat"&&Et()},[o]),x.useEffect(()=>{var E;d&&T&&b.length>0&&!w[d]&&(h(d),R(d),console.log("Initial chat ID from URL:",d,"Selected chat:",u,"User data:",T,"user list:",b,"chat name:",(E=b.find(U=>U.id.toString()===d))==null?void 0:E.companyName))},[d,T,b]);const J=E=>{console.log("Получено новое сообщение",E),j(U=>({...U,[String(E.chatId)]:[...U[String(E.chatId)]||[],{id:E.id,sender:E.sender_name,content:E.content,timestamp:E.timestamp,isOwn:E.sender_id===(T==null?void 0:T.id)}]})),String(u)===String(E.chatId)?C(U=>U.map(Y=>String(Y.id)===String(E.chatId)?{...Y,lastMessage:E.content,timestamp:E.timestamp,unread:0}:Y)):(n(E.content,`Новое сообщение от ${E.sender_name}`),C(U=>U.map(Y=>String(Y.id)===String(E.chatId)?{...Y,lastMessage:E.content,timestamp:E.timestamp,unread:Y.unread+1}:Y)))},me=async()=>{try{const E=localStorage.getItem("auth_token");if(!E){console.error("Authorization token is missing");return}const U=await fetch("https://contractors-0q4c.onrender.com/api/users/me",{method:"GET",headers:{Authorization:`Bearer ${E}`}});if(!U.ok){const Z=await U.json();throw new Error(Z.message||"Failed to fetch user data")}const Y=await U.json();D(Y)}catch(E){console.error("Error fetching user data:",E)}},Ae=async()=>{try{const E=localStorage.getItem("auth_token");if(!E){console.error("Authorization token is missing");return}const U=await fetch("https://contractors-0q4c.onrender.com/api/companies/user",{method:"GET",headers:{Authorization:`Bearer ${E}`}});if(!U.ok){const k=await U.json();throw new Error(k.message||"Failed to fetch contracts")}const Z=(await U.json()).map(k=>({...k,created_at:Ct(k.created_at)}));_(Z),m(!1)}catch(E){console.error("Error fetching contracts:",E),m(!1)}},Et=async()=>{try{const E=localStorage.getItem("auth_token");if(!E){console.error("Authorization token is missing");return}const U=await fetch("https://contractors-0q4c.onrender.com/api/chats",{method:"GET",headers:{Authorization:`Bearer ${E}`}});if(!U.ok){const k=await U.json();throw new Error(k.message||"Failed to fetch chats")}const Z=(await U.json()).chats.map(k=>({id:k.chat_id,companyName:k.participant.username,lastMessage:k.last_message||"",timestamp:k.last_message_time||k.created_at,unread:k.unread_count||0,avatar:k.participant.picture||"https://via.placeholder.com/100"}));C(Z)}catch(E){console.error("Error fetching chats:",E)}};if(s)return c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(_t,{className:"w-8 h-8 animate-spin text-blue-600"})});if(!r)return c.jsx(bw,{to:"/",replace:!0});const ft=E=>{switch(E){case"active":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Ct=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),Ke=E=>{try{if(!E||typeof E!="string")return console.warn("formatTime: Invalid timestamp input",E),"";const U=E.endsWith("Z")?E:E+"Z",Y=new Date(U);if(isNaN(Y.getTime()))return console.warn("formatTime: Invalid Date from timestamp",E),"";const Z=Intl.DateTimeFormat().resolvedOptions().timeZone,k=rf(Y,Z),O=rf(new Date,Z),P=Math.floor((O.getTime()-k.getTime())/(1e3*60*60*24));return P===0?Ga(k,"p"):P===1?"Yesterday":P<7?Ga(k,"EEEE"):Ga(k,"MMM d")}catch(U){return console.error("formatTime error:",U,"timestamp:",E),""}},N=async()=>{if(!f.trim()||!u||!T)return;console.log("Sending message:",f,"to chat:",u,"socket:",e==null?void 0:e.id);const E=`temp-${Date.now()}`,U={chatId:u,text:f};j(Y=>({...Y,[u]:[...Y[u]||[],{id:E,sender:(T==null?void 0:T.username)||"You",content:f,timestamp:new Date().toISOString(),isOwn:!0,isTemporary:!0}]})),g("");try{const Y=localStorage.getItem("auth_token"),Z=await fetch("https://contractors-0q4c.onrender.com/api/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Y}`,"x-socket-id":(e==null?void 0:e.id)||""},body:JSON.stringify(U)});if(!Z.ok){const O=await Z.json();throw new Error(O.message||"Failed to send message")}const k=await Z.json();j(O=>({...O,[u]:O[u].map(P=>P.id===E?{...P,id:k.data.message_id.toString(),isTemporary:!1}:P)}))}catch(Y){console.error("Error sending message:",Y),j(Z=>({...Z,[u]:Z[u].filter(k=>k.id!==E)}))}},R=async E=>{try{const U=localStorage.getItem("auth_token");if(!U){console.error("Authorization token is missing");return}const Y=await fetch(`https://contractors-0q4c.onrender.com/api/messages/${E}`,{method:"GET",headers:{Authorization:`Bearer ${U}`}});if(!Y.ok){const O=await Y.json();throw new Error(O.message||"Failed to fetch messages")}const Z=await Y.json(),k=Z.messages.map(O=>{var P,M;return{id:O.message_id,sender:O.sender_id===Z.user_id?(T==null?void 0:T.username)||"You":((P=b.find(te=>te.id===E))==null?void 0:P.companyName)||((M=b.find(te=>te.id.toString()===d))==null?void 0:M.companyName),content:O.message_text,timestamp:O.sent_at,isOwn:O.sender_id===Z.user_id}});j(O=>({...O,[E]:k})),C(O=>O.map(P=>P.id===E?{...P,unread:0}:P))}catch(U){console.error("Error fetching messages:",U)}},$=E=>{console.log("Selected chat:",E),h(E),me(),R(E),t(`/account?tab=chat&chatId=${E}`,{replace:!0})},W=()=>c.jsxs("div",{className:"h-[calc(100vh-16rem)] flex flex-col",children:[c.jsx("div",{className:"p-4 border-b",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"Search conversations...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),c.jsx(Mm,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:b.map(E=>c.jsxs("button",{onClick:()=>$(E.id),className:ge("w-full p-4 flex items-center gap-4 hover:bg-gray-50 transition-colors border-b",u===E.id&&"bg-blue-50"),children:[c.jsx("img",{src:E.avatar,alt:E.companyName,className:"w-12 h-12 rounded-full object-cover"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex justify-between items-baseline",children:[c.jsx("h3",{className:"font-semibold truncate",children:E.companyName}),c.jsx("span",{className:"text-sm text-gray-500 flex-shrink-0",children:Ke(E.timestamp)})]}),c.jsx("p",{className:"text-sm text-gray-600 truncate",children:E.lastMessage})]}),E.unread>0&&c.jsx("span",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm",children:E.unread})]},`${E.id}-${E.timestamp}`))})]}),H=()=>{var Y,Z;if(!u)return null;const E=b.find(k=>k.id===u),U=w[u]||[];return c.jsxs("div",{className:"h-[calc(100vh-16rem)] flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b flex items-center gap-4",children:[c.jsx("button",{onClick:()=>h(null),className:"p-2 hover:bg-gray-100 rounded-full lg:hidden",children:c.jsx(Fw,{className:"w-5 h-5"})}),c.jsx("img",{src:(E==null?void 0:E.avatar)||((Y=b.find(k=>k.id.toString()===d))==null?void 0:Y.avatar),alt:E==null?void 0:E.companyName,className:"w-10 h-10 rounded-full object-cover"}),c.jsx("div",{children:c.jsx("h3",{className:"font-semibold",children:(E==null?void 0:E.companyName)||((Z=b.find(k=>k.id.toString()===d))==null?void 0:Z.companyName)})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[U.map(k=>{var O;return c.jsxs("div",{className:ge("flex gap-4",k.isOwn?"flex-row-reverse":"flex-row"),children:[c.jsx("img",{src:k.isOwn?T==null?void 0:T.picture:(E==null?void 0:E.avatar)||((O=b.find(P=>P.id.toString()===d))==null?void 0:O.avatar),alt:k.sender,className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}),c.jsxs("div",{className:ge("rounded-lg p-4 max-w-[70%]",k.isOwn?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"),children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:ge("font-medium",k.isOwn?"text-blue-100":"text-gray-600"),children:k.sender}),c.jsx("span",{className:ge("text-sm",k.isOwn?"text-blue-100":"text-gray-500"),children:Ke(k.timestamp)})]}),c.jsx("p",{children:k.content})]})]},`${k.id}-${k.timestamp}`)}),c.jsx("div",{ref:A})]}),c.jsx("div",{className:"p-4 border-t",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:f,onChange:k=>g(k.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:k=>k.key==="Enter"&&N()}),c.jsx("button",{onClick:N,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Send"})]})})]})};return c.jsxs(c.Fragment,{children:[c.jsx(Jg,{onNewMessage:J}),c.jsxs("div",{className:"container mx-auto px-4 py-12",children:[c.jsx("div",{className:"max-w-6xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-12",children:c.jsxs("div",{className:"flex items-center gap-6",children:[T!=null&&T.picture?c.jsx("img",{src:T.picture,alt:T.username,className:"w-24 h-24 rounded-full border-4 border-white shadow-lg"}):c.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-bold text-white",children:(je=T==null?void 0:T.username)==null?void 0:je.charAt(0).toUpperCase()})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:(T==null?void 0:T.username)||"Anonymous"}),c.jsxs("p",{className:"text-blue-100",children:["Member since ",(Xt=T==null?void 0:T.created_at)==null?void 0:Xt.slice(0,10)]})]})]})}),c.jsx("div",{className:"border-b",children:c.jsxs("div",{className:"flex gap-4 px-8",children:[c.jsx("button",{onClick:()=>{a("contracts"),h(null)},className:ge("px-4 py-4 font-medium transition-colors relative",o==="contracts"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"),children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($m,{className:"w-5 h-5"}),"My Contracts"]})}),c.jsx("button",{onClick:()=>a("chat"),className:ge("px-4 py-4 font-medium transition-colors relative",o==="chat"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"),children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Js,{className:"w-5 h-5"}),"Messages"]})})]})}),c.jsx("div",{className:"p-8",children:o==="contracts"?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"My Contracts"}),c.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(Ns,{className:"w-5 h-5"}),"Add Contract"]})]}),S?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(_t,{className:"w-8 h-8 animate-spin text-blue-600"})}):v.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-gray-500 mb-4",children:"No contracts found"}),c.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors mx-auto",children:[c.jsx(Ns,{className:"w-5 h-5"}),"Add Your First Contract"]})]}):v.map(E=>{var U,Y,Z,k,O,P,M,te,ae,rt,pt,st;return c.jsxs("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold mb-2",children:E.company_name}),c.jsx("p",{className:"text-gray-600",children:E.services})]}),c.jsx("span",{className:ge("px-3 py-1 rounded-full text-sm font-medium capitalize",ft(E.status)),children:E.status})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[c.jsx(bu,{className:"w-4 h-4"}),c.jsxs("span",{children:["Owner: ",E.owner_name]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[c.jsx(Dm,{className:"w-4 h-4"}),c.jsx("span",{children:E.selected_locations[0]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[c.jsx(Lm,{className:"w-4 h-4"}),c.jsxs("span",{children:["Submitted: ",Ct(E.created_at)]})]}),c.jsxs("div",{className:"text-gray-600",children:["Experience: ",E.experience," years"]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Description"}),c.jsx("p",{className:"text-gray-600",children:E.description})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[((U=E.selected_actions)==null?void 0:U.length)>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Actions"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:E.selected_actions.map((ne,le)=>c.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-sm",children:ne},le))})]}),((Y=E.selected_objects)==null?void 0:Y.length)>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Objects"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:E.selected_objects.map((ne,le)=>c.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-sm",children:ne},le))})]}),((Z=E.selected_locations)==null?void 0:Z.length)>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Locations"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:E.selected_locations.map((ne,le)=>c.jsx("span",{className:"px-2 py-1 bg-yellow-50 text-yellow-700 rounded text-sm",children:ne},le))})]}),((k=E.selected_sizes)==null?void 0:k.length)>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Sizes"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:E.selected_sizes.map((ne,le)=>c.jsx("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 rounded text-sm",children:ne},le))})]}),((O=E.selected_times)==null?void 0:O.length)>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Times"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:E.selected_times.map((ne,le)=>c.jsx("span",{className:"px-2 py-1 bg-red-50 text-red-700 rounded text-sm",children:ne},le))})]}),((P=E.selected_builds)==null?void 0:P.length)>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Builds"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:E.selected_builds.map((ne,le)=>c.jsx("span",{className:"px-2 py-1 bg-teal-50 text-teal-700 rounded text-sm",children:ne},le))})]}),((M=E.selected_installs)==null?void 0:M.length)>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Installs"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:E.selected_installs.map((ne,le)=>c.jsx("span",{className:"px-2 py-1 bg-orange-50 text-orange-700 rounded text-sm",children:ne},le))})]}),((te=E.selected_replaces)==null?void 0:te.length)>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Replaces"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:E.selected_replaces.map((ne,le)=>c.jsx("span",{className:"px-2 py-1 bg-pink-50 text-pink-700 rounded text-sm",children:ne},le))})]}),((ae=E.selected_removes)==null?void 0:ae.length)>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Removes"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:E.selected_removes.map((ne,le)=>c.jsx("span",{className:"px-2 py-1 bg-gray-50 text-gray-700 rounded text-sm",children:ne},le))})]}),((rt=E.selected_repairs)==null?void 0:rt.length)>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Repairs"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:E.selected_repairs.map((ne,le)=>c.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 rounded text-sm",children:ne},le))})]}),((pt=E.selected_cleans)==null?void 0:pt.length)>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Cleans"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:E.selected_cleans.map((ne,le)=>c.jsx("span",{className:"px-2 py-1 bg-lime-50 text-lime-700 rounded text-sm",children:ne},le))})]}),((st=E.selected_assemles)==null?void 0:st.length)>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Assembles"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:E.selected_assemles.map((ne,le)=>c.jsx("span",{className:"px-2 py-1 bg-cyan-50 text-cyan-700 rounded text-sm",children:ne},le))})]})]})]})]},E.id)})]}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 -m-8",children:[c.jsx("div",{className:ge("lg:border-r",u?"hidden lg:block":"block"),children:W()}),c.jsx("div",{className:ge("lg:col-span-2",u?"block":"hidden lg:block"),children:u?H():c.jsx("div",{className:"h-[calc(100vh-16rem)] flex items-center justify-center text-gray-500",children:"Select a conversation to start messaging"})})]})})]})}),c.jsx(ug,{isOpen:p,onClose:()=>y(!1),onSubmit:Ae})]})]})}var US=Object.defineProperty,FS=(t,e,n)=>e in t?US(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tl=(t,e,n)=>(FS(t,typeof e!="symbol"?e+"":e,n),n);let zS=class{constructor(){tl(this,"current",this.detect()),tl(this,"handoffState","pending"),tl(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Yn=new zS,kn=(t,e)=>{Yn.isServer?x.useEffect(t,e):x.useLayoutEffect(t,e)};function Uu(t){let e=x.useRef(t);return kn(()=>{e.current=t},[t]),e}let We=function(t){let e=Uu(t);return Vt.useCallback((...n)=>e.current(...n),[e])};function BS(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Ur(){let t=[],e={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),e.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return BS(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=Ur();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let s of t.splice(r,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}function Zg(){let[t]=x.useState(Ur);return x.useEffect(()=>()=>t.dispose(),[t]),t}function WS(){let t=typeof document>"u";return"useSyncExternalStore"in sl?(e=>e.useSyncExternalStore)(sl)(()=>()=>{},()=>!1,()=>!t):!1}function HS(){let t=WS(),[e,n]=x.useState(Yn.isHandoffComplete);return e&&Yn.isHandoffComplete===!1&&n(!1),x.useEffect(()=>{e!==!0&&n(!0)},[e]),x.useEffect(()=>Yn.handoff(),[]),t?!1:e}var sf;let Fu=(sf=Vt.useId)!=null?sf:function(){let t=HS(),[e,n]=Vt.useState(t?()=>Yn.nextId():null);return kn(()=>{e===null&&n(Yn.nextId())},[e]),e!=null?""+e:void 0};function ai(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ai),r}function ra(t){return Yn.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let kc=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var bc=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(bc||{}),VS=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(VS||{}),qS=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(qS||{});function Qg(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(kc)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var zu=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(zu||{});function Bu(t,e=0){var n;return t===((n=ra(t))==null?void 0:n.body)?!1:ai(e,{0(){return t.matches(kc)},1(){let r=t;for(;r!==null;){if(r.matches(kc))return!0;r=r.parentElement}return!1}})}function e0(t){let e=ra(t);Ur().nextFrame(()=>{e&&!Bu(e.activeElement,0)&&KS(t)})}var YS=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(YS||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function KS(t){t==null||t.focus({preventScroll:!0})}let JS=["textarea","input"].join(",");function GS(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,JS))!=null?n:!1}function t0(t,e=n=>n){return t.slice().sort((n,r)=>{let s=e(n),i=e(r);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function XS(t,e){return ZS(Qg(),e,{relativeTo:t})}function ZS(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?t0(t):t:Qg(t);s.length>0&&o.length>1&&(o=o.filter(g=>!s.includes(g))),r=r??i.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=e&32?{preventScroll:!0}:{},u=0,h=o.length,f;do{if(u>=h||u+h<=0)return 0;let g=l+u;if(e&16)g=(g+h)%h;else{if(g<0)return 3;if(g>=h)return 1}f=o[g],f==null||f.focus(d),u+=a}while(f!==i.activeElement);return e&6&&GS(f)&&f.select(),2}function QS(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function e2(){return/Android/gi.test(window.navigator.userAgent)}function t2(){return QS()||e2()}function Ii(t,e,n){let r=Uu(e);x.useEffect(()=>{function s(i){r.current(i)}return document.addEventListener(t,s,n),()=>document.removeEventListener(t,s,n)},[t,n])}function n2(t,e,n){let r=Uu(e);x.useEffect(()=>{function s(i){r.current(i)}return window.addEventListener(t,s,n),()=>window.removeEventListener(t,s,n)},[t,n])}function r2(t,e,n=!0){let r=x.useRef(!1);x.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function s(o,a){if(!r.current||o.defaultPrevented)return;let l=a(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let d=function u(h){return typeof h=="function"?u(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let u of d){if(u===null)continue;let h=u instanceof HTMLElement?u:u.current;if(h!=null&&h.contains(l)||o.composed&&o.composedPath().includes(h))return}return!Bu(l,zu.Loose)&&l.tabIndex!==-1&&o.preventDefault(),e(o,l)}let i=x.useRef(null);Ii("pointerdown",o=>{var a,l;r.current&&(i.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),Ii("mousedown",o=>{var a,l;r.current&&(i.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),Ii("click",o=>{t2()||i.current&&(s(o,()=>i.current),i.current=null)},!0),Ii("touchend",o=>s(o,()=>o.target instanceof HTMLElement?o.target:null),!0),n2("blur",o=>s(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function s2(...t){return x.useMemo(()=>ra(...t),[...t])}function of(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function i2(t,e){let[n,r]=x.useState(()=>of(t));return kn(()=>{r(of(t))},[t.type,t.as]),kn(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let o2=Symbol();function sa(...t){let e=x.useRef(t);x.useEffect(()=>{e.current=t},[t]);let n=We(r=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return t.every(r=>r==null||(r==null?void 0:r[o2]))?void 0:n}function af(t){return[t.screenX,t.screenY]}function a2(){let t=x.useRef([-1,-1]);return{wasMoved(e){let n=af(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=af(e)}}}function l2({container:t,accept:e,walk:n,enabled:r=!0}){let s=x.useRef(e),i=x.useRef(n);x.useEffect(()=>{s.current=e,i.current=n},[e,n]),kn(()=>{if(!t||!r)return;let o=ra(t);if(!o)return;let a=s.current,l=i.current,d=Object.assign(h=>a(h),{acceptNode:a}),u=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,d,!1);for(;u.nextNode();)l(u.currentNode)},[t,r,s,i])}function lf(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Sc=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Sc||{}),c2=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(c2||{});function ia({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:s,visible:i=!0,name:o,mergeRefs:a}){a=a??u2;let l=n0(e,t);if(i)return Ri(l,n,r,o,a);let d=s??0;if(d&2){let{static:u=!1,...h}=l;if(u)return Ri(h,n,r,o,a)}if(d&1){let{unmount:u=!0,...h}=l;return ai(u?0:1,{0(){return null},1(){return Ri({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Ri(l,n,r,o,a)}function Ri(t,e={},n,r,s){let{as:i=n,children:o,refName:a="ref",...l}=nl(t,["unmount","static"]),d=t.ref!==void 0?{[a]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let h={};if(e){let f=!1,g=[];for(let[v,_]of Object.entries(e))typeof _=="boolean"&&(f=!0),_===!0&&g.push(v);f&&(h["data-headlessui-state"]=g.join(" "))}if(i===x.Fragment&&Object.keys(cf(l)).length>0){if(!x.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`));let f=u.props,g=typeof(f==null?void 0:f.className)=="function"?(..._)=>lf(f==null?void 0:f.className(..._),l.className):lf(f==null?void 0:f.className,l.className),v=g?{className:g}:{};return x.cloneElement(u,Object.assign({},n0(u.props,cf(nl(l,["ref"]))),h,d,{ref:s(u.ref,d.ref)},v))}return x.createElement(i,Object.assign({},nl(l,["ref"]),i!==x.Fragment&&d,i!==x.Fragment&&h),u)}function u2(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function n0(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](s,...i){let o=n[r];for(let a of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;a(s,...i)}}});return e}function oa(t){var e;return Object.assign(x.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function cf(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function nl(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let Wu=x.createContext(null);Wu.displayName="OpenClosedContext";var Zs=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Zs||{});function d2(){return x.useContext(Wu)}function h2({value:t,children:e}){return Vt.createElement(Wu.Provider,{value:t},e)}function f2(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&p2(n)?!1:r}function p2(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function m2(t){throw new Error("Unexpected object: "+t)}var kt=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(kt||{});function g2(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),s=r??-1;switch(t.focus){case 0:{for(let i=0;i<n.length;++i)if(!e.resolveDisabled(n[i],i,n))return i;return r}case 1:{for(let i=s-1;i>=0;--i)if(!e.resolveDisabled(n[i],i,n))return i;return r}case 2:{for(let i=s+1;i<n.length;++i)if(!e.resolveDisabled(n[i],i,n))return i;return r}case 3:{for(let i=n.length-1;i>=0;--i)if(!e.resolveDisabled(n[i],i,n))return i;return r}case 4:{for(let i=0;i<n.length;++i)if(e.resolveId(n[i],i,n)===t.id)return i;return r}case 5:return null;default:m2(t)}}var Ee=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Ee||{});let uf=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function df(t){var e,n;let r=(e=t.innerText)!=null?e:"",s=t.cloneNode(!0);if(!(s instanceof HTMLElement))return r;let i=!1;for(let a of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),i=!0;let o=i?(n=s.innerText)!=null?n:"":r;return uf.test(o)&&(o=o.replace(uf,"")),o}function y2(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(s=>{let i=document.getElementById(s);if(i){let o=i.getAttribute("aria-label");return typeof o=="string"?o.trim():df(i).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return df(t).trim()}function v2(t){let e=x.useRef(""),n=x.useRef("");return We(()=>{let r=t.current;if(!r)return"";let s=r.innerText;if(e.current===s)return n.current;let i=y2(r).trim().toLowerCase();return e.current=s,n.current=i,i})}var w2=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(w2||{}),x2=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(x2||{}),_2=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(_2||{});function rl(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=t0(e(t.items.slice()),i=>i.dataRef.current.domRef.current),s=n?r.indexOf(n):null;return s===-1&&(s=null),{items:r,activeItemIndex:s}}let k2={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var n;let r=rl(t),s=g2(e,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...t,...r,searchQuery:"",activeItemIndex:s,activationTrigger:(n=e.trigger)!=null?n:1}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),s=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),i=s?t.items.indexOf(s):-1;return i===-1||i===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:i,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=rl(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},6:(t,e)=>{let n=rl(t,r=>{let s=r.findIndex(i=>i.id===e.id);return s!==-1&&r.splice(s,1),r});return{...t,...n,activationTrigger:1}}},Hu=x.createContext(null);Hu.displayName="MenuContext";function aa(t){let e=x.useContext(Hu);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,aa),n}return e}function b2(t,e){return ai(e.type,k2,t,e)}let S2=x.Fragment;function j2(t,e){let{__demoMode:n=!1,...r}=t,s=x.useReducer(b2,{__demoMode:n,menuState:n?0:1,buttonRef:x.createRef(),itemsRef:x.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:i,itemsRef:o,buttonRef:a},l]=s,d=sa(e);r2([a,o],(g,v)=>{var _;l({type:1}),Bu(v,zu.Loose)||(g.preventDefault(),(_=a.current)==null||_.focus())},i===0);let u=We(()=>{l({type:1})}),h=x.useMemo(()=>({open:i===0,close:u}),[i,u]),f={ref:d};return Vt.createElement(Hu.Provider,{value:s},Vt.createElement(h2,{value:ai(i,{0:Zs.Open,1:Zs.Closed})},ia({ourProps:f,theirProps:r,slot:h,defaultTag:S2,name:"Menu"})))}let N2="button";function E2(t,e){var n;let r=Fu(),{id:s=`headlessui-menu-button-${r}`,...i}=t,[o,a]=aa("Menu.Button"),l=sa(o.buttonRef,e),d=Zg(),u=We(_=>{switch(_.key){case Ee.Space:case Ee.Enter:case Ee.ArrowDown:_.preventDefault(),_.stopPropagation(),a({type:0}),d.nextFrame(()=>a({type:2,focus:kt.First}));break;case Ee.ArrowUp:_.preventDefault(),_.stopPropagation(),a({type:0}),d.nextFrame(()=>a({type:2,focus:kt.Last}));break}}),h=We(_=>{switch(_.key){case Ee.Space:_.preventDefault();break}}),f=We(_=>{if(f2(_.currentTarget))return _.preventDefault();t.disabled||(o.menuState===0?(a({type:1}),d.nextFrame(()=>{var S;return(S=o.buttonRef.current)==null?void 0:S.focus({preventScroll:!0})})):(_.preventDefault(),a({type:0})))}),g=x.useMemo(()=>({open:o.menuState===0}),[o]),v={ref:l,id:s,type:i2(t,o.buttonRef),"aria-haspopup":"menu","aria-controls":(n=o.itemsRef.current)==null?void 0:n.id,"aria-expanded":o.menuState===0,onKeyDown:u,onKeyUp:h,onClick:f};return ia({ourProps:v,theirProps:i,slot:g,defaultTag:N2,name:"Menu.Button"})}let C2="div",T2=Sc.RenderStrategy|Sc.Static;function O2(t,e){var n,r;let s=Fu(),{id:i=`headlessui-menu-items-${s}`,...o}=t,[a,l]=aa("Menu.Items"),d=sa(a.itemsRef,e),u=s2(a.itemsRef),h=Zg(),f=d2(),g=f!==null?(f&Zs.Open)===Zs.Open:a.menuState===0;x.useEffect(()=>{let p=a.itemsRef.current;p&&a.menuState===0&&p!==(u==null?void 0:u.activeElement)&&p.focus({preventScroll:!0})},[a.menuState,a.itemsRef,u]),l2({container:a.itemsRef.current,enabled:a.menuState===0,accept(p){return p.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});let v=We(p=>{var y,w;switch(h.dispose(),p.key){case Ee.Space:if(a.searchQuery!=="")return p.preventDefault(),p.stopPropagation(),l({type:3,value:p.key});case Ee.Enter:if(p.preventDefault(),p.stopPropagation(),l({type:1}),a.activeItemIndex!==null){let{dataRef:j}=a.items[a.activeItemIndex];(w=(y=j.current)==null?void 0:y.domRef.current)==null||w.click()}e0(a.buttonRef.current);break;case Ee.ArrowDown:return p.preventDefault(),p.stopPropagation(),l({type:2,focus:kt.Next});case Ee.ArrowUp:return p.preventDefault(),p.stopPropagation(),l({type:2,focus:kt.Previous});case Ee.Home:case Ee.PageUp:return p.preventDefault(),p.stopPropagation(),l({type:2,focus:kt.First});case Ee.End:case Ee.PageDown:return p.preventDefault(),p.stopPropagation(),l({type:2,focus:kt.Last});case Ee.Escape:p.preventDefault(),p.stopPropagation(),l({type:1}),Ur().nextFrame(()=>{var j;return(j=a.buttonRef.current)==null?void 0:j.focus({preventScroll:!0})});break;case Ee.Tab:p.preventDefault(),p.stopPropagation(),l({type:1}),Ur().nextFrame(()=>{XS(a.buttonRef.current,p.shiftKey?bc.Previous:bc.Next)});break;default:p.key.length===1&&(l({type:3,value:p.key}),h.setTimeout(()=>l({type:4}),350));break}}),_=We(p=>{switch(p.key){case Ee.Space:p.preventDefault();break}}),S=x.useMemo(()=>({open:a.menuState===0}),[a]),m={"aria-activedescendant":a.activeItemIndex===null||(n=a.items[a.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=a.buttonRef.current)==null?void 0:r.id,id:i,onKeyDown:v,onKeyUp:_,role:"menu",tabIndex:0,ref:d};return ia({ourProps:m,theirProps:o,slot:S,defaultTag:C2,features:T2,visible:g,name:"Menu.Items"})}let P2=x.Fragment;function I2(t,e){let n=Fu(),{id:r=`headlessui-menu-item-${n}`,disabled:s=!1,...i}=t,[o,a]=aa("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,d=x.useRef(null),u=sa(e,d);kn(()=>{if(o.__demoMode||o.menuState!==0||!l||o.activationTrigger===0)return;let j=Ur();return j.requestAnimationFrame(()=>{var b,C;(C=(b=d.current)==null?void 0:b.scrollIntoView)==null||C.call(b,{block:"nearest"})}),j.dispose},[o.__demoMode,d,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let h=v2(d),f=x.useRef({disabled:s,domRef:d,get textValue(){return h()}});kn(()=>{f.current.disabled=s},[f,s]),kn(()=>(a({type:5,id:r,dataRef:f}),()=>a({type:6,id:r})),[f,r]);let g=We(()=>{a({type:1})}),v=We(j=>{if(s)return j.preventDefault();a({type:1}),e0(o.buttonRef.current)}),_=We(()=>{if(s)return a({type:2,focus:kt.Nothing});a({type:2,focus:kt.Specific,id:r})}),S=a2(),m=We(j=>S.update(j)),p=We(j=>{S.wasMoved(j)&&(s||l||a({type:2,focus:kt.Specific,id:r,trigger:0}))}),y=We(j=>{S.wasMoved(j)&&(s||l&&a({type:2,focus:kt.Nothing}))}),w=x.useMemo(()=>({active:l,disabled:s,close:g}),[l,s,g]);return ia({ourProps:{id:r,ref:u,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,disabled:void 0,onClick:v,onFocus:_,onPointerEnter:m,onMouseEnter:m,onPointerMove:p,onMouseMove:p,onPointerLeave:y,onMouseLeave:y},theirProps:i,slot:w,defaultTag:P2,name:"Menu.Item"})}let R2=oa(j2),A2=oa(E2),L2=oa(O2),$2=oa(I2),us=Object.assign(R2,{Button:A2,Items:L2,Item:$2});function D2(){const{user:t,logout:e}=Zo(),[n,r]=x.useState(!1);return c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(jo,{to:"/account",className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-blue-600 transition-colors",children:[c.jsx(ox,{className:"w-5 h-5"}),c.jsx("span",{children:"Personal Account"})]}),c.jsxs(us,{as:"div",className:"relative",children:[c.jsx(us.Button,{className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",onClick:()=>r(!n),children:t!=null&&t.picture?c.jsx("img",{src:t.picture,alt:t.name,className:"w-8 h-8 rounded-full"}):c.jsx(Ww,{className:"w-8 h-8 text-gray-600"})}),c.jsxs(us.Items,{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg py-1 z-50",children:[c.jsxs("div",{className:"px-4 py-2 border-b",children:[c.jsx("p",{className:"font-medium text-gray-900",children:t==null?void 0:t.name}),c.jsx("p",{className:"text-sm text-gray-500",children:t==null?void 0:t.email})]}),c.jsx(us.Item,{children:({active:s})=>c.jsxs(jo,{to:"/account",className:`${s?"bg-gray-100":""} flex items-center gap-2 w-full px-4 py-2 text-left text-gray-700`,children:[c.jsx(nx,{className:"w-4 h-4"}),"Account Settings"]})}),c.jsx(us.Item,{children:({active:s})=>c.jsxs("button",{onClick:()=>e(),className:`${s?"bg-gray-100":""} flex items-center gap-2 w-full px-4 py-2 text-left text-gray-700`,children:[c.jsx(Gw,{className:"w-4 h-4"}),"Sign Out"]})})]})]})]})}const r0=x.createContext(void 0),M2=({children:t})=>{const[e,n]=x.useState([]),[r,s]=x.useState(!1),i=x.useCallback(async o=>{try{const l=await(await fetch("https://contractors-0q4c.onrender.com/api/chats",{headers:{Authorization:`Bearer ${o}`}})).json();n(l.chats||[])}catch{n([])}},[]);return c.jsx(r0.Provider,{value:{chatList:e,setChatList:n,fetchChats:i,isChatsSubscribed:r,setIsChatsSubscribed:s},children:t})},U2=()=>{const t=x.useContext(r0);if(!t)throw new Error("useChatContext must be used within ChatProvider");return t},s0=x.createContext(void 0),i0=()=>{const t=x.useContext(s0);if(!t)throw new Error("NotificationContext not found");return t},F2=({children:t})=>{const[e,n]=x.useState([]),r=x.useCallback(async()=>{const i=localStorage.getItem("auth_token");if(!i)return;const o=await fetch("https://contractors-0q4c.onrender.com/api/notifications",{headers:{Authorization:`Bearer ${i}`}});if(o.ok){const a=await o.json();n(a)}},[]),s=x.useCallback(async()=>{const i=localStorage.getItem("auth_token");if(!i)return;(await fetch("https://contractors-0q4c.onrender.com/api/notifications/mark-as-read",{method:"PUT",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({})})).ok&&n(a=>a.map(l=>({...l,read:!0})))},[]);return c.jsx(s0.Provider,{value:{notifications:e,setNotifications:n,fetchNotifications:r,markAllAsRead:s},children:t})};function z2({count:t,notifications:e}){const[n,r]=x.useState(!1),{markAllAsRead:s}=i0(),i=t>10?"10+":t.toString(),o=async()=>{n||await s(),r(!n)},a=l=>{switch(l){case"success":return c.jsx(Su,{className:"w-5 h-5 text-green-500"});case"error":return c.jsx(si,{className:"w-5 h-5 text-red-500"});case"info":return c.jsx(Yw,{className:"w-5 h-5 text-blue-500"})}};return c.jsxs("div",{className:"relative",children:[c.jsxs("div",{onClick:o,className:"relative p-2 hover:bg-gray-100 rounded-full transition-colors cursor-pointer",children:[c.jsx(zw,{className:"w-6 h-6 text-gray-700 hover:text-blue-600 transition-colors"}),t>0&&c.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full min-w-[18px] h-[18px] flex items-center justify-center px-1",children:i})]}),n&&c.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-100 z-50",children:[c.jsx("div",{className:"p-4 border-b border-gray-100",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"})})}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.length===0?c.jsx("div",{className:"p-4 text-center text-gray-500",children:"No new notifications"}):e.map(l=>c.jsx("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:c.jsxs("div",{className:"flex items-start gap-3",children:[a(l.type),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm text-gray-900",children:l.message}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l.time})]})]})},l.id))}),c.jsx("div",{className:"p-4 border-t border-gray-100",children:c.jsx("button",{className:"w-full text-center text-sm text-blue-600 hover:text-blue-700",onClick:()=>r(!1),children:"Close"})})]})]})}function B2(){const{isAuthenticated:t,isLoading:e,loginWithRedirect:n}=Zo();Vt.useState(3);const r=ta(),{chatList:s,fetchChats:i,isChatsSubscribed:o,setIsChatsSubscribed:a}=U2(),{showToast:l}=Xg(),{notifications:d,fetchNotifications:u}=i0();x.useEffect(()=>{if(t&&r&&!o){const f=localStorage.getItem("auth_token");if(!f)return;i(f).then(()=>{a(!0)})}},[t,r,o,i,a]),x.useEffect(()=>{r&&s.length>0&&t&&s.forEach(f=>{r.emit("joinChat",f.chat_id),console.log("Подписались на чат:",f.chat_id)})},[r,s,t]);const h=f=>{console.log("Глобально получено новое сообщение:",f),l(f.content,`New message in chat ${f.sender_name}`)};return x.useEffect(()=>{t&&u()},[t,u]),e?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(_t,{className:"w-8 h-8 animate-spin text-blue-600"})}):c.jsxs("div",{className:"min-h-screen bg-gray-50 font-inter",children:[c.jsx("nav",{className:"bg-white shadow-sm",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsxs(jo,{to:"/",className:"flex items-center gap-2 text-blue-600 font-semibold",children:[c.jsx(bu,{className:"w-6 h-6"}),c.jsx("span",{children:"ContractorFinder"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[t&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(jo,{to:"/admin",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors",children:"Admin Panel"}),c.jsx("div",{className:"hover:bg-gray-100 p-2 rounded-full transition-colors",children:c.jsx(z2,{count:d.filter(f=>!f.read).length,notifications:d.map(f=>({...f,time:f.created_at}))})})]}),t?c.jsx(D2,{}):c.jsxs("button",{onClick:()=>n(),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(Jw,{className:"w-4 h-4"}),"Sign In"]})]})]})})}),t&&c.jsx(Jg,{onNewMessage:h}),c.jsxs(jw,{children:[c.jsx(qi,{path:"/",element:c.jsx(lb,{})}),c.jsx(qi,{path:"/admin",element:c.jsx(cb,{})}),c.jsx(qi,{path:"/account",element:c.jsx(MS,{})})]})]})}const o0=document.getElementById("root");if(!o0)throw new Error("Failed to find the root element");Sm(o0).render(c.jsx(x.StrictMode,{children:c.jsx(Rw,{children:c.jsx(hk,{children:c.jsx(ux,{children:c.jsx(ob,{children:c.jsx(M2,{children:c.jsx(DS,{children:c.jsx(F2,{children:c.jsx(B2,{})})})})})})})})}));export{l0 as g};
