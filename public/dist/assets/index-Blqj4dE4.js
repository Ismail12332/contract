var gk=Object.defineProperty;var yk=(t,e,n)=>e in t?gk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Bt=(t,e,n)=>yk(t,typeof e!="symbol"?e+"":e,n);function vk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function No(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hu(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Bv={exports:{}},fu={},Lv={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa=Symbol.for("react.element"),wk=Symbol.for("react.portal"),xk=Symbol.for("react.fragment"),bk=Symbol.for("react.strict_mode"),_k=Symbol.for("react.profiler"),kk=Symbol.for("react.provider"),Sk=Symbol.for("react.context"),Ek=Symbol.for("react.forward_ref"),Ck=Symbol.for("react.suspense"),Nk=Symbol.for("react.memo"),Ik=Symbol.for("react.lazy"),Am=Symbol.iterator;function Ak(t){return t===null||typeof t!="object"?null:(t=Am&&t[Am]||t["@@iterator"],typeof t=="function"?t:null)}var Fv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uv=Object.assign,Dv={};function Io(t,e,n){this.props=t,this.context=e,this.refs=Dv,this.updater=n||Fv}Io.prototype.isReactComponent={};Io.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Io.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $v(){}$v.prototype=Io.prototype;function Cp(t,e,n){this.props=t,this.context=e,this.refs=Dv,this.updater=n||Fv}var Np=Cp.prototype=new $v;Np.constructor=Cp;Uv(Np,Io.prototype);Np.isPureReactComponent=!0;var Tm=Array.isArray,zv=Object.prototype.hasOwnProperty,Ip={current:null},qv={key:!0,ref:!0,__self:!0,__source:!0};function Wv(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)zv.call(e,r)&&!qv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Xa,type:t,key:s,ref:o,props:i,_owner:Ip.current}}function Tk(t,e){return{$$typeof:Xa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ap(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xa}function Rk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rm=/\/+/g;function kd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rk(""+t.key):e.toString(36)}function Ql(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xa:case wk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+kd(o,0):r,Tm(i)?(n="",t!=null&&(n=t.replace(Rm,"$&/")+"/"),Ql(i,e,n,"",function(c){return c})):i!=null&&(Ap(i)&&(i=Tk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Rm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Tm(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+kd(s,a);o+=Ql(s,e,n,l,i)}else if(l=Ak(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+kd(s,a++),o+=Ql(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yl(t,e,n){if(t==null)return t;var r=[],i=0;return Ql(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bn={current:null},Jl={transition:null},Ok={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:Jl,ReactCurrentOwner:Ip};function Hv(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:yl,forEach:function(t,e,n){yl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yl(t,function(){e++}),e},toArray:function(t){return yl(t,function(e){return e})||[]},only:function(t){if(!Ap(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Io;Pe.Fragment=xk;Pe.Profiler=_k;Pe.PureComponent=Cp;Pe.StrictMode=bk;Pe.Suspense=Ck;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ok;Pe.act=Hv;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Uv({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ip.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zv.call(e,l)&&!qv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Xa,type:t.type,key:i,ref:s,props:r,_owner:o}};Pe.createContext=function(t){return t={$$typeof:Sk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kk,_context:t},t.Consumer=t};Pe.createElement=Wv;Pe.createFactory=function(t){var e=Wv.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:Ek,render:t}};Pe.isValidElement=Ap;Pe.lazy=function(t){return{$$typeof:Ik,_payload:{_status:-1,_result:t},_init:jk}};Pe.memo=function(t,e){return{$$typeof:Nk,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Jl.transition;Jl.transition={};try{t()}finally{Jl.transition=e}};Pe.unstable_act=Hv;Pe.useCallback=function(t,e){return bn.current.useCallback(t,e)};Pe.useContext=function(t){return bn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return bn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return bn.current.useEffect(t,e)};Pe.useId=function(){return bn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return bn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return bn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return bn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return bn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return bn.current.useReducer(t,e,n)};Pe.useRef=function(t){return bn.current.useRef(t)};Pe.useState=function(t){return bn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return bn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return bn.current.useTransition()};Pe.version="18.3.1";Lv.exports=Pe;var U=Lv.exports;const it=No(U),zh=vk({__proto__:null,default:it},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk=U,Mk=Symbol.for("react.element"),Bk=Symbol.for("react.fragment"),Lk=Object.prototype.hasOwnProperty,Fk=Pk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uk={key:!0,ref:!0,__self:!0,__source:!0};function Kv(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Lk.call(e,r)&&!Uk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Mk,type:t,key:s,ref:o,props:i,_owner:Fk.current}}fu.Fragment=Bk;fu.jsx=Kv;fu.jsxs=Kv;Bv.exports=fu;var d=Bv.exports,Vv={exports:{}},Dn={},Gv={exports:{}},Yv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,A){var O=S.length;S.push(A);e:for(;0<O;){var N=O-1>>>1,p=S[N];if(0<i(p,A))S[N]=A,S[O]=p,O=N;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var A=S[0],O=S.pop();if(O!==A){S[0]=O;e:for(var N=0,p=S.length,P=p>>>1;N<P;){var ne=2*(N+1)-1,re=S[ne],se=ne+1,me=S[se];if(0>i(re,O))se<p&&0>i(me,re)?(S[N]=me,S[se]=O,N=se):(S[N]=re,S[ne]=O,N=ne);else if(se<p&&0>i(me,O))S[N]=me,S[se]=O,N=se;else break e}}return A}function i(S,A){var O=S.sortIndex-A.sortIndex;return O!==0?O:S.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,m=3,v=!1,b=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(S){for(var A=n(c);A!==null;){if(A.callback===null)r(c);else if(A.startTime<=S)r(c),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(c)}}function R(S){if(x=!1,C(S),!b)if(n(l)!==null)b=!0,E(F);else{var A=n(c);A!==null&&I(R,A.startTime-S)}}function F(S,A){b=!1,x&&(x=!1,k(K),K=-1),v=!0;var O=m;try{for(C(A),h=n(l);h!==null&&(!(h.expirationTime>A)||S&&!X());){var N=h.callback;if(typeof N=="function"){h.callback=null,m=h.priorityLevel;var p=N(h.expirationTime<=A);A=t.unstable_now(),typeof p=="function"?h.callback=p:h===n(l)&&r(l),C(A)}else r(l);h=n(l)}if(h!==null)var P=!0;else{var ne=n(c);ne!==null&&I(R,ne.startTime-A),P=!1}return P}finally{h=null,m=O,v=!1}}var L=!1,$=null,K=-1,ee=5,V=-1;function X(){return!(t.unstable_now()-V<ee)}function le(){if($!==null){var S=t.unstable_now();V=S;var A=!0;try{A=$(!0,S)}finally{A?M():(L=!1,$=null)}}else L=!1}var M;if(typeof _=="function")M=function(){_(le)};else if(typeof MessageChannel<"u"){var f=new MessageChannel,w=f.port2;f.port1.onmessage=le,M=function(){w.postMessage(null)}}else M=function(){j(le,0)};function E(S){$=S,L||(L=!0,M())}function I(S,A){K=j(function(){S(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){b||v||(b=!0,E(F))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(S){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var O=m;m=A;try{return S()}finally{m=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,A){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var O=m;m=S;try{return A()}finally{m=O}},t.unstable_scheduleCallback=function(S,A,O){var N=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?N+O:N):O=N,S){case 1:var p=-1;break;case 2:p=250;break;case 5:p=1073741823;break;case 4:p=1e4;break;default:p=5e3}return p=O+p,S={id:u++,callback:A,priorityLevel:S,startTime:O,expirationTime:p,sortIndex:-1},O>N?(S.sortIndex=O,e(c,S),n(l)===null&&S===n(c)&&(x?(k(K),K=-1):x=!0,I(R,O-N))):(S.sortIndex=p,e(l,S),b||v||(b=!0,E(F))),S},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(S){var A=m;return function(){var O=m;m=A;try{return S.apply(this,arguments)}finally{m=O}}}})(Yv);Gv.exports=Yv;var Dk=Gv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $k=U,Un=Dk;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qv=new Set,Na={};function xs(t,e){ho(t,e),ho(t+"Capture",e)}function ho(t,e){for(Na[t]=e,t=0;t<e.length;t++)Qv.add(e[t])}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qh=Object.prototype.hasOwnProperty,zk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jm={},Om={};function qk(t){return qh.call(Om,t)?!0:qh.call(jm,t)?!1:zk.test(t)?Om[t]=!0:(jm[t]=!0,!1)}function Wk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hk(t,e,n,r){if(e===null||typeof e>"u"||Wk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _n(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new _n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new _n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new _n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new _n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new _n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new _n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new _n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new _n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new _n(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tp=/[\-:]([a-z])/g;function Rp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tp,Rp);nn[e]=new _n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tp,Rp);nn[e]=new _n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tp,Rp);nn[e]=new _n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new _n(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new _n(t,1,!1,t.toLowerCase(),null,!0,!0)});function jp(t,e,n,r){var i=nn.hasOwnProperty(e)?nn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Hk(e,n,i,r)&&(n=null),r||i===null?qk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ni=$k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vl=Symbol.for("react.element"),qs=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),Op=Symbol.for("react.strict_mode"),Wh=Symbol.for("react.profiler"),Jv=Symbol.for("react.provider"),Zv=Symbol.for("react.context"),Pp=Symbol.for("react.forward_ref"),Hh=Symbol.for("react.suspense"),Kh=Symbol.for("react.suspense_list"),Mp=Symbol.for("react.memo"),hi=Symbol.for("react.lazy"),Xv=Symbol.for("react.offscreen"),Pm=Symbol.iterator;function qo(t){return t===null||typeof t!="object"?null:(t=Pm&&t[Pm]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,Sd;function sa(t){if(Sd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sd=e&&e[1]||""}return`
`+Sd+t}var Ed=!1;function Cd(t,e){if(!t||Ed)return"";Ed=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ed=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sa(t):""}function Kk(t){switch(t.tag){case 5:return sa(t.type);case 16:return sa("Lazy");case 13:return sa("Suspense");case 19:return sa("SuspenseList");case 0:case 2:case 15:return t=Cd(t.type,!1),t;case 11:return t=Cd(t.type.render,!1),t;case 1:return t=Cd(t.type,!0),t;default:return""}}function Vh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ws:return"Fragment";case qs:return"Portal";case Wh:return"Profiler";case Op:return"StrictMode";case Hh:return"Suspense";case Kh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zv:return(t.displayName||"Context")+".Consumer";case Jv:return(t._context.displayName||"Context")+".Provider";case Pp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mp:return e=t.displayName||null,e!==null?e:Vh(t.type)||"Memo";case hi:e=t._payload,t=t._init;try{return Vh(t(e))}catch{}}return null}function Vk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vh(e);case 8:return e===Op?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ew(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Gk(t){var e=ew(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wl(t){t._valueTracker||(t._valueTracker=Gk(t))}function tw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ew(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gh(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Mm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Li(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nw(t,e){e=e.checked,e!=null&&jp(t,"checked",e,!1)}function Yh(t,e){nw(t,e);var n=Li(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qh(t,e.type,Li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qh(t,e,n){(e!=="number"||vc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oa=Array.isArray;function no(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Li(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(oa(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Li(n)}}function rw(t,e){var n=Li(e.value),r=Li(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xl,sw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xl=xl||document.createElement("div"),xl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ia(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yk=["Webkit","ms","Moz","O"];Object.keys(ha).forEach(function(t){Yk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ha[e]=ha[t]})});function ow(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ha.hasOwnProperty(t)&&ha[t]?(""+e).trim():e+"px"}function aw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ow(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Qk=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xh(t,e){if(e){if(Qk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function ef(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tf=null;function Bp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nf=null,ro=null,io=null;function Um(t){if(t=nl(t)){if(typeof nf!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=vu(e),nf(t.stateNode,t.type,e))}}function lw(t){ro?io?io.push(t):io=[t]:ro=t}function cw(){if(ro){var t=ro,e=io;if(io=ro=null,Um(t),e)for(t=0;t<e.length;t++)Um(e[t])}}function uw(t,e){return t(e)}function dw(){}var Nd=!1;function hw(t,e,n){if(Nd)return t(e,n);Nd=!0;try{return uw(t,e,n)}finally{Nd=!1,(ro!==null||io!==null)&&(dw(),cw())}}function Aa(t,e){var n=t.stateNode;if(n===null)return null;var r=vu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var rf=!1;if(Zr)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){rf=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{rf=!1}function Jk(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var fa=!1,wc=null,xc=!1,sf=null,Zk={onError:function(t){fa=!0,wc=t}};function Xk(t,e,n,r,i,s,o,a,l){fa=!1,wc=null,Jk.apply(Zk,arguments)}function eS(t,e,n,r,i,s,o,a,l){if(Xk.apply(this,arguments),fa){if(fa){var c=wc;fa=!1,wc=null}else throw Error(ie(198));xc||(xc=!0,sf=c)}}function bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dm(t){if(bs(t)!==t)throw Error(ie(188))}function tS(t){var e=t.alternate;if(!e){if(e=bs(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dm(i),t;if(s===r)return Dm(i),e;s=s.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function pw(t){return t=tS(t),t!==null?mw(t):null}function mw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mw(t);if(e!==null)return e;t=t.sibling}return null}var gw=Un.unstable_scheduleCallback,$m=Un.unstable_cancelCallback,nS=Un.unstable_shouldYield,rS=Un.unstable_requestPaint,yt=Un.unstable_now,iS=Un.unstable_getCurrentPriorityLevel,Lp=Un.unstable_ImmediatePriority,yw=Un.unstable_UserBlockingPriority,bc=Un.unstable_NormalPriority,sS=Un.unstable_LowPriority,vw=Un.unstable_IdlePriority,pu=null,Rr=null;function oS(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(pu,t,void 0,(t.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:cS,aS=Math.log,lS=Math.LN2;function cS(t){return t>>>=0,t===0?32:31-(aS(t)/lS|0)|0}var bl=64,_l=4194304;function aa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _c(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=aa(a):(s&=o,s!==0&&(r=aa(s)))}else o=n&~i,o!==0?r=aa(o):s!==0&&(r=aa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gr(e),i=1<<n,r|=t[n],e&=~i;return r}function uS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-gr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=uS(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function of(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ww(){var t=bl;return bl<<=1,!(bl&4194240)&&(bl=64),t}function Id(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function el(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gr(e),t[e]=n}function hS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-gr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Fp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var We=0;function xw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bw,Up,_w,kw,Sw,af=!1,kl=[],Si=null,Ei=null,Ci=null,Ta=new Map,Ra=new Map,gi=[],fS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zm(t,e){switch(t){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":Ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(e.pointerId)}}function Ho(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nl(e),e!==null&&Up(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pS(t,e,n,r,i){switch(e){case"focusin":return Si=Ho(Si,t,e,n,r,i),!0;case"dragenter":return Ei=Ho(Ei,t,e,n,r,i),!0;case"mouseover":return Ci=Ho(Ci,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ta.set(s,Ho(Ta.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ra.set(s,Ho(Ra.get(s)||null,t,e,n,r,i)),!0}return!1}function Ew(t){var e=rs(t.target);if(e!==null){var n=bs(e);if(n!==null){if(e=n.tag,e===13){if(e=fw(n),e!==null){t.blockedOn=e,Sw(t.priority,function(){_w(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);tf=r,n.target.dispatchEvent(r),tf=null}else return e=nl(n),e!==null&&Up(e),t.blockedOn=n,!1;e.shift()}return!0}function qm(t,e,n){Zl(t)&&n.delete(e)}function mS(){af=!1,Si!==null&&Zl(Si)&&(Si=null),Ei!==null&&Zl(Ei)&&(Ei=null),Ci!==null&&Zl(Ci)&&(Ci=null),Ta.forEach(qm),Ra.forEach(qm)}function Ko(t,e){t.blockedOn===e&&(t.blockedOn=null,af||(af=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,mS)))}function ja(t){function e(i){return Ko(i,t)}if(0<kl.length){Ko(kl[0],t);for(var n=1;n<kl.length;n++){var r=kl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Si!==null&&Ko(Si,t),Ei!==null&&Ko(Ei,t),Ci!==null&&Ko(Ci,t),Ta.forEach(e),Ra.forEach(e),n=0;n<gi.length;n++)r=gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)Ew(n),n.blockedOn===null&&gi.shift()}var so=ni.ReactCurrentBatchConfig,kc=!0;function gS(t,e,n,r){var i=We,s=so.transition;so.transition=null;try{We=1,Dp(t,e,n,r)}finally{We=i,so.transition=s}}function yS(t,e,n,r){var i=We,s=so.transition;so.transition=null;try{We=4,Dp(t,e,n,r)}finally{We=i,so.transition=s}}function Dp(t,e,n,r){if(kc){var i=lf(t,e,n,r);if(i===null)Fd(t,e,r,Sc,n),zm(t,r);else if(pS(i,t,e,n,r))r.stopPropagation();else if(zm(t,r),e&4&&-1<fS.indexOf(t)){for(;i!==null;){var s=nl(i);if(s!==null&&bw(s),s=lf(t,e,n,r),s===null&&Fd(t,e,r,Sc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Fd(t,e,r,null,n)}}var Sc=null;function lf(t,e,n,r){if(Sc=null,t=Bp(r),t=rs(t),t!==null)if(e=bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sc=t,null}function Cw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iS()){case Lp:return 1;case yw:return 4;case bc:case sS:return 16;case vw:return 536870912;default:return 16}default:return 16}}var wi=null,$p=null,Xl=null;function Nw(){if(Xl)return Xl;var t,e=$p,n=e.length,r,i="value"in wi?wi.value:wi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Xl=i.slice(t,1<r?1-r:void 0)}function ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sl(){return!0}function Wm(){return!1}function $n(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Sl:Wm,this.isPropagationStopped=Wm,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),e}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zp=$n(Ao),tl=at({},Ao,{view:0,detail:0}),vS=$n(tl),Ad,Td,Vo,mu=at({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vo&&(Vo&&t.type==="mousemove"?(Ad=t.screenX-Vo.screenX,Td=t.screenY-Vo.screenY):Td=Ad=0,Vo=t),Ad)},movementY:function(t){return"movementY"in t?t.movementY:Td}}),Hm=$n(mu),wS=at({},mu,{dataTransfer:0}),xS=$n(wS),bS=at({},tl,{relatedTarget:0}),Rd=$n(bS),_S=at({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),kS=$n(_S),SS=at({},Ao,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ES=$n(SS),CS=at({},Ao,{data:0}),Km=$n(CS),NS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AS[t])?!!e[t]:!1}function qp(){return TS}var RS=at({},tl,{key:function(t){if(t.key){var e=NS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?IS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qp,charCode:function(t){return t.type==="keypress"?ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jS=$n(RS),OS=at({},mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vm=$n(OS),PS=at({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qp}),MS=$n(PS),BS=at({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),LS=$n(BS),FS=at({},mu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),US=$n(FS),DS=[9,13,27,32],Wp=Zr&&"CompositionEvent"in window,pa=null;Zr&&"documentMode"in document&&(pa=document.documentMode);var $S=Zr&&"TextEvent"in window&&!pa,Iw=Zr&&(!Wp||pa&&8<pa&&11>=pa),Gm=" ",Ym=!1;function Aw(t,e){switch(t){case"keyup":return DS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function zS(t,e){switch(t){case"compositionend":return Tw(e);case"keypress":return e.which!==32?null:(Ym=!0,Gm);case"textInput":return t=e.data,t===Gm&&Ym?null:t;default:return null}}function qS(t,e){if(Hs)return t==="compositionend"||!Wp&&Aw(t,e)?(t=Nw(),Xl=$p=wi=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Iw&&e.locale!=="ko"?null:e.data;default:return null}}var WS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WS[t.type]:e==="textarea"}function Rw(t,e,n,r){lw(r),e=Ec(e,"onChange"),0<e.length&&(n=new zp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ma=null,Oa=null;function HS(t){zw(t,0)}function gu(t){var e=Gs(t);if(tw(e))return t}function KS(t,e){if(t==="change")return e}var jw=!1;if(Zr){var jd;if(Zr){var Od="oninput"in document;if(!Od){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),Od=typeof Jm.oninput=="function"}jd=Od}else jd=!1;jw=jd&&(!document.documentMode||9<document.documentMode)}function Zm(){ma&&(ma.detachEvent("onpropertychange",Ow),Oa=ma=null)}function Ow(t){if(t.propertyName==="value"&&gu(Oa)){var e=[];Rw(e,Oa,t,Bp(t)),hw(HS,e)}}function VS(t,e,n){t==="focusin"?(Zm(),ma=e,Oa=n,ma.attachEvent("onpropertychange",Ow)):t==="focusout"&&Zm()}function GS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gu(Oa)}function YS(t,e){if(t==="click")return gu(e)}function QS(t,e){if(t==="input"||t==="change")return gu(e)}function JS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wr=typeof Object.is=="function"?Object.is:JS;function Pa(t,e){if(wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qh.call(e,i)||!wr(t[i],e[i]))return!1}return!0}function Xm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eg(t,e){var n=Xm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xm(n)}}function Pw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mw(){for(var t=window,e=vc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vc(t.document)}return e}function Hp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZS(t){var e=Mw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Pw(n.ownerDocument.documentElement,n)){if(r!==null&&Hp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=eg(n,s);var o=eg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XS=Zr&&"documentMode"in document&&11>=document.documentMode,Ks=null,cf=null,ga=null,uf=!1;function tg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uf||Ks==null||Ks!==vc(r)||(r=Ks,"selectionStart"in r&&Hp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ga&&Pa(ga,r)||(ga=r,r=Ec(cf,"onSelect"),0<r.length&&(e=new zp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ks)))}function El(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vs={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},Pd={},Bw={};Zr&&(Bw=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function yu(t){if(Pd[t])return Pd[t];if(!Vs[t])return t;var e=Vs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Bw)return Pd[t]=e[n];return t}var Lw=yu("animationend"),Fw=yu("animationiteration"),Uw=yu("animationstart"),Dw=yu("transitionend"),$w=new Map,ng="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(t,e){$w.set(t,e),xs(e,[t])}for(var Md=0;Md<ng.length;Md++){var Bd=ng[Md],e2=Bd.toLowerCase(),t2=Bd[0].toUpperCase()+Bd.slice(1);$i(e2,"on"+t2)}$i(Lw,"onAnimationEnd");$i(Fw,"onAnimationIteration");$i(Uw,"onAnimationStart");$i("dblclick","onDoubleClick");$i("focusin","onFocus");$i("focusout","onBlur");$i(Dw,"onTransitionEnd");ho("onMouseEnter",["mouseout","mouseover"]);ho("onMouseLeave",["mouseout","mouseover"]);ho("onPointerEnter",["pointerout","pointerover"]);ho("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n2=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function rg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eS(r,e,void 0,t),t.currentTarget=null}function zw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;rg(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;rg(i,a,c),s=l}}}if(xc)throw t=sf,xc=!1,sf=null,t}function Je(t,e){var n=e[mf];n===void 0&&(n=e[mf]=new Set);var r=t+"__bubble";n.has(r)||(qw(e,t,2,!1),n.add(r))}function Ld(t,e,n){var r=0;e&&(r|=4),qw(n,t,r,e)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function Ma(t){if(!t[Cl]){t[Cl]=!0,Qv.forEach(function(n){n!=="selectionchange"&&(n2.has(n)||Ld(n,!1,t),Ld(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cl]||(e[Cl]=!0,Ld("selectionchange",!1,e))}}function qw(t,e,n,r){switch(Cw(e)){case 1:var i=gS;break;case 4:i=yS;break;default:i=Dp}n=i.bind(null,e,n,t),i=void 0,!rf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Fd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=rs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}hw(function(){var c=s,u=Bp(n),h=[];e:{var m=$w.get(t);if(m!==void 0){var v=zp,b=t;switch(t){case"keypress":if(ec(n)===0)break e;case"keydown":case"keyup":v=jS;break;case"focusin":b="focus",v=Rd;break;case"focusout":b="blur",v=Rd;break;case"beforeblur":case"afterblur":v=Rd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Hm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=xS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=MS;break;case Lw:case Fw:case Uw:v=kS;break;case Dw:v=LS;break;case"scroll":v=vS;break;case"wheel":v=US;break;case"copy":case"cut":case"paste":v=ES;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Vm}var x=(e&4)!==0,j=!x&&t==="scroll",k=x?m!==null?m+"Capture":null:m;x=[];for(var _=c,C;_!==null;){C=_;var R=C.stateNode;if(C.tag===5&&R!==null&&(C=R,k!==null&&(R=Aa(_,k),R!=null&&x.push(Ba(_,R,C)))),j)break;_=_.return}0<x.length&&(m=new v(m,b,null,n,u),h.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==tf&&(b=n.relatedTarget||n.fromElement)&&(rs(b)||b[Xr]))break e;if((v||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,v?(b=n.relatedTarget||n.toElement,v=c,b=b?rs(b):null,b!==null&&(j=bs(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=c),v!==b)){if(x=Hm,R="onMouseLeave",k="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=Vm,R="onPointerLeave",k="onPointerEnter",_="pointer"),j=v==null?m:Gs(v),C=b==null?m:Gs(b),m=new x(R,_+"leave",v,n,u),m.target=j,m.relatedTarget=C,R=null,rs(u)===c&&(x=new x(k,_+"enter",b,n,u),x.target=C,x.relatedTarget=j,R=x),j=R,v&&b)t:{for(x=v,k=b,_=0,C=x;C;C=Ns(C))_++;for(C=0,R=k;R;R=Ns(R))C++;for(;0<_-C;)x=Ns(x),_--;for(;0<C-_;)k=Ns(k),C--;for(;_--;){if(x===k||k!==null&&x===k.alternate)break t;x=Ns(x),k=Ns(k)}x=null}else x=null;v!==null&&ig(h,m,v,x,!1),b!==null&&j!==null&&ig(h,j,b,x,!0)}}e:{if(m=c?Gs(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var F=KS;else if(Qm(m))if(jw)F=QS;else{F=GS;var L=VS}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(F=YS);if(F&&(F=F(t,c))){Rw(h,F,n,u);break e}L&&L(t,m,c),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&Qh(m,"number",m.value)}switch(L=c?Gs(c):window,t){case"focusin":(Qm(L)||L.contentEditable==="true")&&(Ks=L,cf=c,ga=null);break;case"focusout":ga=cf=Ks=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,tg(h,n,u);break;case"selectionchange":if(XS)break;case"keydown":case"keyup":tg(h,n,u)}var $;if(Wp)e:{switch(t){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else Hs?Aw(t,n)&&(K="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(K="onCompositionStart");K&&(Iw&&n.locale!=="ko"&&(Hs||K!=="onCompositionStart"?K==="onCompositionEnd"&&Hs&&($=Nw()):(wi=u,$p="value"in wi?wi.value:wi.textContent,Hs=!0)),L=Ec(c,K),0<L.length&&(K=new Km(K,t,null,n,u),h.push({event:K,listeners:L}),$?K.data=$:($=Tw(n),$!==null&&(K.data=$)))),($=$S?zS(t,n):qS(t,n))&&(c=Ec(c,"onBeforeInput"),0<c.length&&(u=new Km("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=$))}zw(h,e)})}function Ba(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ec(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Aa(t,n),s!=null&&r.unshift(Ba(t,s,i)),s=Aa(t,e),s!=null&&r.push(Ba(t,s,i))),t=t.return}return r}function Ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ig(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Aa(n,s),l!=null&&o.unshift(Ba(n,l,a))):i||(l=Aa(n,s),l!=null&&o.push(Ba(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var r2=/\r\n?/g,i2=/\u0000|\uFFFD/g;function sg(t){return(typeof t=="string"?t:""+t).replace(r2,`
`).replace(i2,"")}function Nl(t,e,n){if(e=sg(e),sg(t)!==e&&n)throw Error(ie(425))}function Cc(){}var df=null,hf=null;function ff(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pf=typeof setTimeout=="function"?setTimeout:void 0,s2=typeof clearTimeout=="function"?clearTimeout:void 0,og=typeof Promise=="function"?Promise:void 0,o2=typeof queueMicrotask=="function"?queueMicrotask:typeof og<"u"?function(t){return og.resolve(null).then(t).catch(a2)}:pf;function a2(t){setTimeout(function(){throw t})}function Ud(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ja(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ja(e)}function Ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ag(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var To=Math.random().toString(36).slice(2),Ir="__reactFiber$"+To,La="__reactProps$"+To,Xr="__reactContainer$"+To,mf="__reactEvents$"+To,l2="__reactListeners$"+To,c2="__reactHandles$"+To;function rs(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xr]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ag(t);t!==null;){if(n=t[Ir])return n;t=ag(t)}return e}t=n,n=t.parentNode}return null}function nl(t){return t=t[Ir]||t[Xr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function vu(t){return t[La]||null}var gf=[],Ys=-1;function zi(t){return{current:t}}function Ze(t){0>Ys||(t.current=gf[Ys],gf[Ys]=null,Ys--)}function Ye(t,e){Ys++,gf[Ys]=t.current,t.current=e}var Fi={},fn=zi(Fi),Tn=zi(!1),ms=Fi;function fo(t,e){var n=t.type.contextTypes;if(!n)return Fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function Nc(){Ze(Tn),Ze(fn)}function lg(t,e,n){if(fn.current!==Fi)throw Error(ie(168));Ye(fn,e),Ye(Tn,n)}function Ww(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ie(108,Vk(t)||"Unknown",i));return at({},n,r)}function Ic(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fi,ms=fn.current,Ye(fn,t),Ye(Tn,Tn.current),!0}function cg(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=Ww(t,e,ms),r.__reactInternalMemoizedMergedChildContext=t,Ze(Tn),Ze(fn),Ye(fn,t)):Ze(Tn),Ye(Tn,n)}var Wr=null,wu=!1,Dd=!1;function Hw(t){Wr===null?Wr=[t]:Wr.push(t)}function u2(t){wu=!0,Hw(t)}function qi(){if(!Dd&&Wr!==null){Dd=!0;var t=0,e=We;try{var n=Wr;for(We=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wr=null,wu=!1}catch(i){throw Wr!==null&&(Wr=Wr.slice(t+1)),gw(Lp,qi),i}finally{We=e,Dd=!1}}return null}var Qs=[],Js=0,Ac=null,Tc=0,Qn=[],Jn=0,gs=null,Yr=1,Qr="";function Gi(t,e){Qs[Js++]=Tc,Qs[Js++]=Ac,Ac=t,Tc=e}function Kw(t,e,n){Qn[Jn++]=Yr,Qn[Jn++]=Qr,Qn[Jn++]=gs,gs=t;var r=Yr;t=Qr;var i=32-gr(r)-1;r&=~(1<<i),n+=1;var s=32-gr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yr=1<<32-gr(e)+i|n<<i|r,Qr=s+t}else Yr=1<<s|n<<i|r,Qr=t}function Kp(t){t.return!==null&&(Gi(t,1),Kw(t,1,0))}function Vp(t){for(;t===Ac;)Ac=Qs[--Js],Qs[Js]=null,Tc=Qs[--Js],Qs[Js]=null;for(;t===gs;)gs=Qn[--Jn],Qn[Jn]=null,Qr=Qn[--Jn],Qn[Jn]=null,Yr=Qn[--Jn],Qn[Jn]=null}var Fn=null,Ln=null,tt=!1,hr=null;function Vw(t,e){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ug(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fn=t,Ln=Ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fn=t,Ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gs!==null?{id:Yr,overflow:Qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fn=t,Ln=null,!0):!1;default:return!1}}function yf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vf(t){if(tt){var e=Ln;if(e){var n=e;if(!ug(t,e)){if(yf(t))throw Error(ie(418));e=Ni(n.nextSibling);var r=Fn;e&&ug(t,e)?Vw(r,n):(t.flags=t.flags&-4097|2,tt=!1,Fn=t)}}else{if(yf(t))throw Error(ie(418));t.flags=t.flags&-4097|2,tt=!1,Fn=t}}}function dg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fn=t}function Il(t){if(t!==Fn)return!1;if(!tt)return dg(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ff(t.type,t.memoizedProps)),e&&(e=Ln)){if(yf(t))throw Gw(),Error(ie(418));for(;e;)Vw(t,e),e=Ni(e.nextSibling)}if(dg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ln=Ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ln=null}}else Ln=Fn?Ni(t.stateNode.nextSibling):null;return!0}function Gw(){for(var t=Ln;t;)t=Ni(t.nextSibling)}function po(){Ln=Fn=null,tt=!1}function Gp(t){hr===null?hr=[t]:hr.push(t)}var d2=ni.ReactCurrentBatchConfig;function Go(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function Al(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hg(t){var e=t._init;return e(t._payload)}function Yw(t){function e(k,_){if(t){var C=k.deletions;C===null?(k.deletions=[_],k.flags|=16):C.push(_)}}function n(k,_){if(!t)return null;for(;_!==null;)e(k,_),_=_.sibling;return null}function r(k,_){for(k=new Map;_!==null;)_.key!==null?k.set(_.key,_):k.set(_.index,_),_=_.sibling;return k}function i(k,_){return k=Ri(k,_),k.index=0,k.sibling=null,k}function s(k,_,C){return k.index=C,t?(C=k.alternate,C!==null?(C=C.index,C<_?(k.flags|=2,_):C):(k.flags|=2,_)):(k.flags|=1048576,_)}function o(k){return t&&k.alternate===null&&(k.flags|=2),k}function a(k,_,C,R){return _===null||_.tag!==6?(_=Vd(C,k.mode,R),_.return=k,_):(_=i(_,C),_.return=k,_)}function l(k,_,C,R){var F=C.type;return F===Ws?u(k,_,C.props.children,R,C.key):_!==null&&(_.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===hi&&hg(F)===_.type)?(R=i(_,C.props),R.ref=Go(k,_,C),R.return=k,R):(R=ac(C.type,C.key,C.props,null,k.mode,R),R.ref=Go(k,_,C),R.return=k,R)}function c(k,_,C,R){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=Gd(C,k.mode,R),_.return=k,_):(_=i(_,C.children||[]),_.return=k,_)}function u(k,_,C,R,F){return _===null||_.tag!==7?(_=ds(C,k.mode,R,F),_.return=k,_):(_=i(_,C),_.return=k,_)}function h(k,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Vd(""+_,k.mode,C),_.return=k,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vl:return C=ac(_.type,_.key,_.props,null,k.mode,C),C.ref=Go(k,null,_),C.return=k,C;case qs:return _=Gd(_,k.mode,C),_.return=k,_;case hi:var R=_._init;return h(k,R(_._payload),C)}if(oa(_)||qo(_))return _=ds(_,k.mode,C,null),_.return=k,_;Al(k,_)}return null}function m(k,_,C,R){var F=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return F!==null?null:a(k,_,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case vl:return C.key===F?l(k,_,C,R):null;case qs:return C.key===F?c(k,_,C,R):null;case hi:return F=C._init,m(k,_,F(C._payload),R)}if(oa(C)||qo(C))return F!==null?null:u(k,_,C,R,null);Al(k,C)}return null}function v(k,_,C,R,F){if(typeof R=="string"&&R!==""||typeof R=="number")return k=k.get(C)||null,a(_,k,""+R,F);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case vl:return k=k.get(R.key===null?C:R.key)||null,l(_,k,R,F);case qs:return k=k.get(R.key===null?C:R.key)||null,c(_,k,R,F);case hi:var L=R._init;return v(k,_,C,L(R._payload),F)}if(oa(R)||qo(R))return k=k.get(C)||null,u(_,k,R,F,null);Al(_,R)}return null}function b(k,_,C,R){for(var F=null,L=null,$=_,K=_=0,ee=null;$!==null&&K<C.length;K++){$.index>K?(ee=$,$=null):ee=$.sibling;var V=m(k,$,C[K],R);if(V===null){$===null&&($=ee);break}t&&$&&V.alternate===null&&e(k,$),_=s(V,_,K),L===null?F=V:L.sibling=V,L=V,$=ee}if(K===C.length)return n(k,$),tt&&Gi(k,K),F;if($===null){for(;K<C.length;K++)$=h(k,C[K],R),$!==null&&(_=s($,_,K),L===null?F=$:L.sibling=$,L=$);return tt&&Gi(k,K),F}for($=r(k,$);K<C.length;K++)ee=v($,k,K,C[K],R),ee!==null&&(t&&ee.alternate!==null&&$.delete(ee.key===null?K:ee.key),_=s(ee,_,K),L===null?F=ee:L.sibling=ee,L=ee);return t&&$.forEach(function(X){return e(k,X)}),tt&&Gi(k,K),F}function x(k,_,C,R){var F=qo(C);if(typeof F!="function")throw Error(ie(150));if(C=F.call(C),C==null)throw Error(ie(151));for(var L=F=null,$=_,K=_=0,ee=null,V=C.next();$!==null&&!V.done;K++,V=C.next()){$.index>K?(ee=$,$=null):ee=$.sibling;var X=m(k,$,V.value,R);if(X===null){$===null&&($=ee);break}t&&$&&X.alternate===null&&e(k,$),_=s(X,_,K),L===null?F=X:L.sibling=X,L=X,$=ee}if(V.done)return n(k,$),tt&&Gi(k,K),F;if($===null){for(;!V.done;K++,V=C.next())V=h(k,V.value,R),V!==null&&(_=s(V,_,K),L===null?F=V:L.sibling=V,L=V);return tt&&Gi(k,K),F}for($=r(k,$);!V.done;K++,V=C.next())V=v($,k,K,V.value,R),V!==null&&(t&&V.alternate!==null&&$.delete(V.key===null?K:V.key),_=s(V,_,K),L===null?F=V:L.sibling=V,L=V);return t&&$.forEach(function(le){return e(k,le)}),tt&&Gi(k,K),F}function j(k,_,C,R){if(typeof C=="object"&&C!==null&&C.type===Ws&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case vl:e:{for(var F=C.key,L=_;L!==null;){if(L.key===F){if(F=C.type,F===Ws){if(L.tag===7){n(k,L.sibling),_=i(L,C.props.children),_.return=k,k=_;break e}}else if(L.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===hi&&hg(F)===L.type){n(k,L.sibling),_=i(L,C.props),_.ref=Go(k,L,C),_.return=k,k=_;break e}n(k,L);break}else e(k,L);L=L.sibling}C.type===Ws?(_=ds(C.props.children,k.mode,R,C.key),_.return=k,k=_):(R=ac(C.type,C.key,C.props,null,k.mode,R),R.ref=Go(k,_,C),R.return=k,k=R)}return o(k);case qs:e:{for(L=C.key;_!==null;){if(_.key===L)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){n(k,_.sibling),_=i(_,C.children||[]),_.return=k,k=_;break e}else{n(k,_);break}else e(k,_);_=_.sibling}_=Gd(C,k.mode,R),_.return=k,k=_}return o(k);case hi:return L=C._init,j(k,_,L(C._payload),R)}if(oa(C))return b(k,_,C,R);if(qo(C))return x(k,_,C,R);Al(k,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(n(k,_.sibling),_=i(_,C),_.return=k,k=_):(n(k,_),_=Vd(C,k.mode,R),_.return=k,k=_),o(k)):n(k,_)}return j}var mo=Yw(!0),Qw=Yw(!1),Rc=zi(null),jc=null,Zs=null,Yp=null;function Qp(){Yp=Zs=jc=null}function Jp(t){var e=Rc.current;Ze(Rc),t._currentValue=e}function wf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oo(t,e){jc=t,Yp=Zs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(In=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if(Yp!==t)if(t={context:t,memoizedValue:e,next:null},Zs===null){if(jc===null)throw Error(ie(308));Zs=t,jc.dependencies={lanes:0,firstContext:t}}else Zs=Zs.next=t;return e}var is=null;function Zp(t){is===null?is=[t]:is.push(t)}function Jw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Zp(e)):(n.next=i.next,i.next=n),e.interleaved=n,ei(t,r)}function ei(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fi=!1;function Xp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ei(t,n)}return i=r.interleaved,i===null?(e.next=e,Zp(r)):(e.next=i.next,i.next=e),r.interleaved=e,ei(t,n)}function tc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fp(t,n)}}function fg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Oc(t,e,n,r){var i=t.updateQueue;fi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var m=a.lane,v=a.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,x=a;switch(m=e,v=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){h=b.call(v,h,m);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,m=typeof b=="function"?b.call(v,h,m):b,m==null)break e;h=at({},h,m);break e;case 2:fi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=v,l=h):u=u.next=v,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);vs|=o,t.lanes=o,t.memoizedState=h}}function pg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var rl={},jr=zi(rl),Fa=zi(rl),Ua=zi(rl);function ss(t){if(t===rl)throw Error(ie(174));return t}function e0(t,e){switch(Ye(Ua,e),Ye(Fa,t),Ye(jr,rl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zh(e,t)}Ze(jr),Ye(jr,e)}function go(){Ze(jr),Ze(Fa),Ze(Ua)}function Xw(t){ss(Ua.current);var e=ss(jr.current),n=Zh(e,t.type);e!==n&&(Ye(Fa,t),Ye(jr,n))}function t0(t){Fa.current===t&&(Ze(jr),Ze(Fa))}var nt=zi(0);function Pc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $d=[];function n0(){for(var t=0;t<$d.length;t++)$d[t]._workInProgressVersionPrimary=null;$d.length=0}var nc=ni.ReactCurrentDispatcher,zd=ni.ReactCurrentBatchConfig,ys=0,st=null,Dt=null,Ht=null,Mc=!1,ya=!1,Da=0,h2=0;function rn(){throw Error(ie(321))}function r0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wr(t[n],e[n]))return!1;return!0}function i0(t,e,n,r,i,s){if(ys=s,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nc.current=t===null||t.memoizedState===null?g2:y2,t=n(r,i),ya){s=0;do{if(ya=!1,Da=0,25<=s)throw Error(ie(301));s+=1,Ht=Dt=null,e.updateQueue=null,nc.current=v2,t=n(r,i)}while(ya)}if(nc.current=Bc,e=Dt!==null&&Dt.next!==null,ys=0,Ht=Dt=st=null,Mc=!1,e)throw Error(ie(300));return t}function s0(){var t=Da!==0;return Da=0,t}function Cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?st.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function rr(){if(Dt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=Ht===null?st.memoizedState:Ht.next;if(e!==null)Ht=e,Dt=t;else{if(t===null)throw Error(ie(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ht===null?st.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function $a(t,e){return typeof e=="function"?e(t):e}function qd(t){var e=rr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=Dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ys&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,st.lanes|=u,vs|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,wr(r,e.memoizedState)||(In=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,st.lanes|=s,vs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wd(t){var e=rr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);wr(s,e.memoizedState)||(In=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function e1(){}function t1(t,e){var n=st,r=rr(),i=e(),s=!wr(r.memoizedState,i);if(s&&(r.memoizedState=i,In=!0),r=r.queue,o0(i1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,za(9,r1.bind(null,n,r,i,e),void 0,null),Kt===null)throw Error(ie(349));ys&30||n1(n,e,i)}return i}function n1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function r1(t,e,n,r){e.value=n,e.getSnapshot=r,s1(e)&&o1(t)}function i1(t,e,n){return n(function(){s1(e)&&o1(t)})}function s1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wr(t,n)}catch{return!0}}function o1(t){var e=ei(t,1);e!==null&&yr(e,t,1,-1)}function mg(t){var e=Cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:t},e.queue=t,t=t.dispatch=m2.bind(null,st,t),[e.memoizedState,t]}function za(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function a1(){return rr().memoizedState}function rc(t,e,n,r){var i=Cr();st.flags|=t,i.memoizedState=za(1|e,n,void 0,r===void 0?null:r)}function xu(t,e,n,r){var i=rr();r=r===void 0?null:r;var s=void 0;if(Dt!==null){var o=Dt.memoizedState;if(s=o.destroy,r!==null&&r0(r,o.deps)){i.memoizedState=za(e,n,s,r);return}}st.flags|=t,i.memoizedState=za(1|e,n,s,r)}function gg(t,e){return rc(8390656,8,t,e)}function o0(t,e){return xu(2048,8,t,e)}function l1(t,e){return xu(4,2,t,e)}function c1(t,e){return xu(4,4,t,e)}function u1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function d1(t,e,n){return n=n!=null?n.concat([t]):null,xu(4,4,u1.bind(null,e,t),n)}function a0(){}function h1(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&r0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function f1(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&r0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function p1(t,e,n){return ys&21?(wr(n,e)||(n=ww(),st.lanes|=n,vs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=n)}function f2(t,e){var n=We;We=n!==0&&4>n?n:4,t(!0);var r=zd.transition;zd.transition={};try{t(!1),e()}finally{We=n,zd.transition=r}}function m1(){return rr().memoizedState}function p2(t,e,n){var r=Ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},g1(t))y1(e,n);else if(n=Jw(t,e,n,r),n!==null){var i=wn();yr(n,t,r,i),v1(n,e,r)}}function m2(t,e,n){var r=Ti(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(g1(t))y1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,wr(a,o)){var l=e.interleaved;l===null?(i.next=i,Zp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Jw(t,e,i,r),n!==null&&(i=wn(),yr(n,t,r,i),v1(n,e,r))}}function g1(t){var e=t.alternate;return t===st||e!==null&&e===st}function y1(t,e){ya=Mc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function v1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fp(t,n)}}var Bc={readContext:nr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},g2={readContext:nr,useCallback:function(t,e){return Cr().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:gg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rc(4194308,4,u1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rc(4194308,4,t,e)},useInsertionEffect:function(t,e){return rc(4,2,t,e)},useMemo:function(t,e){var n=Cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=p2.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=Cr();return t={current:t},e.memoizedState=t},useState:mg,useDebugValue:a0,useDeferredValue:function(t){return Cr().memoizedState=t},useTransition:function(){var t=mg(!1),e=t[0];return t=f2.bind(null,t[1]),Cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=Cr();if(tt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),Kt===null)throw Error(ie(349));ys&30||n1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,gg(i1.bind(null,r,s,t),[t]),r.flags|=2048,za(9,r1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Cr(),e=Kt.identifierPrefix;if(tt){var n=Qr,r=Yr;n=(r&~(1<<32-gr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Da++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=h2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},y2={readContext:nr,useCallback:h1,useContext:nr,useEffect:o0,useImperativeHandle:d1,useInsertionEffect:l1,useLayoutEffect:c1,useMemo:f1,useReducer:qd,useRef:a1,useState:function(){return qd($a)},useDebugValue:a0,useDeferredValue:function(t){var e=rr();return p1(e,Dt.memoizedState,t)},useTransition:function(){var t=qd($a)[0],e=rr().memoizedState;return[t,e]},useMutableSource:e1,useSyncExternalStore:t1,useId:m1,unstable_isNewReconciler:!1},v2={readContext:nr,useCallback:h1,useContext:nr,useEffect:o0,useImperativeHandle:d1,useInsertionEffect:l1,useLayoutEffect:c1,useMemo:f1,useReducer:Wd,useRef:a1,useState:function(){return Wd($a)},useDebugValue:a0,useDeferredValue:function(t){var e=rr();return Dt===null?e.memoizedState=t:p1(e,Dt.memoizedState,t)},useTransition:function(){var t=Wd($a)[0],e=rr().memoizedState;return[t,e]},useMutableSource:e1,useSyncExternalStore:t1,useId:m1,unstable_isNewReconciler:!1};function lr(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bu={isMounted:function(t){return(t=t._reactInternals)?bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wn(),i=Ti(t),s=Jr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ii(t,s,i),e!==null&&(yr(e,t,i,r),tc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wn(),i=Ti(t),s=Jr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ii(t,s,i),e!==null&&(yr(e,t,i,r),tc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wn(),r=Ti(t),i=Jr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ii(t,i,r),e!==null&&(yr(e,t,r,n),tc(e,t,r))}};function yg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pa(n,r)||!Pa(i,s):!0}function w1(t,e,n){var r=!1,i=Fi,s=e.contextType;return typeof s=="object"&&s!==null?s=nr(s):(i=Rn(e)?ms:fn.current,r=e.contextTypes,s=(r=r!=null)?fo(t,i):Fi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bu.enqueueReplaceState(e,e.state,null)}function bf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=nr(s):(s=Rn(e)?ms:fn.current,i.context=fo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(xf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bu.enqueueReplaceState(i,i.state,null),Oc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yo(t,e){try{var n="",r=e;do n+=Kk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _f(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var w2=typeof WeakMap=="function"?WeakMap:Map;function x1(t,e,n){n=Jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fc||(Fc=!0,jf=r),_f(t,e)},n}function b1(t,e,n){n=Jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_f(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){_f(t,e),typeof r!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function wg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new w2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=O2.bind(null,t,e,n),e.then(t,t))}function xg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jr(-1,1),e.tag=2,Ii(n,e,1))),n.lanes|=1),t)}var x2=ni.ReactCurrentOwner,In=!1;function mn(t,e,n,r){e.child=t===null?Qw(e,null,n,r):mo(e,t.child,n,r)}function _g(t,e,n,r,i){n=n.render;var s=e.ref;return oo(e,i),r=i0(t,e,n,r,s,i),n=s0(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ti(t,e,i)):(tt&&n&&Kp(e),e.flags|=1,mn(t,e,r,i),e.child)}function kg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!m0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,_1(t,e,s,r,i)):(t=ac(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pa,n(o,r)&&t.ref===e.ref)return ti(t,e,i)}return e.flags|=1,t=Ri(s,r),t.ref=e.ref,t.return=e,e.child=t}function _1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Pa(s,r)&&t.ref===e.ref)if(In=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(In=!0);else return e.lanes=t.lanes,ti(t,e,i)}return kf(t,e,n,r,i)}function k1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(eo,Pn),Pn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(eo,Pn),Pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ye(eo,Pn),Pn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ye(eo,Pn),Pn|=r;return mn(t,e,i,n),e.child}function S1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kf(t,e,n,r,i){var s=Rn(n)?ms:fn.current;return s=fo(e,s),oo(e,i),n=i0(t,e,n,r,s,i),r=s0(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ti(t,e,i)):(tt&&r&&Kp(e),e.flags|=1,mn(t,e,n,i),e.child)}function Sg(t,e,n,r,i){if(Rn(n)){var s=!0;Ic(e)}else s=!1;if(oo(e,i),e.stateNode===null)ic(t,e),w1(e,n,r),bf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=nr(c):(c=Rn(n)?ms:fn.current,c=fo(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&vg(e,o,r,c),fi=!1;var m=e.memoizedState;o.state=m,Oc(e,r,o,i),l=e.memoizedState,a!==r||m!==l||Tn.current||fi?(typeof u=="function"&&(xf(e,n,u,r),l=e.memoizedState),(a=fi||yg(e,n,a,r,m,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Zw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:lr(e.type,a),o.props=c,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=nr(l):(l=Rn(n)?ms:fn.current,l=fo(e,l));var v=n.getDerivedStateFromProps;(u=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&vg(e,o,r,l),fi=!1,m=e.memoizedState,o.state=m,Oc(e,r,o,i);var b=e.memoizedState;a!==h||m!==b||Tn.current||fi?(typeof v=="function"&&(xf(e,n,v,r),b=e.memoizedState),(c=fi||yg(e,n,c,r,m,b,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Sf(t,e,n,r,s,i)}function Sf(t,e,n,r,i,s){S1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&cg(e,n,!1),ti(t,e,s);r=e.stateNode,x2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=mo(e,t.child,null,s),e.child=mo(e,null,a,s)):mn(t,e,a,s),e.memoizedState=r.state,i&&cg(e,n,!0),e.child}function E1(t){var e=t.stateNode;e.pendingContext?lg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lg(t,e.context,!1),e0(t,e.containerInfo)}function Eg(t,e,n,r,i){return po(),Gp(i),e.flags|=256,mn(t,e,n,r),e.child}var Ef={dehydrated:null,treeContext:null,retryLane:0};function Cf(t){return{baseLanes:t,cachePool:null,transitions:null}}function C1(t,e,n){var r=e.pendingProps,i=nt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ye(nt,i&1),t===null)return vf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Su(o,r,0,null),t=ds(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Cf(n),e.memoizedState=Ef,t):l0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return b2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ri(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ri(a,s):(s=ds(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Cf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ef,r}return s=t.child,t=s.sibling,r=Ri(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function l0(t,e){return e=Su({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tl(t,e,n,r){return r!==null&&Gp(r),mo(e,t.child,null,n),t=l0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function b2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Hd(Error(ie(422))),Tl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Su({mode:"visible",children:r.children},i,0,null),s=ds(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&mo(e,t.child,null,o),e.child.memoizedState=Cf(o),e.memoizedState=Ef,s);if(!(e.mode&1))return Tl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ie(419)),r=Hd(s,r,void 0),Tl(t,e,o,r)}if(a=(o&t.childLanes)!==0,In||a){if(r=Kt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ei(t,i),yr(r,t,i,-1))}return p0(),r=Hd(Error(ie(421))),Tl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=P2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ln=Ni(i.nextSibling),Fn=e,tt=!0,hr=null,t!==null&&(Qn[Jn++]=Yr,Qn[Jn++]=Qr,Qn[Jn++]=gs,Yr=t.id,Qr=t.overflow,gs=e),e=l0(e,r.children),e.flags|=4096,e)}function Cg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wf(t.return,e,n)}function Kd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function N1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(mn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cg(t,n,e);else if(t.tag===19)Cg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ye(nt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Pc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Kd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Pc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Kd(e,!0,n,null,s);break;case"together":Kd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ic(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=Ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _2(t,e,n){switch(e.tag){case 3:E1(e),po();break;case 5:Xw(e);break;case 1:Rn(e.type)&&Ic(e);break;case 4:e0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ye(Rc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ye(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?C1(t,e,n):(Ye(nt,nt.current&1),t=ti(t,e,n),t!==null?t.sibling:null);Ye(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return N1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,k1(t,e,n)}return ti(t,e,n)}var I1,Nf,A1,T1;I1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nf=function(){};A1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ss(jr.current);var s=null;switch(n){case"input":i=Gh(t,i),r=Gh(t,r),s=[];break;case"select":i=at({},i,{value:void 0}),r=at({},r,{value:void 0}),s=[];break;case"textarea":i=Jh(t,i),r=Jh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cc)}Xh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Na.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Na.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Je("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};T1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yo(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function k2(t,e,n){var r=e.pendingProps;switch(Vp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return Rn(e.type)&&Nc(),sn(e),null;case 3:return r=e.stateNode,go(),Ze(Tn),Ze(fn),n0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Il(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hr!==null&&(Mf(hr),hr=null))),Nf(t,e),sn(e),null;case 5:t0(e);var i=ss(Ua.current);if(n=e.type,t!==null&&e.stateNode!=null)A1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return sn(e),null}if(t=ss(jr.current),Il(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ir]=e,r[La]=s,t=(e.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(i=0;i<la.length;i++)Je(la[i],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":Mm(r,s),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Je("invalid",r);break;case"textarea":Lm(r,s),Je("invalid",r)}Xh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Nl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Nl(r.textContent,a,t),i=["children",""+a]):Na.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Je("scroll",r)}switch(n){case"input":wl(r),Bm(r,s,!0);break;case"textarea":wl(r),Fm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ir]=e,t[La]=r,I1(t,e,!1,!1),e.stateNode=t;e:{switch(o=ef(n,r),n){case"dialog":Je("cancel",t),Je("close",t),i=r;break;case"iframe":case"object":case"embed":Je("load",t),i=r;break;case"video":case"audio":for(i=0;i<la.length;i++)Je(la[i],t);i=r;break;case"source":Je("error",t),i=r;break;case"img":case"image":case"link":Je("error",t),Je("load",t),i=r;break;case"details":Je("toggle",t),i=r;break;case"input":Mm(t,r),i=Gh(t,r),Je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=at({},r,{value:void 0}),Je("invalid",t);break;case"textarea":Lm(t,r),i=Jh(t,r),Je("invalid",t);break;default:i=r}Xh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?aw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ia(t,l):typeof l=="number"&&Ia(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Na.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Je("scroll",t):l!=null&&jp(t,s,l,o))}switch(n){case"input":wl(t),Bm(t,r,!1);break;case"textarea":wl(t),Fm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Li(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?no(t,!!r.multiple,s,!1):r.defaultValue!=null&&no(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(t&&e.stateNode!=null)T1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=ss(Ua.current),ss(jr.current),Il(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(s=r.nodeValue!==n)&&(t=Fn,t!==null))switch(t.tag){case 3:Nl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return sn(e),null;case 13:if(Ze(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Ln!==null&&e.mode&1&&!(e.flags&128))Gw(),po(),e.flags|=98560,s=!1;else if(s=Il(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ie(317));s[Ir]=e}else po(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),s=!1}else hr!==null&&(Mf(hr),hr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?$t===0&&($t=3):p0())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return go(),Nf(t,e),t===null&&Ma(e.stateNode.containerInfo),sn(e),null;case 10:return Jp(e.type._context),sn(e),null;case 17:return Rn(e.type)&&Nc(),sn(e),null;case 19:if(Ze(nt),s=e.memoizedState,s===null)return sn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Yo(s,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Pc(t),o!==null){for(e.flags|=128,Yo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ye(nt,nt.current&1|2),e.child}t=t.sibling}s.tail!==null&&yt()>vo&&(e.flags|=128,r=!0,Yo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Pc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!tt)return sn(e),null}else 2*yt()-s.renderingStartTime>vo&&n!==1073741824&&(e.flags|=128,r=!0,Yo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yt(),e.sibling=null,n=nt.current,Ye(nt,r?n&1|2:n&1),e):(sn(e),null);case 22:case 23:return f0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pn&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function S2(t,e){switch(Vp(e),e.tag){case 1:return Rn(e.type)&&Nc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return go(),Ze(Tn),Ze(fn),n0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return t0(e),null;case 13:if(Ze(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));po()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(nt),null;case 4:return go(),null;case 10:return Jp(e.type._context),null;case 22:case 23:return f0(),null;case 24:return null;default:return null}}var Rl=!1,hn=!1,E2=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Xs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ft(t,e,r)}else n.current=null}function If(t,e,n){try{n()}catch(r){ft(t,e,r)}}var Ng=!1;function C2(t,e){if(df=kc,t=Mw(),Hp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,m=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++u===r&&(l=o),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hf={focusedElem:t,selectionRange:n},kc=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,j=b.memoizedState,k=e.stateNode,_=k.getSnapshotBeforeUpdate(e.elementType===e.type?x:lr(e.type,x),j);k.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(R){ft(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return b=Ng,Ng=!1,b}function va(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&If(e,n,s)}i=i.next}while(i!==r)}}function _u(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Af(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function R1(t){var e=t.alternate;e!==null&&(t.alternate=null,R1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[La],delete e[mf],delete e[l2],delete e[c2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function j1(t){return t.tag===5||t.tag===3||t.tag===4}function Ig(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||j1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cc));else if(r!==4&&(t=t.child,t!==null))for(Tf(t,e,n),t=t.sibling;t!==null;)Tf(t,e,n),t=t.sibling}function Rf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rf(t,e,n),t=t.sibling;t!==null;)Rf(t,e,n),t=t.sibling}var Yt=null,cr=!1;function ri(t,e,n){for(n=n.child;n!==null;)O1(t,e,n),n=n.sibling}function O1(t,e,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(pu,n)}catch{}switch(n.tag){case 5:hn||Xs(n,e);case 6:var r=Yt,i=cr;Yt=null,ri(t,e,n),Yt=r,cr=i,Yt!==null&&(cr?(t=Yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(cr?(t=Yt,n=n.stateNode,t.nodeType===8?Ud(t.parentNode,n):t.nodeType===1&&Ud(t,n),ja(t)):Ud(Yt,n.stateNode));break;case 4:r=Yt,i=cr,Yt=n.stateNode.containerInfo,cr=!0,ri(t,e,n),Yt=r,cr=i;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&If(n,e,o),i=i.next}while(i!==r)}ri(t,e,n);break;case 1:if(!hn&&(Xs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ft(n,e,a)}ri(t,e,n);break;case 21:ri(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,ri(t,e,n),hn=r):ri(t,e,n);break;default:ri(t,e,n)}}function Ag(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new E2),e.forEach(function(r){var i=M2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Yt=a.stateNode,cr=!1;break e;case 3:Yt=a.stateNode.containerInfo,cr=!0;break e;case 4:Yt=a.stateNode.containerInfo,cr=!0;break e}a=a.return}if(Yt===null)throw Error(ie(160));O1(s,o,i),Yt=null,cr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ft(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)P1(e,t),e=e.sibling}function P1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),_r(t),r&4){try{va(3,t,t.return),_u(3,t)}catch(x){ft(t,t.return,x)}try{va(5,t,t.return)}catch(x){ft(t,t.return,x)}}break;case 1:or(e,t),_r(t),r&512&&n!==null&&Xs(n,n.return);break;case 5:if(or(e,t),_r(t),r&512&&n!==null&&Xs(n,n.return),t.flags&32){var i=t.stateNode;try{Ia(i,"")}catch(x){ft(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nw(i,s),ef(a,o);var c=ef(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?aw(i,h):u==="dangerouslySetInnerHTML"?sw(i,h):u==="children"?Ia(i,h):jp(i,u,h,c)}switch(a){case"input":Yh(i,s);break;case"textarea":rw(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?no(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?no(i,!!s.multiple,s.defaultValue,!0):no(i,!!s.multiple,s.multiple?[]:"",!1))}i[La]=s}catch(x){ft(t,t.return,x)}}break;case 6:if(or(e,t),_r(t),r&4){if(t.stateNode===null)throw Error(ie(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){ft(t,t.return,x)}}break;case 3:if(or(e,t),_r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ja(e.containerInfo)}catch(x){ft(t,t.return,x)}break;case 4:or(e,t),_r(t);break;case 13:or(e,t),_r(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(d0=yt())),r&4&&Ag(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(c=hn)||u,or(e,t),hn=c):or(e,t),_r(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(fe=t,u=t.child;u!==null;){for(h=fe=u;fe!==null;){switch(m=fe,v=m.child,m.tag){case 0:case 11:case 14:case 15:va(4,m,m.return);break;case 1:Xs(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(x){ft(r,n,x)}}break;case 5:Xs(m,m.return);break;case 22:if(m.memoizedState!==null){Rg(h);continue}}v!==null?(v.return=m,fe=v):Rg(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ow("display",o))}catch(x){ft(t,t.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){ft(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:or(e,t),_r(t),r&4&&Ag(t);break;case 21:break;default:or(e,t),_r(t)}}function _r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(j1(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ia(i,""),r.flags&=-33);var s=Ig(t);Rf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ig(t);Tf(t,a,o);break;default:throw Error(ie(161))}}catch(l){ft(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function N2(t,e,n){fe=t,M1(t)}function M1(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var i=fe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Rl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||hn;a=Rl;var c=hn;if(Rl=o,(hn=l)&&!c)for(fe=i;fe!==null;)o=fe,l=o.child,o.tag===22&&o.memoizedState!==null?jg(i):l!==null?(l.return=o,fe=l):jg(i);for(;s!==null;)fe=s,M1(s),s=s.sibling;fe=i,Rl=a,hn=c}Tg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,fe=s):Tg(t)}}function Tg(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||_u(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:lr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ja(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}hn||e.flags&512&&Af(e)}catch(m){ft(e,e.return,m)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function Rg(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function jg(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_u(4,e)}catch(l){ft(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ft(e,i,l)}}var s=e.return;try{Af(e)}catch(l){ft(e,s,l)}break;case 5:var o=e.return;try{Af(e)}catch(l){ft(e,o,l)}}}catch(l){ft(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var I2=Math.ceil,Lc=ni.ReactCurrentDispatcher,c0=ni.ReactCurrentOwner,er=ni.ReactCurrentBatchConfig,Le=0,Kt=null,Ft=null,en=0,Pn=0,eo=zi(0),$t=0,qa=null,vs=0,ku=0,u0=0,wa=null,Sn=null,d0=0,vo=1/0,zr=null,Fc=!1,jf=null,Ai=null,jl=!1,xi=null,Uc=0,xa=0,Of=null,sc=-1,oc=0;function wn(){return Le&6?yt():sc!==-1?sc:sc=yt()}function Ti(t){return t.mode&1?Le&2&&en!==0?en&-en:d2.transition!==null?(oc===0&&(oc=ww()),oc):(t=We,t!==0||(t=window.event,t=t===void 0?16:Cw(t.type)),t):1}function yr(t,e,n,r){if(50<xa)throw xa=0,Of=null,Error(ie(185));el(t,n,r),(!(Le&2)||t!==Kt)&&(t===Kt&&(!(Le&2)&&(ku|=n),$t===4&&yi(t,en)),jn(t,r),n===1&&Le===0&&!(e.mode&1)&&(vo=yt()+500,wu&&qi()))}function jn(t,e){var n=t.callbackNode;dS(t,e);var r=_c(t,t===Kt?en:0);if(r===0)n!==null&&$m(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$m(n),e===1)t.tag===0?u2(Og.bind(null,t)):Hw(Og.bind(null,t)),o2(function(){!(Le&6)&&qi()}),n=null;else{switch(xw(r)){case 1:n=Lp;break;case 4:n=yw;break;case 16:n=bc;break;case 536870912:n=vw;break;default:n=bc}n=q1(n,B1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function B1(t,e){if(sc=-1,oc=0,Le&6)throw Error(ie(327));var n=t.callbackNode;if(ao()&&t.callbackNode!==n)return null;var r=_c(t,t===Kt?en:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Dc(t,r);else{e=r;var i=Le;Le|=2;var s=F1();(Kt!==t||en!==e)&&(zr=null,vo=yt()+500,us(t,e));do try{R2();break}catch(a){L1(t,a)}while(!0);Qp(),Lc.current=s,Le=i,Ft!==null?e=0:(Kt=null,en=0,e=$t)}if(e!==0){if(e===2&&(i=of(t),i!==0&&(r=i,e=Pf(t,i))),e===1)throw n=qa,us(t,0),yi(t,r),jn(t,yt()),n;if(e===6)yi(t,r);else{if(i=t.current.alternate,!(r&30)&&!A2(i)&&(e=Dc(t,r),e===2&&(s=of(t),s!==0&&(r=s,e=Pf(t,s))),e===1))throw n=qa,us(t,0),yi(t,r),jn(t,yt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:Yi(t,Sn,zr);break;case 3:if(yi(t,r),(r&130023424)===r&&(e=d0+500-yt(),10<e)){if(_c(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){wn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pf(Yi.bind(null,t,Sn,zr),e);break}Yi(t,Sn,zr);break;case 4:if(yi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-gr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*I2(r/1960))-r,10<r){t.timeoutHandle=pf(Yi.bind(null,t,Sn,zr),r);break}Yi(t,Sn,zr);break;case 5:Yi(t,Sn,zr);break;default:throw Error(ie(329))}}}return jn(t,yt()),t.callbackNode===n?B1.bind(null,t):null}function Pf(t,e){var n=wa;return t.current.memoizedState.isDehydrated&&(us(t,e).flags|=256),t=Dc(t,e),t!==2&&(e=Sn,Sn=n,e!==null&&Mf(e)),t}function Mf(t){Sn===null?Sn=t:Sn.push.apply(Sn,t)}function A2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!wr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yi(t,e){for(e&=~u0,e&=~ku,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gr(e),r=1<<n;t[n]=-1,e&=~r}}function Og(t){if(Le&6)throw Error(ie(327));ao();var e=_c(t,0);if(!(e&1))return jn(t,yt()),null;var n=Dc(t,e);if(t.tag!==0&&n===2){var r=of(t);r!==0&&(e=r,n=Pf(t,r))}if(n===1)throw n=qa,us(t,0),yi(t,e),jn(t,yt()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yi(t,Sn,zr),jn(t,yt()),null}function h0(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(vo=yt()+500,wu&&qi())}}function ws(t){xi!==null&&xi.tag===0&&!(Le&6)&&ao();var e=Le;Le|=1;var n=er.transition,r=We;try{if(er.transition=null,We=1,t)return t()}finally{We=r,er.transition=n,Le=e,!(Le&6)&&qi()}}function f0(){Pn=eo.current,Ze(eo)}function us(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,s2(n)),Ft!==null)for(n=Ft.return;n!==null;){var r=n;switch(Vp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nc();break;case 3:go(),Ze(Tn),Ze(fn),n0();break;case 5:t0(r);break;case 4:go();break;case 13:Ze(nt);break;case 19:Ze(nt);break;case 10:Jp(r.type._context);break;case 22:case 23:f0()}n=n.return}if(Kt=t,Ft=t=Ri(t.current,null),en=Pn=e,$t=0,qa=null,u0=ku=vs=0,Sn=wa=null,is!==null){for(e=0;e<is.length;e++)if(n=is[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}is=null}return t}function L1(t,e){do{var n=Ft;try{if(Qp(),nc.current=Bc,Mc){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mc=!1}if(ys=0,Ht=Dt=st=null,ya=!1,Da=0,c0.current=null,n===null||n.return===null){$t=1,qa=e,Ft=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=en,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=xg(o);if(v!==null){v.flags&=-257,bg(v,o,a,s,e),v.mode&1&&wg(s,c,e),e=v,l=c;var b=e.updateQueue;if(b===null){var x=new Set;x.add(l),e.updateQueue=x}else b.add(l);break e}else{if(!(e&1)){wg(s,c,e),p0();break e}l=Error(ie(426))}}else if(tt&&a.mode&1){var j=xg(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),bg(j,o,a,s,e),Gp(yo(l,a));break e}}s=l=yo(l,a),$t!==4&&($t=2),wa===null?wa=[s]:wa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var k=x1(s,l,e);fg(s,k);break e;case 1:a=l;var _=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ai===null||!Ai.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=b1(s,a,e);fg(s,R);break e}}s=s.return}while(s!==null)}D1(n)}catch(F){e=F,Ft===n&&n!==null&&(Ft=n=n.return);continue}break}while(!0)}function F1(){var t=Lc.current;return Lc.current=Bc,t===null?Bc:t}function p0(){($t===0||$t===3||$t===2)&&($t=4),Kt===null||!(vs&268435455)&&!(ku&268435455)||yi(Kt,en)}function Dc(t,e){var n=Le;Le|=2;var r=F1();(Kt!==t||en!==e)&&(zr=null,us(t,e));do try{T2();break}catch(i){L1(t,i)}while(!0);if(Qp(),Le=n,Lc.current=r,Ft!==null)throw Error(ie(261));return Kt=null,en=0,$t}function T2(){for(;Ft!==null;)U1(Ft)}function R2(){for(;Ft!==null&&!nS();)U1(Ft)}function U1(t){var e=z1(t.alternate,t,Pn);t.memoizedProps=t.pendingProps,e===null?D1(t):Ft=e,c0.current=null}function D1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=S2(n,e),n!==null){n.flags&=32767,Ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Ft=null;return}}else if(n=k2(n,e,Pn),n!==null){Ft=n;return}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=t}while(e!==null);$t===0&&($t=5)}function Yi(t,e,n){var r=We,i=er.transition;try{er.transition=null,We=1,j2(t,e,n,r)}finally{er.transition=i,We=r}return null}function j2(t,e,n,r){do ao();while(xi!==null);if(Le&6)throw Error(ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(hS(t,s),t===Kt&&(Ft=Kt=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jl||(jl=!0,q1(bc,function(){return ao(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=er.transition,er.transition=null;var o=We;We=1;var a=Le;Le|=4,c0.current=null,C2(t,n),P1(n,t),ZS(hf),kc=!!df,hf=df=null,t.current=n,N2(n),rS(),Le=a,We=o,er.transition=s}else t.current=n;if(jl&&(jl=!1,xi=t,Uc=i),s=t.pendingLanes,s===0&&(Ai=null),oS(n.stateNode),jn(t,yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fc)throw Fc=!1,t=jf,jf=null,t;return Uc&1&&t.tag!==0&&ao(),s=t.pendingLanes,s&1?t===Of?xa++:(xa=0,Of=t):xa=0,qi(),null}function ao(){if(xi!==null){var t=xw(Uc),e=er.transition,n=We;try{if(er.transition=null,We=16>t?16:t,xi===null)var r=!1;else{if(t=xi,xi=null,Uc=0,Le&6)throw Error(ie(331));var i=Le;for(Le|=4,fe=t.current;fe!==null;){var s=fe,o=s.child;if(fe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(fe=c;fe!==null;){var u=fe;switch(u.tag){case 0:case 11:case 15:va(8,u,s)}var h=u.child;if(h!==null)h.return=u,fe=h;else for(;fe!==null;){u=fe;var m=u.sibling,v=u.return;if(R1(u),u===c){fe=null;break}if(m!==null){m.return=v,fe=m;break}fe=v}}}var b=s.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}fe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,fe=o;else e:for(;fe!==null;){if(s=fe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:va(9,s,s.return)}var k=s.sibling;if(k!==null){k.return=s.return,fe=k;break e}fe=s.return}}var _=t.current;for(fe=_;fe!==null;){o=fe;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,fe=C;else e:for(o=_;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_u(9,a)}}catch(F){ft(a,a.return,F)}if(a===o){fe=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,fe=R;break e}fe=a.return}}if(Le=i,qi(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(pu,t)}catch{}r=!0}return r}finally{We=n,er.transition=e}}return!1}function Pg(t,e,n){e=yo(n,e),e=x1(t,e,1),t=Ii(t,e,1),e=wn(),t!==null&&(el(t,1,e),jn(t,e))}function ft(t,e,n){if(t.tag===3)Pg(t,t,n);else for(;e!==null;){if(e.tag===3){Pg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))){t=yo(n,t),t=b1(e,t,1),e=Ii(e,t,1),t=wn(),e!==null&&(el(e,1,t),jn(e,t));break}}e=e.return}}function O2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wn(),t.pingedLanes|=t.suspendedLanes&n,Kt===t&&(en&n)===n&&($t===4||$t===3&&(en&130023424)===en&&500>yt()-d0?us(t,0):u0|=n),jn(t,e)}function $1(t,e){e===0&&(t.mode&1?(e=_l,_l<<=1,!(_l&130023424)&&(_l=4194304)):e=1);var n=wn();t=ei(t,e),t!==null&&(el(t,e,n),jn(t,n))}function P2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$1(t,n)}function M2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),$1(t,n)}var z1;z1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)In=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return In=!1,_2(t,e,n);In=!!(t.flags&131072)}else In=!1,tt&&e.flags&1048576&&Kw(e,Tc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ic(t,e),t=e.pendingProps;var i=fo(e,fn.current);oo(e,n),i=i0(null,e,r,t,i,n);var s=s0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(s=!0,Ic(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xp(e),i.updater=bu,e.stateNode=i,i._reactInternals=e,bf(e,r,t,n),e=Sf(null,e,r,!0,s,n)):(e.tag=0,tt&&s&&Kp(e),mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ic(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=L2(r),t=lr(r,t),i){case 0:e=kf(null,e,r,t,n);break e;case 1:e=Sg(null,e,r,t,n);break e;case 11:e=_g(null,e,r,t,n);break e;case 14:e=kg(null,e,r,lr(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),kf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),Sg(t,e,r,i,n);case 3:e:{if(E1(e),t===null)throw Error(ie(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Zw(t,e),Oc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=yo(Error(ie(423)),e),e=Eg(t,e,r,n,i);break e}else if(r!==i){i=yo(Error(ie(424)),e),e=Eg(t,e,r,n,i);break e}else for(Ln=Ni(e.stateNode.containerInfo.firstChild),Fn=e,tt=!0,hr=null,n=Qw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(po(),r===i){e=ti(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return Xw(e),t===null&&vf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ff(r,i)?o=null:s!==null&&ff(r,s)&&(e.flags|=32),S1(t,e),mn(t,e,o,n),e.child;case 6:return t===null&&vf(e),null;case 13:return C1(t,e,n);case 4:return e0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mo(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),_g(t,e,r,i,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ye(Rc,r._currentValue),r._currentValue=o,s!==null)if(wr(s.value,o)){if(s.children===i.children&&!Tn.current){e=ti(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Jr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),wf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ie(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,oo(e,n),i=nr(i),r=r(i),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,i=lr(r,e.pendingProps),i=lr(r.type,i),kg(t,e,r,i,n);case 15:return _1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),ic(t,e),e.tag=1,Rn(r)?(t=!0,Ic(e)):t=!1,oo(e,n),w1(e,r,i),bf(e,r,i,n),Sf(null,e,r,!0,t,n);case 19:return N1(t,e,n);case 22:return k1(t,e,n)}throw Error(ie(156,e.tag))};function q1(t,e){return gw(t,e)}function B2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,e,n,r){return new B2(t,e,n,r)}function m0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function L2(t){if(typeof t=="function")return m0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pp)return 11;if(t===Mp)return 14}return 2}function Ri(t,e){var n=t.alternate;return n===null?(n=Xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ac(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")m0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ws:return ds(n.children,i,s,e);case Op:o=8,i|=8;break;case Wh:return t=Xn(12,n,e,i|2),t.elementType=Wh,t.lanes=s,t;case Hh:return t=Xn(13,n,e,i),t.elementType=Hh,t.lanes=s,t;case Kh:return t=Xn(19,n,e,i),t.elementType=Kh,t.lanes=s,t;case Xv:return Su(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Jv:o=10;break e;case Zv:o=9;break e;case Pp:o=11;break e;case Mp:o=14;break e;case hi:o=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=Xn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ds(t,e,n,r){return t=Xn(7,t,r,e),t.lanes=n,t}function Su(t,e,n,r){return t=Xn(22,t,r,e),t.elementType=Xv,t.lanes=n,t.stateNode={isHidden:!1},t}function Vd(t,e,n){return t=Xn(6,t,null,e),t.lanes=n,t}function Gd(t,e,n){return e=Xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function F2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Id(0),this.expirationTimes=Id(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Id(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function g0(t,e,n,r,i,s,o,a,l){return t=new F2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xp(s),t}function U2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function W1(t){if(!t)return Fi;t=t._reactInternals;e:{if(bs(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(Rn(n))return Ww(t,n,e)}return e}function H1(t,e,n,r,i,s,o,a,l){return t=g0(n,r,!0,t,i,s,o,a,l),t.context=W1(null),n=t.current,r=wn(),i=Ti(n),s=Jr(r,i),s.callback=e??null,Ii(n,s,i),t.current.lanes=i,el(t,i,r),jn(t,r),t}function Eu(t,e,n,r){var i=e.current,s=wn(),o=Ti(i);return n=W1(n),e.context===null?e.context=n:e.pendingContext=n,e=Jr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ii(i,e,o),t!==null&&(yr(t,i,o,s),tc(t,i,o)),o}function $c(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function y0(t,e){Mg(t,e),(t=t.alternate)&&Mg(t,e)}function D2(){return null}var K1=typeof reportError=="function"?reportError:function(t){console.error(t)};function v0(t){this._internalRoot=t}Cu.prototype.render=v0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));Eu(t,e,null,null)};Cu.prototype.unmount=v0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ws(function(){Eu(null,t,null,null)}),e[Xr]=null}};function Cu(t){this._internalRoot=t}Cu.prototype.unstable_scheduleHydration=function(t){if(t){var e=kw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gi.length&&e!==0&&e<gi[n].priority;n++);gi.splice(n,0,t),n===0&&Ew(t)}};function w0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bg(){}function $2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=$c(o);s.call(c)}}var o=H1(e,r,t,0,null,!1,!1,"",Bg);return t._reactRootContainer=o,t[Xr]=o.current,Ma(t.nodeType===8?t.parentNode:t),ws(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=$c(l);a.call(c)}}var l=g0(t,0,!1,null,null,!1,!1,"",Bg);return t._reactRootContainer=l,t[Xr]=l.current,Ma(t.nodeType===8?t.parentNode:t),ws(function(){Eu(e,l,n,r)}),l}function Iu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$c(o);a.call(l)}}Eu(e,o,t,i)}else o=$2(n,e,t,i,r);return $c(o)}bw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=aa(e.pendingLanes);n!==0&&(Fp(e,n|1),jn(e,yt()),!(Le&6)&&(vo=yt()+500,qi()))}break;case 13:ws(function(){var r=ei(t,1);if(r!==null){var i=wn();yr(r,t,1,i)}}),y0(t,1)}};Up=function(t){if(t.tag===13){var e=ei(t,134217728);if(e!==null){var n=wn();yr(e,t,134217728,n)}y0(t,134217728)}};_w=function(t){if(t.tag===13){var e=Ti(t),n=ei(t,e);if(n!==null){var r=wn();yr(n,t,e,r)}y0(t,e)}};kw=function(){return We};Sw=function(t,e){var n=We;try{return We=t,e()}finally{We=n}};nf=function(t,e,n){switch(e){case"input":if(Yh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vu(r);if(!i)throw Error(ie(90));tw(r),Yh(r,i)}}}break;case"textarea":rw(t,n);break;case"select":e=n.value,e!=null&&no(t,!!n.multiple,e,!1)}};uw=h0;dw=ws;var z2={usingClientEntryPoint:!1,Events:[nl,Gs,vu,lw,cw,h0]},Qo={findFiberByHostInstance:rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q2={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pw(t),t===null?null:t.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||D2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{pu=Ol.inject(q2),Rr=Ol}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z2;Dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w0(e))throw Error(ie(200));return U2(t,e,null,n)};Dn.createRoot=function(t,e){if(!w0(t))throw Error(ie(299));var n=!1,r="",i=K1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=g0(t,1,!1,null,null,n,!1,r,i),t[Xr]=e.current,Ma(t.nodeType===8?t.parentNode:t),new v0(e)};Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=pw(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t){return ws(t)};Dn.hydrate=function(t,e,n){if(!Nu(e))throw Error(ie(200));return Iu(null,t,e,!0,n)};Dn.hydrateRoot=function(t,e,n){if(!w0(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=K1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=H1(e,null,t,1,n??null,i,!1,s,o),t[Xr]=e.current,Ma(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cu(e)};Dn.render=function(t,e,n){if(!Nu(e))throw Error(ie(200));return Iu(null,t,e,!1,n)};Dn.unmountComponentAtNode=function(t){if(!Nu(t))throw Error(ie(40));return t._reactRootContainer?(ws(function(){Iu(null,null,t,!1,function(){t._reactRootContainer=null,t[Xr]=null})}),!0):!1};Dn.unstable_batchedUpdates=h0;Dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nu(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return Iu(t,e,n,!1,r)};Dn.version="18.3.1-next-f1338f8080-20240426";function V1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V1)}catch(t){console.error(t)}}V1(),Vv.exports=Dn;var G1=Vv.exports;const W2=No(G1);var Y1,Lg=G1;Y1=Lg.createRoot,Lg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wa.apply(this,arguments)}var bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bi||(bi={}));const Fg="popstate";function H2(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Bf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zc(i)}return V2(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Q1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K2(){return Math.random().toString(36).substr(2,8)}function Ug(t,e){return{usr:t.state,key:t.key,idx:e}}function Bf(t,e,n,r){return n===void 0&&(n=null),Wa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ro(e):e,{state:n,key:e&&e.key||r||K2()})}function zc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ro(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function V2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=bi.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Wa({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=bi.Pop;let j=u(),k=j==null?null:j-c;c=j,l&&l({action:a,location:x.location,delta:k})}function m(j,k){a=bi.Push;let _=Bf(x.location,j,k);c=u()+1;let C=Ug(_,c),R=x.createHref(_);try{o.pushState(C,"",R)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(R)}s&&l&&l({action:a,location:x.location,delta:1})}function v(j,k){a=bi.Replace;let _=Bf(x.location,j,k);c=u();let C=Ug(_,c),R=x.createHref(_);o.replaceState(C,"",R),s&&l&&l({action:a,location:x.location,delta:0})}function b(j){let k=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof j=="string"?j:zc(j);return _=_.replace(/ $/,"%20"),vt(k,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,k)}let x={get action(){return a},get location(){return t(i,o)},listen(j){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Fg,h),l=j,()=>{i.removeEventListener(Fg,h),l=null}},createHref(j){return e(i,j)},createURL:b,encodeLocation(j){let k=b(j);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:m,replace:v,go(j){return o.go(j)}};return x}var Dg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dg||(Dg={}));function G2(t,e,n){return n===void 0&&(n="/"),Y2(t,e,n,!1)}function Y2(t,e,n,r){let i=typeof e=="string"?Ro(e):e,s=x0(i.pathname||"/",n);if(s==null)return null;let o=J1(t);Q2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=aE(s);a=sE(o[l],c,r)}return a}function J1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ji([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(vt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),J1(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:rE(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Z1(s.path))i(s,o,l)}),e}function Z1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Z1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Q2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iE(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const J2=/^:[\w-]+$/,Z2=3,X2=2,eE=1,tE=10,nE=-2,$g=t=>t==="*";function rE(t,e){let n=t.split("/"),r=n.length;return n.some($g)&&(r+=nE),e&&(r+=X2),n.filter(i=>!$g(i)).reduce((i,s)=>i+(J2.test(s)?Z2:s===""?eE:tE),r)}function iE(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function sE(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=zg({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),m=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=zg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ji([s,h.pathname]),pathnameBase:dE(ji([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=ji([s,h.pathnameBase]))}return o}function zg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:m,isOptional:v}=u;if(m==="*"){let x=a[h]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const b=a[h];return v&&!b?c[m]=void 0:c[m]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function oE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Q1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Q1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function x0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lE(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ro(t):t;return{pathname:n?n.startsWith("/")?n:cE(n,e):e,search:hE(r),hash:fE(i)}}function cE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Yd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function b0(t,e){let n=uE(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ro(t):(i=Wa({},t),vt(!i.pathname||!i.pathname.includes("?"),Yd("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),Yd("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),Yd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=lE(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ji=t=>t.join("/").replace(/\/\/+/g,"/"),dE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const X1=["post","put","patch","delete"];new Set(X1);const mE=["get",...X1];new Set(mE);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ha.apply(this,arguments)}const k0=U.createContext(null),gE=U.createContext(null),Wi=U.createContext(null),Au=U.createContext(null),Hi=U.createContext({outlet:null,matches:[],isDataRoute:!1}),ex=U.createContext(null);function yE(t,e){let{relative:n}=e===void 0?{}:e;jo()||vt(!1);let{basename:r,navigator:i}=U.useContext(Wi),{hash:s,pathname:o,search:a}=nx(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ji([r,o])),i.createHref({pathname:l,search:a,hash:s})}function jo(){return U.useContext(Au)!=null}function Oo(){return jo()||vt(!1),U.useContext(Au).location}function tx(t){U.useContext(Wi).static||U.useLayoutEffect(t)}function Po(){let{isDataRoute:t}=U.useContext(Hi);return t?TE():vE()}function vE(){jo()||vt(!1);let t=U.useContext(k0),{basename:e,future:n,navigator:r}=U.useContext(Wi),{matches:i}=U.useContext(Hi),{pathname:s}=Oo(),o=JSON.stringify(b0(i,n.v7_relativeSplatPath)),a=U.useRef(!1);return tx(()=>{a.current=!0}),U.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=_0(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ji([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}function nx(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(Wi),{matches:i}=U.useContext(Hi),{pathname:s}=Oo(),o=JSON.stringify(b0(i,r.v7_relativeSplatPath));return U.useMemo(()=>_0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function wE(t,e){return xE(t,e)}function xE(t,e,n,r){jo()||vt(!1);let{navigator:i,static:s}=U.useContext(Wi),{matches:o}=U.useContext(Hi),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Oo(),h;if(e){var m;let k=typeof e=="string"?Ro(e):e;c==="/"||(m=k.pathname)!=null&&m.startsWith(c)||vt(!1),h=k}else h=u;let v=h.pathname||"/",b=v;if(c!=="/"){let k=c.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let x=!s&&n&&n.matches&&n.matches.length>0?n.matches:G2(t,{pathname:b}),j=EE(x&&x.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:ji([c,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:ji([c,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,r);return e&&j?U.createElement(Au.Provider,{value:{location:Ha({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:bi.Pop}},j):j}function bE(){let t=AE(),e=pE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const _E=U.createElement(bE,null);class kE extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(Hi.Provider,{value:this.props.routeContext},U.createElement(ex.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SE(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(k0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Hi.Provider,{value:e},r)}function EE(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||vt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:m,errors:v}=n,b=h.route.loader&&m[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let v,b=!1,x=null,j=null;n&&(v=a&&h.route.id?a[h.route.id]:void 0,x=h.route.errorElement||_E,l&&(c<0&&m===0?(b=!0,j=null):c===m&&(b=!0,j=h.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,m+1)),_=()=>{let C;return v?C=x:b?C=j:h.route.Component?C=U.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=u,U.createElement(SE,{match:h,routeContext:{outlet:u,matches:k,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?U.createElement(kE,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:_(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):_()},null)}var rx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rx||{}),qc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qc||{});function CE(t){let e=U.useContext(k0);return e||vt(!1),e}function NE(t){let e=U.useContext(gE);return e||vt(!1),e}function IE(t){let e=U.useContext(Hi);return e||vt(!1),e}function ix(t){let e=IE(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function AE(){var t;let e=U.useContext(ex),n=NE(qc.UseRouteError),r=ix(qc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function TE(){let{router:t}=CE(rx.UseNavigateStable),e=ix(qc.UseNavigateStable),n=U.useRef(!1);return tx(()=>{n.current=!0}),U.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ha({fromRouteId:e},s)))},[t,e])}function RE(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function jE(t){let{to:e,replace:n,state:r,relative:i}=t;jo()||vt(!1);let{future:s,static:o}=U.useContext(Wi),{matches:a}=U.useContext(Hi),{pathname:l}=Oo(),c=Po(),u=_0(e,b0(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return U.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function lc(t){vt(!1)}function OE(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bi.Pop,navigator:s,static:o=!1,future:a}=t;jo()&&vt(!1);let l=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:s,static:o,future:Ha({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ro(r));let{pathname:u="/",search:h="",hash:m="",state:v=null,key:b="default"}=r,x=U.useMemo(()=>{let j=x0(u,l);return j==null?null:{location:{pathname:j,search:h,hash:m,state:v,key:b},navigationType:i}},[l,u,h,m,v,b,i]);return x==null?null:U.createElement(Wi.Provider,{value:c},U.createElement(Au.Provider,{children:n,value:x}))}function PE(t){let{children:e,location:n}=t;return wE(Lf(e),n)}new Promise(()=>{});function Lf(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let s=[...e,i];if(r.type===U.Fragment){n.push.apply(n,Lf(r.props.children,s));return}r.type!==lc&&vt(!1),!r.props.index||!r.props.children||vt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Lf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ff.apply(this,arguments)}function ME(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function BE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LE(t,e){return t.button===0&&(!e||e==="_self")&&!BE(t)}function Uf(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function FE(t,e){let n=Uf(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const UE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DE="6";try{window.__reactRouterVersion=DE}catch{}const $E="startTransition",qg=zh[$E];function zE(t){let{basename:e,children:n,future:r,window:i}=t,s=U.useRef();s.current==null&&(s.current=H2({window:i,v5Compat:!0}));let o=s.current,[a,l]=U.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=U.useCallback(h=>{c&&qg?qg(()=>l(h)):l(h)},[l,c]);return U.useLayoutEffect(()=>o.listen(u),[o,u]),U.useEffect(()=>RE(r),[r]),U.createElement(OE,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const qE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wc=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,m=ME(e,UE),{basename:v}=U.useContext(Wi),b,x=!1;if(typeof c=="string"&&WE.test(c)&&(b=c,qE))try{let C=new URL(window.location.href),R=c.startsWith("//")?new URL(C.protocol+c):new URL(c),F=x0(R.pathname,v);R.origin===C.origin&&F!=null?c=F+R.search+R.hash:x=!0}catch{}let j=yE(c,{relative:i}),k=HE(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function _(C){r&&r(C),C.defaultPrevented||k(C)}return U.createElement("a",Ff({},m,{href:b||j,onClick:x||s?r:_,ref:n,target:l}))});var Wg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wg||(Wg={}));var Hg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Hg||(Hg={}));function HE(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Po(),c=Oo(),u=nx(t,{relative:o});return U.useCallback(h=>{if(LE(h,n)){h.preventDefault();let m=r!==void 0?r:zc(c)===zc(u);l(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function KE(t){let e=U.useRef(Uf(t)),n=U.useRef(!1),r=Oo(),i=U.useMemo(()=>FE(r.search,n.current?null:e.current),[r.search]),s=Po(),o=U.useCallback((a,l)=>{const c=Uf(typeof a=="function"?a(i):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}function Df(t,e){return Df=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Df(t,e)}function il(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Df(t,e)}var sl=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function Ue(){return Ue=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ue.apply(null,arguments)}var Hc=typeof window>"u";function dn(){}function VE(t,e){return typeof t=="function"?t(e):t}function $f(t){return typeof t=="number"&&t>=0&&t!==1/0}function Kc(t){return Array.isArray(t)?t:[t]}function sx(t,e){return Math.max(t+(e||0)-Date.now(),0)}function cc(t,e,n){return Tu(t)?typeof e=="function"?Ue({},n,{queryKey:t,queryFn:e}):Ue({},e,{queryKey:t}):t}function pi(t,e,n){return Tu(t)?[Ue({},e,{queryKey:t}),n]:[t||{},e]}function GE(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function Kg(t,e){var n=t.active,r=t.exact,i=t.fetching,s=t.inactive,o=t.predicate,a=t.queryKey,l=t.stale;if(Tu(a)){if(r){if(e.queryHash!==S0(a,e.options))return!1}else if(!Vc(e.queryKey,a))return!1}var c=GE(n,s);if(c==="none")return!1;if(c!=="all"){var u=e.isActive();if(c==="active"&&!u||c==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function Vg(t,e){var n=t.exact,r=t.fetching,i=t.predicate,s=t.mutationKey;if(Tu(s)){if(!e.options.mutationKey)return!1;if(n){if(os(e.options.mutationKey)!==os(s))return!1}else if(!Vc(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function S0(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||os;return n(t)}function os(t){var e=Kc(t);return YE(e)}function YE(t){return JSON.stringify(t,function(e,n){return zf(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function Vc(t,e){return ox(Kc(t),Kc(e))}function ox(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!ox(t[n],e[n])}):!1}function Gc(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||zf(t)&&zf(e)){for(var r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{},a=0,l=0;l<s;l++){var c=n?l:i[l];o[c]=Gc(t[c],e[c]),o[c]===t[c]&&a++}return r===s&&a===r?t:o}return e}function QE(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function zf(t){if(!Gg(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!Gg(n)||!n.hasOwnProperty("isPrototypeOf"))}function Gg(t){return Object.prototype.toString.call(t)==="[object Object]"}function Tu(t){return typeof t=="string"||Array.isArray(t)}function JE(t){return new Promise(function(e){setTimeout(e,t)})}function Yg(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function ax(){if(typeof AbortController=="function")return new AbortController}var ZE=function(t){il(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!Hc&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(sl),ba=new ZE,XE=function(t){il(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!Hc&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(sl),uc=new XE;function eC(t){return Math.min(1e3*Math.pow(2,t),3e4)}function Yc(t){return typeof(t==null?void 0:t.cancel)=="function"}var lx=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function dc(t){return t instanceof lx}var cx=function(e){var n=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(m){return i==null?void 0:i(m)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(m,v){o=m,a=v});var l=function(v){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(v),s==null||s(),o(v))},c=function(v){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(v),s==null||s(),a(v))},u=function(){return new Promise(function(v){s=v,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},h=function m(){if(!n.isResolved){var v;try{v=e.fn()}catch(b){v=Promise.reject(b)}i=function(x){if(!n.isResolved&&(c(new lx(x)),n.abort==null||n.abort(),Yc(v)))try{v.cancel()}catch{}},n.isTransportCancelable=Yc(v),Promise.resolve(v).then(l).catch(function(b){var x,j;if(!n.isResolved){var k=(x=e.retry)!=null?x:3,_=(j=e.retryDelay)!=null?j:eC,C=typeof _=="function"?_(n.failureCount,b):_,R=k===!0||typeof k=="number"&&n.failureCount<k||typeof k=="function"&&k(n.failureCount,b);if(r||!R){c(b);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,b),JE(C).then(function(){if(!ba.isFocused()||!uc.isOnline())return u()}).then(function(){r?c(b):m()})}})}};h()},tC=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):Yg(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&Yg(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),pt=new tC,ux=console;function Qc(){return ux}function nC(t){ux=t}var rC=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var i;this.options=Ue({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),$f(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,l=VE(r,a);return(s=(o=this.options).isDataEqual)!=null&&s.call(o,a,l)?l=a:this.options.structuralSharing!==!1&&(l=Gc(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(dn).catch(dn):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!sx(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var u=this.observers.find(function(_){return _.options.queryFn});u&&this.setOptions(u.options)}var h=Kc(this.queryKey),m=ax(),v={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(v,"signal",{enumerable:!0,get:function(){if(m)return s.abortSignalConsumed=!0,m.signal}});var b=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(v)):Promise.reject("Missing queryFn")},x={fetchOptions:i,options:this.options,queryKey:h,state:this.state,fetchFn:b,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var j;(j=this.options.behavior)==null||j.onFetch(x)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=x.fetchOptions)==null?void 0:a.meta)){var k;this.dispatch({type:"fetch",meta:(k=x.fetchOptions)==null?void 0:k.meta})}return this.retryer=new cx({fn:x.fetchFn,abort:m==null||(l=m.abort)==null?void 0:l.bind(m),onSuccess:function(C){s.setData(C),s.cache.config.onSuccess==null||s.cache.config.onSuccess(C,s),s.cacheTime===0&&s.optionalRemove()},onError:function(C){dc(C)&&C.silent||s.dispatch({type:"error",error:C}),dc(C)||(s.cache.config.onError==null||s.cache.config.onError(C,s),Qc().error(C)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:x.options.retry,retryDelay:x.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),pt.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData<"u",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return Ue({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return Ue({},r,{isPaused:!0});case"continue":return Ue({},r,{isPaused:!1});case"fetch":return Ue({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Ue({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return dc(a)&&a.revert&&this.revertState?Ue({},this.revertState):Ue({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Ue({},r,{isInvalidated:!0});case"setState":return Ue({},r,i.state);default:return r}},t}(),iC=function(t){il(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=e.prototype;return n.build=function(i,s,o){var a,l=s.queryKey,c=(a=s.queryHash)!=null?a:S0(l,s),u=this.get(c);return u||(u=new rC({cache:this,queryKey:l,queryHash:c,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(l),meta:s.meta}),this.add(u)),u},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;pt.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,s){var o=pi(i,s),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(l){return Kg(a,l)})},n.findAll=function(i,s){var o=pi(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(l){return Kg(a,l)}):this.queries},n.notify=function(i){var s=this;pt.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){var i=this;pt.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},n.onOnline=function(){var i=this;pt.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(sl),sC=function(){function t(n){this.options=Ue({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||oC(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(dn).catch(dn)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),Qc().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new cx({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=aC(this.state,r),pt.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},t}();function oC(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function aC(t,e){switch(e.type){case"failed":return Ue({},t,{failureCount:t.failureCount+1});case"pause":return Ue({},t,{isPaused:!0});case"continue":return Ue({},t,{isPaused:!1});case"loading":return Ue({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Ue({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Ue({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return Ue({},t,e.state);default:return t}}var lC=function(t){il(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=e.prototype;return n.build=function(i,s,o){var a=new sC({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;pt.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return Vg(i,s)})},n.findAll=function(i){return this.mutations.filter(function(s){return Vg(i,s)})},n.notify=function(i){var s=this;pt.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return pt.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(dn)})},Promise.resolve())})},e}(sl);function cC(){return{onFetch:function(e){e.fetchFn=function(){var n,r,i,s,o,a,l=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,c=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,u=c==null?void 0:c.pageParam,h=(c==null?void 0:c.direction)==="forward",m=(c==null?void 0:c.direction)==="backward",v=((o=e.state.data)==null?void 0:o.pages)||[],b=((a=e.state.data)==null?void 0:a.pageParams)||[],x=ax(),j=x==null?void 0:x.signal,k=b,_=!1,C=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},R=function(f,w,E,I){return k=I?[w].concat(k):[].concat(k,[w]),I?[E].concat(f):[].concat(f,[E])},F=function(f,w,E,I){if(_)return Promise.reject("Cancelled");if(typeof E>"u"&&!w&&f.length)return Promise.resolve(f);var S={queryKey:e.queryKey,signal:j,pageParam:E,meta:e.meta},A=C(S),O=Promise.resolve(A).then(function(p){return R(f,E,p,I)});if(Yc(A)){var N=O;N.cancel=A.cancel}return O},L;if(!v.length)L=F([]);else if(h){var $=typeof u<"u",K=$?u:Qg(e.options,v);L=F(v,$,K)}else if(m){var ee=typeof u<"u",V=ee?u:uC(e.options,v);L=F(v,ee,V,!0)}else(function(){k=[];var M=typeof e.options.getNextPageParam>"u",f=l&&v[0]?l(v[0],0,v):!0;L=f?F([],M,b[0]):Promise.resolve(R([],b[0],v[0]));for(var w=function(S){L=L.then(function(A){var O=l&&v[S]?l(v[S],S,v):!0;if(O){var N=M?b[S]:Qg(e.options,A);return F(A,M,N)}return Promise.resolve(R(A,b[S],v[S]))})},E=1;E<v.length;E++)w(E)})();var X=L.then(function(M){return{pages:M,pageParams:k}}),le=X;return le.cancel=function(){_=!0,x==null||x.abort(),Yc(L)&&L.cancel()},X}}}}function Qg(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function uC(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var dC=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new iC,this.mutationCache=n.mutationCache||new lC,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=ba.subscribe(function(){ba.isFocused()&&uc.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=uc.subscribe(function(){ba.isFocused()&&uc.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=pi(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(Ue({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=cc(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return pt.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var l=a.queryKey;return[l,o.setQueryData(l,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=pi(r,i),o=s[0],a=this.queryCache;pt.batch(function(){a.findAll(o).forEach(function(l){a.remove(l)})})},e.resetQueries=function(r,i,s){var o=this,a=pi(r,i,s),l=a[0],c=a[1],u=this.queryCache,h=Ue({},l,{active:!0});return pt.batch(function(){return u.findAll(l).forEach(function(m){m.reset()}),o.refetchQueries(h,c)})},e.cancelQueries=function(r,i,s){var o=this,a=pi(r,i,s),l=a[0],c=a[1],u=c===void 0?{}:c;typeof u.revert>"u"&&(u.revert=!0);var h=pt.batch(function(){return o.queryCache.findAll(l).map(function(m){return m.cancel(u)})});return Promise.all(h).then(dn).catch(dn)},e.invalidateQueries=function(r,i,s){var o,a,l,c=this,u=pi(r,i,s),h=u[0],m=u[1],v=Ue({},h,{active:(o=(a=h.refetchActive)!=null?a:h.active)!=null?o:!0,inactive:(l=h.refetchInactive)!=null?l:!1});return pt.batch(function(){return c.queryCache.findAll(h).forEach(function(b){b.invalidate()}),c.refetchQueries(v,m)})},e.refetchQueries=function(r,i,s){var o=this,a=pi(r,i,s),l=a[0],c=a[1],u=pt.batch(function(){return o.queryCache.findAll(l).map(function(m){return m.fetch(void 0,Ue({},c,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),h=Promise.all(u).then(dn);return c!=null&&c.throwOnError||(h=h.catch(dn)),h},e.fetchQuery=function(r,i,s){var o=cc(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(dn).catch(dn)},e.fetchInfiniteQuery=function(r,i,s){var o=cc(r,i,s);return o.behavior=cC(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(dn).catch(dn)},e.cancelMutations=function(){var r=this,i=pt.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(dn).catch(dn)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return os(r)===os(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return Vc(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return os(r)===os(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return Vc(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=Ue({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=S0(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:Ue({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),hC=function(t){il(e,t);function e(r,i){var s;return s=t.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Jg(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return qf(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return qf(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,s){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var l=this.hasListeners();l&&Zg(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(s),l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var c=this.computeRefetchInterval();l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||c!==this.currentRefetchInterval)&&this.updateRefetchInterval(c)},n.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,s);return this.createResult(o,s)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,s){var o=this,a={},l=function(u){o.trackedProps.includes(u)||o.trackedProps.push(u)};return Object.keys(i).forEach(function(c){Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:function(){return l(c),i[c]}})}),(s.useErrorBoundary||s.suspense)&&l("error"),a},n.getNextResult=function(i){var s=this;return new Promise(function(o,a){var l=s.subscribe(function(c){c.isFetching||(l(),c.isError&&(i!=null&&i.throwOnError)?a(c.error):o(c))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(Ue({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var s=this,o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return s.createResult(a,o)})},n.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},n.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(s=s.catch(dn)),s},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(Hc||this.currentResult.isStale||!$f(this.options.staleTime))){var s=sx(this.currentResult.dataUpdatedAt,this.options.staleTime),o=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(Hc||this.options.enabled===!1||!$f(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||ba.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,s){var o=this.currentQuery,a=this.options,l=this.currentResult,c=this.currentResultState,u=this.currentResultOptions,h=i!==o,m=h?i.state:this.currentQueryInitialState,v=h?this.currentResult:this.previousQueryResult,b=i.state,x=b.dataUpdatedAt,j=b.error,k=b.errorUpdatedAt,_=b.isFetching,C=b.status,R=!1,F=!1,L;if(s.optimisticResults){var $=this.hasListeners(),K=!$&&Jg(i,s),ee=$&&Zg(i,o,s,a);(K||ee)&&(_=!0,x||(C="loading"))}if(s.keepPreviousData&&!b.dataUpdateCount&&(v!=null&&v.isSuccess)&&C!=="error")L=v.data,x=v.dataUpdatedAt,C=v.status,R=!0;else if(s.select&&typeof b.data<"u")if(l&&b.data===(c==null?void 0:c.data)&&s.select===this.selectFn)L=this.selectResult;else try{this.selectFn=s.select,L=s.select(b.data),s.structuralSharing!==!1&&(L=Gc(l==null?void 0:l.data,L)),this.selectResult=L,this.selectError=null}catch(le){Qc().error(le),this.selectError=le}else L=b.data;if(typeof s.placeholderData<"u"&&typeof L>"u"&&(C==="loading"||C==="idle")){var V;if(l!=null&&l.isPlaceholderData&&s.placeholderData===(u==null?void 0:u.placeholderData))V=l.data;else if(V=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof V<"u")try{V=s.select(V),s.structuralSharing!==!1&&(V=Gc(l==null?void 0:l.data,V)),this.selectError=null}catch(le){Qc().error(le),this.selectError=le}typeof V<"u"&&(C="success",L=V,F=!0)}this.selectError&&(j=this.selectError,L=this.selectResult,k=Date.now(),C="error");var X={status:C,isLoading:C==="loading",isSuccess:C==="success",isError:C==="error",isIdle:C==="idle",data:L,dataUpdatedAt:x,error:j,errorUpdatedAt:k,failureCount:b.fetchFailureCount,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>m.dataUpdateCount||b.errorUpdateCount>m.errorUpdateCount,isFetching:_,isRefetching:_&&C!=="loading",isLoadingError:C==="error"&&b.dataUpdatedAt===0,isPlaceholderData:F,isPreviousData:R,isRefetchError:C==="error"&&b.dataUpdatedAt!==0,isStale:E0(i,s),refetch:this.refetch,remove:this.remove};return X},n.shouldNotifyListeners=function(i,s){if(!s)return!0;var o=this.options,a=o.notifyOnChangeProps,l=o.notifyOnChangePropsExclusions;if(!a&&!l||a==="tracked"&&!this.trackedProps.length)return!0;var c=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(u){var h=u,m=i[h]!==s[h],v=c==null?void 0:c.some(function(x){return x===u}),b=l==null?void 0:l.some(function(x){return x===u});return m&&!b&&(!c||v)})},n.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!QE(this.currentResult,s)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(o.listeners=!0),this.notify(Ue({},o,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!dc(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var s=this;pt.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(sl);function fC(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Jg(t,e){return fC(t,e)||t.state.dataUpdatedAt>0&&qf(t,e,e.refetchOnMount)}function qf(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&E0(t,e)}return!1}function Zg(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&E0(t,n)}function E0(t,e){return t.isStaleByTime(e.staleTime)}var pC=W2.unstable_batchedUpdates;pt.setBatchNotifyFunction(pC);var mC=console;nC(mC);var Xg=it.createContext(void 0),dx=it.createContext(!1);function hx(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Xg),window.ReactQueryClientContext):Xg}var gC=function(){var e=it.useContext(hx(it.useContext(dx)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},yC=function(e){var n=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;it.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=hx(i);return it.createElement(dx.Provider,{value:i},it.createElement(o.Provider,{value:n},s))};function vC(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var wC=it.createContext(vC()),xC=function(){return it.useContext(wC)};function bC(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function _C(t,e){var n=it.useRef(!1),r=it.useState(0),i=r[1],s=gC(),o=xC(),a=s.defaultQueryObserverOptions(t);a.optimisticResults=!0,a.onError&&(a.onError=pt.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=pt.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=pt.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var l=it.useState(function(){return new e(s,a)}),c=l[0],u=c.getOptimisticResult(a);if(it.useEffect(function(){n.current=!0,o.clearReset();var h=c.subscribe(pt.batchCalls(function(){n.current&&i(function(m){return m+1})}));return c.updateResult(),function(){n.current=!1,h()}},[o,c]),it.useEffect(function(){c.setOptions(a,{listeners:!1})},[a,c]),a.suspense&&u.isLoading)throw c.fetchOptimistic(a).then(function(h){var m=h.data;a.onSuccess==null||a.onSuccess(m),a.onSettled==null||a.onSettled(m,null)}).catch(function(h){o.clearReset(),a.onError==null||a.onError(h),a.onSettled==null||a.onSettled(void 0,h)});if(u.isError&&!o.isReset()&&!u.isFetching&&bC(a.suspense,a.useErrorBoundary,[u.error,c.getCurrentQuery()]))throw u.error;return a.notifyOnChangeProps==="tracked"&&(u=c.trackResult(u,a)),u}function kC(t,e,n){var r=cc(t,e,n);return _C(r,hC)}const fx=U.createContext(void 0);function SC({children:t}){const{data:e={},isLoading:n,error:r}=kC("searchOptions",async()=>{const i=await fetch("http://localhost:3000/api/search-options",{headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to fetch search options");return(await i.json()).reduce((o,a)=>(o[a.category]||(o[a.category]=[]),o[a.category].push({value:a.value,next_category:a.next_category||null,question:a.question||null}),o),{})},{staleTime:3e5,cacheTime:6e5,refetchOnMount:!1,refetchOnWindowFocus:!1});return d.jsx(fx.Provider,{value:{options:e,isLoading:n,error:r},children:t})}const px=()=>{const t=U.useContext(fx);if(!t)throw new Error("useSearchOptions must be used within SearchOptionsProvider");return t};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const n=U.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>U.createElement("svg",{ref:u,...EC,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${CC(t)}`,a].join(" "),...c},[...e.map(([h,m])=>U.createElement(h,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=Te("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=Te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=Te("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=Te("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=Te("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=Te("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=Te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=Te("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=Te("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=Te("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=Te("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=Te("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Te("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=Te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=Te("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=Te("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=Te("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),ZC={en:{hero:{title:"Find Trusted Contractors for Your Home Projects",subtitle:"Connect with verified professionals for renovation, repair, and maintenance services",stats:{yearsInMarket:"Years in Market",clients:"Happy Clients",positiveReviews:"Positive Reviews"}},common:{iWant:"I want to",verified:"Verified",call:"Call Now",message:"Message",unavailable:"Currently Unavailable",startOver:"Start Over",searching:"Searching for the best matches...",searchingDescription:"We are analyzing your requirements to find the most suitable contractors",companiesFound:"companies found",yearsInBusiness:"{{years}} years in business"},search:{selectStep:"Select",steps:{action:"what you want to do",landscape:"landscape work",inspect:"inspect the property",renovate:"renovate the interior",repair:"repair the equipment",install:"install new systems",flip_a_house:"flip a house",remove:"remove old structures",texture:"texture the walls",powerwash:"power wash the exterior",clean:"clean the premises",replace:"replace old elements",paint:"paint the surfaces",build:"build new structures",location:"where the work will be done",time:"when you need it done"},options:{action:["Repair","Install","Replace","Maintain"],landscape:["Lawn Care","Garden Design","Tree Removal"],inspect:["Home Inspection","Electrical Inspection","Plumbing Inspection"],renovate:["Interior Renovation","Kitchen Remodel","Bathroom Remodel"],repair:["Appliance Repair","Roof Repair","HVAC Repair"],install:["Air Conditioning","Heating Systems","Water Heaters"],flip_a_house:["Full Renovation","Interior Design","Exterior Work"],remove:["Debris Removal","Old Furniture","Construction Waste"],texture:["Wall Texturing","Ceiling Texturing","Flooring"],powerwash:["Exterior Power Washing","Driveway Cleaning","Deck Cleaning"],clean:["Deep Cleaning","Post-Construction Cleaning","Move-In/Move-Out Cleaning"],replace:["Windows","Doors","Roofing"],paint:["Interior Painting","Exterior Painting","Custom Finishes"],build:["New Construction","Additions","Garages"],location:["New York","Los Angeles","Chicago","Houston","Miami"],time:["Within 24 hours","Within 3 days","Within a week","Flexible"]}},services:{renovation:{name:"Renovation"},maintenance:{name:"Maintenance"},finishing:{name:"Finishing"},plumbing:{name:"Plumbing"}},testimonials:{title:"What Our Clients Say",subtitle:"Real feedback from satisfied customers who trusted us with their projects"},footer:{about:{title:"About Us",description:"We connect homeowners with trusted contractors for all types of home improvement and repair projects."},services:{title:"Our Services"},company:{title:"Company",about:"About Us",careers:"Careers",blog:"Blog",partners:"For Partners"},contact:{title:"Contact",address:"123 Business Street, Suite 100, New York, NY 10001"},copyright:"All rights reserved.",privacy:"Privacy Policy",terms:"Terms of Service",cookies:"Cookie Policy"},contractorApplication:{title:"Join Our Contractor Network",subtitle:"Expand your business by connecting with customers looking for quality services",form:{companyName:"Company Name",ownerName:"Owner Name",email:"Email Address",phone:"Phone Number",website:"Website (optional)",experience:"Years of Experience",services:"Services Offered",description:"Company Description",submit:"Submit Application"},success:"Your application has been submitted successfully! We will review it and contact you soon."}}},xx=U.createContext(null);function XC({children:t}){const[e]=U.useState("en"),r={language:e,setLanguage:()=>{},t:(i,s)=>{try{let o=i.split(".").reduce((a,l)=>{if(a===void 0)throw new Error(`Translation key not found: ${i}`);return a[l]},ZC[e]);return s&&Object.entries(s).forEach(([a,l])=>{o=o.replace(`{{${a}}}`,l.toString())}),o}catch(o){return console.error("Translation error:",o),i}}};return d.jsx(xx.Provider,{value:r,children:t})}function A0(){const t=U.useContext(xx);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t}const eN="modulepreload",tN=function(t){return"/"+t},ny={},wo=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=tN(l),l in ny)return;ny[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":eN,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},nN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wo(async()=>{const{default:r}=await Promise.resolve().then(()=>Bo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class T0 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class rN extends T0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class iN extends T0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class sN extends T0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Hf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Hf||(Hf={}));var oN=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class aN{constructor(e,{headers:n={},customFetch:r,region:i=Hf.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=nN(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return oN(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(b=>{throw new rN(b)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new iN(u);if(!u.ok)throw new sN(u);let m=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield u.json():m==="application/octet-stream"?v=yield u.blob():m==="text/event-stream"?v=u:m==="multipart/form-data"?v=yield u.formData():v=yield u.text(),{data:v,error:null}}catch(i){return{data:null,error:i}}})}}var En={},R0={},Ru={},ol={},ju={},Ou={},lN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xo=lN();const cN=xo.fetch,bx=xo.fetch.bind(xo),_x=xo.Headers,uN=xo.Request,dN=xo.Response,Bo=Object.freeze(Object.defineProperty({__proto__:null,Headers:_x,Request:uN,Response:dN,default:bx,fetch:cN},Symbol.toStringTag,{value:"Module"})),hN=hu(Bo);var Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});let fN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Pu.default=fN;var kx=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ou,"__esModule",{value:!0});const pN=kx(hN),mN=kx(Pu);let gN=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=pN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,h=null,m=s.status,v=s.statusText;if(s.ok){if(this.method!=="HEAD"){const k=await s.text();k===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=k:u=JSON.parse(k))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),j=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,m=406,v="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const x=await s.text();try{c=JSON.parse(x),Array.isArray(c)&&s.status===404&&(u=[],c=null,m=200,v="OK")}catch{s.status===404&&x===""?(m=204,v="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,m=200,v="OK"),c&&this.shouldThrowOnError)throw new mN.default(c)}return{error:c,data:u,count:h,status:m,statusText:v}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Ou.default=gN;var yN=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ju,"__esModule",{value:!0});const vN=yN(Ou);let wN=class extends vN.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ju.default=wN;var xN=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ol,"__esModule",{value:!0});const bN=xN(ju);let _N=class extends bN.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ol.default=_N;var kN=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ru,"__esModule",{value:!0});const Jo=kN(ol);let SN=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Jo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Jo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Jo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Jo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Jo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ru.default=SN;var Mu={},Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.version=void 0;Bu.version="0.0.0-automated";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.DEFAULT_HEADERS=void 0;const EN=Bu;Mu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${EN.version}`};var Sx=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(R0,"__esModule",{value:!0});const CN=Sx(Ru),NN=Sx(ol),IN=Mu;let AN=class Ex{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},IN.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new CN.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ex(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new NN.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};R0.default=AN;var Lo=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(En,"__esModule",{value:!0});En.PostgrestError=En.PostgrestBuilder=En.PostgrestTransformBuilder=En.PostgrestFilterBuilder=En.PostgrestQueryBuilder=En.PostgrestClient=void 0;const Cx=Lo(R0);En.PostgrestClient=Cx.default;const Nx=Lo(Ru);En.PostgrestQueryBuilder=Nx.default;const Ix=Lo(ol);En.PostgrestFilterBuilder=Ix.default;const Ax=Lo(ju);En.PostgrestTransformBuilder=Ax.default;const Tx=Lo(Ou);En.PostgrestBuilder=Tx.default;const Rx=Lo(Pu);En.PostgrestError=Rx.default;var TN=En.default={PostgrestClient:Cx.default,PostgrestQueryBuilder:Nx.default,PostgrestFilterBuilder:Ix.default,PostgrestTransformBuilder:Ax.default,PostgrestBuilder:Tx.default,PostgrestError:Rx.default};const{PostgrestClient:RN,PostgrestQueryBuilder:_6,PostgrestFilterBuilder:k6,PostgrestTransformBuilder:S6,PostgrestBuilder:E6,PostgrestError:C6}=TN,jN="2.11.2",ON={"X-Client-Info":`realtime-js/${jN}`},PN="1.0.0",jx=1e4,MN=1e3;var lo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(lo||(lo={}));var On;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(On||(On={}));var ur;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ur||(ur={}));var Kf;(function(t){t.websocket="websocket"})(Kf||(Kf={}));var Xi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xi||(Xi={}));class BN{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Ox{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ge||(Ge={}));const ry=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=LN(o,t,e,i),s),{})},LN=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?Px(s,o):Vf(o)},Px=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return $N(e,n)}switch(t){case Ge.bool:return FN(e);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return UN(e);case Ge.json:case Ge.jsonb:return DN(e);case Ge.timestamp:return zN(e);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return Vf(e);default:return Vf(e)}},Vf=t=>t,FN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},UN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},DN=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},$N=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Px(e,a))}return t},zN=t=>typeof t=="string"?t.replace(" ","T"):t,Mx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Qd{constructor(e,n,r={},i=jx){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var iy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(iy||(iy={}));class ka{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ka.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=ka.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ka.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=s[c];if(h){const m=u.map(j=>j.presence_ref),v=h.map(j=>j.presence_ref),b=u.filter(j=>v.indexOf(j.presence_ref)<0),x=h.filter(j=>m.indexOf(j.presence_ref)<0);b.length>0&&(a[c]=b),x.length>0&&(l[c]=x)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(v=>v.presence_ref),m=u.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...m)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(sy||(sy={}));var oy;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(oy||(oy={}));var qr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qr||(qr={}));class j0{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=On.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Qd(this,ur.join,this.params,this.timeout),this.rejoinTimer=new Ox(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=On.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=On.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ur.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new ka(this),this.broadcastEndpointURL=Mx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(qr.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(qr.CLOSED));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(qr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,b=[];for(let x=0;x<v;x++){const j=m[x],{filter:{event:k,schema:_,table:C,filter:R}}=j,F=u&&u[x];if(F&&F.event===k&&F.schema===_&&F.table===C&&F.filter===R)b.push(Object.assign(Object.assign({},j),{id:F.id}));else{this.unsubscribe(),e==null||e(qr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(qr.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(qr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(qr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=On.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ur.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Qd(this,ur.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Qd(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=ur;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var b,x,j;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((j=(x=v.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(m,r)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var b,x,j,k,_,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const R=v.id,F=(b=v.filter)===null||b===void 0?void 0:b.event;return R&&((x=n.ids)===null||x===void 0?void 0:x.includes(R))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const R=(_=(k=v==null?void 0:v.filter)===null||k===void 0?void 0:k.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return R==="*"||R===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:x,table:j,commit_timestamp:k,type:_,errors:C}=b;m=Object.assign(Object.assign({},{schema:x,table:j,commit_timestamp:k,eventType:_,new:{},old:{},errors:C}),this._getPayloadRecords(b))}v.callback(m,r)})}_isClosed(){return this.state===On.closed}_isJoined(){return this.state===On.joined}_isJoining(){return this.state===On.joining}_isLeaving(){return this.state===On.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&j0.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ur.close,{},e)}_onError(e){this._on(ur.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=On.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=ry(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=ry(e.columns,e.old_record)),n}}const qN=()=>{},WN=typeof WebSocket<"u",HN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KN{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=ON,this.params={},this.timeout=jx,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=qN,this.conn=null,this.sendBuffer=[],this.serializer=new BN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>wo(async()=>{const{default:l}=await Promise.resolve().then(()=>Bo);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Kf.websocket}`,this.httpEndpoint=Mx(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ox(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(WN){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new VN(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),wo(async()=>{const{default:e}=await import("./browser-DuOIGo7l.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:PN}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case lo.connecting:return Xi.Connecting;case lo.open:return Xi.Open;case lo.closing:return Xi.Closing;default:return Xi.Closed}}isConnected(){return this.connectionState()===Xi.Open}channel(e,n={config:{}}){const r=new j0(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(ur.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(MN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ur.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([HN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class VN{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=lo.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class O0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function zt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class GN extends O0{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Gf extends O0{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var YN=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Bx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wo(async()=>{const{default:r}=await Promise.resolve().then(()=>Bo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},QN=()=>YN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wo(()=>Promise.resolve().then(()=>Bo),void 0)).Response:Response}),Yf=t=>{if(Array.isArray(t))return t.map(n=>Yf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Yf(r)}),e};var _s=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Jd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),JN=(t,e,n)=>_s(void 0,void 0,void 0,function*(){const r=yield QN();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new GN(Jd(i),t.status||500))}).catch(i=>{e(new Gf(Jd(i),i))}):e(new Gf(Jd(t),t))}),ZN=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function al(t,e,n,r,i,s){return _s(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,ZN(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>JN(l,a,r))})})}function Jc(t,e,n,r){return _s(this,void 0,void 0,function*(){return al(t,"GET",e,n,r)})}function mi(t,e,n,r,i){return _s(this,void 0,void 0,function*(){return al(t,"POST",e,r,i,n)})}function XN(t,e,n,r,i){return _s(this,void 0,void 0,function*(){return al(t,"PUT",e,r,i,n)})}function eI(t,e,n,r){return _s(this,void 0,void 0,function*(){return al(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Lx(t,e,n,r,i){return _s(this,void 0,void 0,function*(){return al(t,"DELETE",e,r,i,n)})}var kn=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const tI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ay={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nI{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Bx(i)}uploadOrUpdate(e,n,r,i){return kn(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},ay),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:c,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}upload(e,n,r){return kn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return kn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:ay.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),m=yield h.json();return h.ok?{data:{path:s,fullPath:m.Key},error:null}:{data:null,error:m}}catch(l){if(zt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return kn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield mi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new O0("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}update(e,n,r){return kn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return kn(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(zt(i))return{data:null,error:i};throw i}})}copy(e,n,r){return kn(this,void 0,void 0,function*(){try{return{data:{path:(yield mi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(zt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return kn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield mi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(zt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return kn(this,void 0,void 0,function*(){try{const i=yield mi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(zt(i))return{data:null,error:i};throw i}})}download(e,n){return kn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Jc(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(zt(a))return{data:null,error:a};throw a}})}info(e){return kn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Jc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Yf(r),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}exists(e){return kn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield eI(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(zt(r)&&r instanceof Gf){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return kn(this,void 0,void 0,function*(){try{return{data:yield Lx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}list(e,n,r){return kn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},tI),n),{prefix:e||""});return{data:yield mi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(zt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const rI="2.7.1",iI={"X-Client-Info":`storage-js/${rI}`};var Is=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class sI{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},iI),n),this.fetch=Bx(r)}listBuckets(){return Is(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(zt(e))return{data:null,error:e};throw e}})}getBucket(e){return Is(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Is(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Is(this,void 0,void 0,function*(){try{return{data:yield XN(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Is(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Is(this,void 0,void 0,function*(){try{return{data:yield Lx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}}class oI extends sI{constructor(e,n={},r){super(e,n,r)}from(e){return new nI(this.url,this.headers,e,this.fetch)}}const aI="2.49.4";let ca="";typeof Deno<"u"?ca="deno":typeof document<"u"?ca="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ca="react-native":ca="node";const lI={"X-Client-Info":`supabase-js-${ca}/${aI}`},cI={headers:lI},uI={schema:"public"},dI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hI={};var fI=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const pI=t=>{let e;return t?e=t:typeof fetch>"u"?e=bx:e=fetch,(...n)=>e(...n)},mI=()=>typeof Headers>"u"?_x:Headers,gI=(t,e,n)=>{const r=pI(n),i=mI();return(s,o)=>fI(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var yI=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function vI(t){return t.replace(/\/$/,"")}function wI(t,e){const{db:n,auth:r,realtime:i,global:s}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>yI(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Fx="2.69.1",Us=30*1e3,Qf=3,Zd=Qf*Us,xI="http://localhost:9999",bI="supabase.auth.token",_I={"X-Client-Info":`gotrue-js/${Fx}`},Jf="X-Supabase-Api-Version",Ux={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,SI=6e5;class P0 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ne(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class EI extends P0{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function CI(t){return Ne(t)&&t.name==="AuthApiError"}class Dx extends P0{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ki extends P0{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class ui extends Ki{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function NI(t){return Ne(t)&&t.name==="AuthSessionMissingError"}class Xd extends Ki{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pl extends Ki{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ml extends Ki{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function II(t){return Ne(t)&&t.name==="AuthImplicitGrantRedirectError"}class ly extends Ki{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zf extends Ki{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function eh(t){return Ne(t)&&t.name==="AuthRetryableFetchError"}class cy extends Ki{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Sa extends Ki{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const uy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dy=` 	
\r=`.split(""),AI=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<dy.length;e+=1)t[dy[e].charCodeAt(0)]=-2;for(let e=0;e<uy.length;e+=1)t[uy[e].charCodeAt(0)]=e;return t})();function $x(t,e,n){const r=AI[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function hy(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{jI(o,r,n)};for(let o=0;o<t.length;o+=1)$x(t.charCodeAt(o),i,s);return e.join("")}function TI(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function RI(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}TI(r,e)}}function jI(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function OI(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)$x(t.charCodeAt(i),n,r);return new Uint8Array(e)}function PI(t){const e=[];return RI(t,n=>e.push(n)),new Uint8Array(e)}function MI(t){return Math.round(Date.now()/1e3)+t}function BI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Er=()=>typeof window<"u"&&typeof document<"u",Vi={tested:!1,writable:!1},Ea=()=>{if(!Er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vi.tested)return Vi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vi.tested=!0,Vi.writable=!0}catch{Vi.tested=!0,Vi.writable=!1}return Vi.writable};function LI(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const zx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wo(async()=>{const{default:r}=await Promise.resolve().then(()=>Bo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},FI=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",qx=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Bl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ll=async(t,e)=>{await t.removeItem(e)};class Lu{constructor(){this.promise=new Lu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Lu.promiseConstructor=Promise;function th(t){const e=t.split(".");if(e.length!==3)throw new Sa("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!kI.test(e[r]))throw new Sa("JWT not in base64url format");return{header:JSON.parse(hy(e[0])),payload:JSON.parse(hy(e[1])),signature:OI(e[2]),raw:{header:e[0],payload:e[1]}}}async function UI(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function DI(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function $I(t){return("0"+t.toString(16)).substr(-2)}function zI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,$I).join("")}async function qI(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function WI(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await qI(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function As(t,e,n=!1){const r=zI();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await qx(t,`${e}-code-verifier`,i);const s=await WI(r);return[s,r===s?"plain":"s256"]}const HI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KI(t){const e=t.headers.get(Jf);if(!e||!e.match(HI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function VI(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function GI(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var YI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Qi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),QI=[502,503,504];async function fy(t){var e;if(!FI(t))throw new Zf(Qi(t),0);if(QI.includes(t.status))throw new Zf(Qi(t),t.status);let n;try{n=await t.json()}catch(s){throw new Dx(Qi(s),s)}let r;const i=KI(t);if(i&&i.getTime()>=Ux["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new cy(Qi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ui}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new cy(Qi(n),t.status,n.weak_password.reasons);throw new EI(Qi(n),t.status||500,r)}const JI=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Me(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Jf]||(s[Jf]=Ux["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ZI(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function ZI(t,e,n,r,i,s){const o=JI(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Zf(Qi(l),0)}if(a.ok||await fy(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await fy(l)}}function di(t){var e;let n=null;nA(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=MI(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function py(t){const e=di(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function vi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function XI(t){return{data:t,error:null}}function eA(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=YI(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function tA(t){return t}function nA(t){return t.access_token&&t.refresh_token&&t.expires_in}var rA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class iA{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=zx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vi})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=rA(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:eA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vi})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:tA});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);c[`${j}Page`]=x}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Ne(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vi})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:vi})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:vi})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await Me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}}const sA={getItem:t=>Ea()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ea()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ea()&&globalThis.localStorage.removeItem(t)}};function my(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function oA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ts={debug:!!(globalThis&&Ea()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class aA extends Wx{}async function lA(t,e,n){Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new aA(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ts.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}oA();const cA={url:xI,storageKey:bI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_I,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function gy(t,e,n){return await n()}class Va{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Va.nextInstanceID,Va.nextInstanceID+=1,this.instanceID>0&&Er()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},cA),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new iA({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=zx(i.fetch),this.lock=i.lock||gy,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Er()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lA:this.lock=gy,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Ea()?this.storage=sA:(this.memoryStorage={},this.storage=my(this.memoryStorage)):(this.memoryStorage={},this.storage=my(this.memoryStorage)),Er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Fx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=LI(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Er()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),II(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ne(n)?{error:n}:{error:new Dx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:di}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Ne(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:u,password:h,options:m}=e;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await As(this.storage,this.storageKey)),s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:b},xform:di})}else if("phone"in e){const{phone:u,password:h,options:m}=e;s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:di})}else throw new Pl("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:py})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:py})}else throw new Pl("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Xd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Bl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:di});if(await Ll(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Xd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Ne(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:di}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Xd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await As(this.storage,this.storageKey));const{error:h}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Pl("You must provide either an email or phone number.")}catch(a){if(Ne(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:di});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Ne(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await As(this.storage,this.storageKey)),await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:XI})}catch(s){if(Ne(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ui;const{error:i}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ne(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await Me(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await Me(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Pl("You must provide either an email or phone number and a type")}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Bl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Zd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vi}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ui}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:vi})})}catch(n){if(Ne(n))return NI(n)&&(await this._removeSession(),await Ll(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ui;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await As(this.storage,this.storageKey));const{data:c,error:u}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:vi});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ui;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=th(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Ne(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ui;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Er())throw new Ml("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ml(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ly("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ml("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ly("No code detected.");const{data:_,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!s||!a||!o||!c)throw new Ml("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let m=u+h;l&&(m=parseInt(l));const v=m-u;v*1e3<=Us&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const b=m-h;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,u);const{data:x,error:j}=await this._getUser(s);if(j)throw j;const k={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:m,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(r){if(Ne(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Bl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(CI(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ll(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=BI(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await As(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Ne(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:h,error:m}=s;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",v,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Er()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ne(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await DI(async i=>(i>0&&await UI(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:di})),(i,s)=>{const o=200*Math.pow(2,i);return s&&eh(s)&&Date.now()+o-r<Us})}catch(r){if(this._debug(n,"error",r),Ne(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Er()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Bl(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Zd;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Zd}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),eh(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ui;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Lu;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new ui;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Ne(s)){const o={session:null,error:s};return eh(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await qx(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ll(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Er()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Us);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Us);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Us}ms, refresh threshold is ${Qf} ticks`),i<=Qf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Wx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Er()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await As(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await Me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=th(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+SI>Date.now()))return r;const{data:i,error:s}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new Sa("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===e),!r)throw new Sa("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:v,error:b}=await this.getSession();if(b||!v.session)return{data:null,error:b};r=v.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=th(r);if(VI(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:s,header:i,signature:o},error:null}}const c=GI(i.alg),u=await this.fetchJwk(i.kid,n),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,PI(`${a}.${l}`)))throw new Sa("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}}Va.nextInstanceID=0;const uA=Va;class dA extends uA{constructor(e){super(e)}}var hA=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class fA{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=vI(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:uI,realtime:hI,auth:Object.assign(Object.assign({},dI),{storageKey:l}),global:cI},u=wI(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=gI(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new RN(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new aN(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new oI(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return hA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dA({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new KN(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pA=(t,e,n)=>new fA(t,e,n),mA="https://xyqnzykzpijhhfxrgrqy.supabase.co",gA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5cW56eWt6cGlqaGhmeHJncnF5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ3OTQxNTUsImV4cCI6MjA2MDM3MDE1NX0.3IgnWODGOyhmpO4uG8ww5le3knT4zlaY4ezNGlbLTyw",Xf=pA(mA,gA);function yA({onAddComment:t}){A0();const[e,n]=U.useState(0),[r,i]=U.useState(!1),[s,o]=U.useState([]),[a,l]=U.useState(!0);U.useEffect(()=>{c()},[]),U.useEffect(()=>{if(s.length>0){const m=setInterval(()=>{i(!0),setTimeout(()=>{n(v=>(v+1)%s.length),i(!1)},500)},5e3);return()=>clearInterval(m)}},[s.length]);const c=async()=>{try{const{data:m,error:v}=await Xf.from("testimonial_comments").select("*").order("created_at",{ascending:!1});if(v)throw v;o(m||[])}catch(m){console.error("Error fetching comments:",m)}finally{l(!1)}},u=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});if(a)return d.jsx("div",{className:"text-center py-12",children:d.jsxs("div",{className:"animate-pulse space-y-4",children:[d.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"}),d.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mx-auto"}),d.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mx-auto"})]})});if(s.length===0)return d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[d.jsx(ey,{className:"w-12 h-12 text-blue-200 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"No testimonials yet. Be the first to share your experience!"}),d.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Ka,{className:"w-5 h-5"}),"Share Your Experience"]})]});const h=s[e];return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-8",children:[d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx(ey,{className:"w-12 h-12 text-blue-200"})}),d.jsxs("div",{className:`transition-opacity duration-500 ${r?"opacity-0":"opacity-100"}`,children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-2xl font-semibold text-blue-600",children:h.user_name.charAt(0).toUpperCase()})}),d.jsxs("div",{children:[d.jsx("div",{className:"flex gap-1 mb-1",children:Array.from({length:h.rating}).map((m,v)=>d.jsx(I0,{className:"w-5 h-5 text-yellow-400 fill-current"},v))}),d.jsx("h3",{className:"font-semibold text-gray-900",children:h.user_name}),d.jsx("p",{className:"text-sm text-gray-600",children:u(h.created_at)})]})]}),d.jsxs("blockquote",{className:"text-lg text-gray-700 italic",children:['"',h.content,'"']})]}),d.jsx("div",{className:"flex justify-center mt-6 gap-2",children:s.map((m,v)=>d.jsx("button",{onClick:()=>{i(!0),setTimeout(()=>{n(v),i(!1)},500)},className:`w-2 h-2 rounded-full transition-all duration-300 ${v===e?"bg-blue-500 w-4":"bg-blue-200"}`},v))})]}),d.jsx("div",{className:"flex justify-center",children:d.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Ka,{className:"w-5 h-5"}),"Share Your Experience"]})})]})}function Hx({isOpen:t,onClose:e,onSubmit:n}){const{t:r}=A0(),[i,s]=U.useState(!1),[o,a]=U.useState(null),{options:l}=px(),[c,u]=U.useState({companyName:"",ownerName:"",email:"",phone:"",website:"",experience:0,services:"",description:"",selectedActions:[],selectedLandscapes:[],selectedInspects:[],selectedRenovates:[],selectedRepairs:[],selectedInstalls:[],selectedFlips:[],selectedRemoves:[],selectedTextures:[],selectedPowerwashes:[],selectedCleans:[],selectedReplaces:[],selectedPaints:[],selectedBuilds:[],selectedLocations:[],selectedTimes:[],image:null}),h=async j=>{j.preventDefault(),s(!0);try{const k=localStorage.getItem("auth_token");if(!k){alert("You need to log in to submit the form.");return}const _=new FormData;_.append("companyName",c.companyName),_.append("ownerName",c.ownerName),_.append("email",c.email),_.append("phone",c.phone),_.append("website",c.website),_.append("experience",c.experience.toString()),_.append("services",c.services),_.append("description",c.description),_.append("selectedActions",JSON.stringify(c.selectedActions)),_.append("selectedLandscapes",JSON.stringify(c.selectedLandscapes)),_.append("selectedInspects",JSON.stringify(c.selectedInspects)),_.append("selectedRenovates",JSON.stringify(c.selectedRenovates)),_.append("selectedRepairs",JSON.stringify(c.selectedRepairs)),_.append("selectedInstalls",JSON.stringify(c.selectedInstalls)),_.append("selectedFlips",JSON.stringify(c.selectedFlips)),_.append("selectedRemoves",JSON.stringify(c.selectedRemoves)),_.append("selectedTextures",JSON.stringify(c.selectedTextures)),_.append("selectedPowerwashes",JSON.stringify(c.selectedPowerwashes)),_.append("selectedCleans",JSON.stringify(c.selectedCleans)),_.append("selectedReplaces",JSON.stringify(c.selectedReplaces)),_.append("selectedPaints",JSON.stringify(c.selectedPaints)),_.append("selectedBuilds",JSON.stringify(c.selectedBuilds)),_.append("selectedLocations",JSON.stringify(c.selectedLocations)),_.append("selectedTimes",JSON.stringify(c.selectedTimes)),c.image&&_.append("image",c.image);const C=await fetch("http://localhost:3000/api/add/companies",{method:"POST",headers:{Authorization:`Bearer ${k}`},body:_});if(!C.ok){const R=await C.json();throw new Error(R.message||"Failed to submit form")}n(c),e(),u({companyName:"",ownerName:"",email:"",phone:"",website:"",experience:0,services:"",description:"",selectedActions:[],selectedLandscapes:[],selectedInspects:[],selectedRenovates:[],selectedRepairs:[],selectedInstalls:[],selectedFlips:[],selectedRemoves:[],selectedTextures:[],selectedPowerwashes:[],selectedCleans:[],selectedReplaces:[],selectedPaints:[],selectedBuilds:[],selectedLocations:[],selectedTimes:[],image:null})}catch(k){console.error("Error submitting form:",k)}finally{s(!1)}},m=j=>{const{name:k,value:_}=j.target;u(C=>({...C,[k]:_}))},v=j=>{var _;const k=(_=j.target.files)==null?void 0:_[0];if(k){u(R=>({...R,image:k}));const C=URL.createObjectURL(k);a(C)}},b=(j,k)=>{const C={action:"selectedActions",landscape:"selectedLandscapes",inspect:"selectedInspects",renovate:"selectedRenovates",repair:"selectedRepairs",install:"selectedInstalls",flip_a_house:"selectedFlips",remove:"selectedRemoves",texture:"selectedTextures",powerwash:"selectedPowerwashes",clean:"selectedCleans",replace:"selectedReplaces",paint:"selectedPaints",build:"selectedBuilds",location:"selectedLocations",time:"selectedTimes"}[j];u(R=>{const F=R[C],L=F.includes(k)?F.filter($=>$!==k):[...F,k];return{...R,[C]:L}})};if(!t)return null;const x=(j,k)=>{const C={action:"selectedActions",landscape:"selectedLandscapes",inspect:"selectedInspects",renovate:"selectedRenovates",repair:"selectedRepairs",install:"selectedInstalls",flip_a_house:"selectedFlips",remove:"selectedRemoves",texture:"selectedTextures",powerwash:"selectedPowerwashes",clean:"selectedCleans",replace:"selectedReplaces",paint:"selectedPaints",build:"selectedBuilds",location:"selectedLocations",time:"selectedTimes"}[j],R=l[j]||[];return d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:k}),d.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(F=>d.jsx("button",{type:"button",onClick:()=>b(j,F.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${c[C].includes(F.value)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:F.value},F.value))})]})};return d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-white px-6 py-4 border-b flex items-center justify-between",children:[d.jsx("h2",{className:"text-xl font-bold",children:r("contractorApplication.title")}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:d.jsx(Mo,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:h,className:"p-6",children:[d.jsx("div",{className:"mb-6",children:d.jsx("div",{className:"relative group",children:d.jsxs("div",{className:"aspect-video rounded-lg overflow-hidden bg-gray-100",children:[d.jsx("img",{src:o||"https://via.placeholder.com/300x200",alt:"Company preview",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("label",{className:"cursor-pointer flex flex-col items-center text-white",children:[d.jsx("span",{className:"text-sm",children:"Upload Image"}),d.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"hidden"})]})})]})})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700 mb-2",children:r("contractorApplication.form.companyName")}),d.jsx("input",{type:"text",id:"companyName",name:"companyName",value:c.companyName,onChange:m,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"ownerName",className:"block text-sm font-medium text-gray-700 mb-2",children:r("contractorApplication.form.ownerName")}),d.jsx("input",{type:"text",id:"ownerName",name:"ownerName",value:c.ownerName,onChange:m,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:r("contractorApplication.form.email")}),d.jsx("input",{type:"email",id:"email",name:"email",value:c.email,onChange:m,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:r("contractorApplication.form.phone")}),d.jsx("input",{type:"tel",id:"phone",name:"phone",value:c.phone,onChange:m,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 mb-2",children:r("contractorApplication.form.website")}),d.jsx("input",{type:"url",id:"website",name:"website",value:c.website,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"experience",className:"block text-sm font-medium text-gray-700 mb-2",children:r("contractorApplication.form.experience")}),d.jsx("input",{type:"number",id:"experience",name:"experience",value:c.experience,onChange:m,required:!0,min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),x("action","Select Actions"),x("landscape","Select Landscapes"),x("inspect","Select Inspects"),x("renovate","Select Renovates"),x("repair","Select Repairs"),x("install","Select Installs"),x("flip_a_house","Select Flip a House"),x("remove","Select Removes"),x("texture","Select Textures"),x("powerwash","Select Powerwashes"),x("clean","Select Cleans"),x("replace","Select Replaces"),x("paint","Select Paints"),x("build","Select Builds"),x("location","Select Locations"),x("time","Select Times"),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"services",className:"block text-sm font-medium text-gray-700 mb-2",children:r("contractorApplication.form.services")}),d.jsx("input",{type:"text",id:"services",name:"services",value:c.services,onChange:m,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:r("contractorApplication.form.description")}),d.jsx("textarea",{id:"description",name:"description",value:c.description,onChange:m,required:!0,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("button",{type:"submit",disabled:i,className:`w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg transition-colors ${i?"opacity-75 cursor-not-allowed":"hover:bg-blue-700"}`,children:[i?d.jsx(pr,{className:"w-5 h-5 animate-spin"}):d.jsx(mx,{className:"w-5 h-5"}),r("contractorApplication.form.submit")]})]})]})})}function vA({isOpen:t,onClose:e,onSubmit:n}){const[r,i]=U.useState(!1),[s,o]=U.useState({userName:"",content:"",rating:5}),a=async l=>{l.preventDefault(),i(!0);try{await n(s),e(),o({userName:"",content:"",rating:5})}catch(c){console.error("Error:",c)}finally{i(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg",children:[d.jsxs("div",{className:"px-6 py-4 border-b flex items-center justify-between",children:[d.jsx("h2",{className:"text-xl font-bold",children:"Add Comment"}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:d.jsx(Mo,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:a,className:"p-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"userName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name"}),d.jsx("input",{type:"text",id:"userName",value:s.userName,onChange:l=>o({...s,userName:l.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"rating",className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),d.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(l=>d.jsx("button",{type:"button",onClick:()=>o({...s,rating:l}),className:"p-2",children:d.jsx(I0,{className:`w-6 h-6 ${l<=s.rating?"text-yellow-400 fill-current":"text-gray-300"}`})},l))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Comment"}),d.jsx("textarea",{id:"content",value:s.content,onChange:l=>o({...s,content:l.target.value}),required:!0,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),d.jsx("button",{type:"submit",disabled:r,className:`w-full mt-6 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg transition-colors ${r?"opacity-75 cursor-not-allowed":"hover:bg-blue-700"}`,children:r?d.jsx(pr,{className:"w-5 h-5 animate-spin"}):"Submit Comment"})]})]})}):null}function Kx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Kx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Xe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Kx(t))&&(r&&(r+=" "),r+=e);return r}var ep=function(t,e){return ep=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ep(t,e)};function wA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ep(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Wt=function(){return Wt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wt.apply(this,arguments)};function xA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Rs(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function js(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Nr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function B0(t,e){return t(e={exports:{}},e.exports),e.exports}var Ji=B0(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function r(){var i=this;this.locked=new Map,this.addToLocked=function(s,o){var a=i.locked.get(s);a===void 0?o===void 0?i.locked.set(s,[]):i.locked.set(s,[o]):o!==void 0&&(a.unshift(o),i.locked.set(s,a))},this.isLocked=function(s){return i.locked.has(s)},this.lock=function(s){return new Promise(function(o,a){i.isLocked(s)?i.addToLocked(s,o):(i.addToLocked(s),o())})},this.unlock=function(s){var o=i.locked.get(s);if(o!==void 0&&o.length!==0){var a=o.pop();i.locked.set(s,o),a!==void 0&&setTimeout(a,0)}else i.locked.delete(s)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r}();e.default=function(){return n.getInstance()}});M0(Ji);var bA=M0(B0(function(t,e){var n=es&&es.__awaiter||function(u,h,m,v){return new(m||(m=Promise))(function(b,x){function j(C){try{_(v.next(C))}catch(R){x(R)}}function k(C){try{_(v.throw(C))}catch(R){x(R)}}function _(C){C.done?b(C.value):new m(function(R){R(C.value)}).then(j,k)}_((v=v.apply(u,h||[])).next())})},r=es&&es.__generator||function(u,h){var m,v,b,x,j={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return x={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function k(_){return function(C){return function(R){if(m)throw new TypeError("Generator is already executing.");for(;j;)try{if(m=1,v&&(b=2&R[0]?v.return:R[0]?v.throw||((b=v.return)&&b.call(v),0):v.next)&&!(b=b.call(v,R[1])).done)return b;switch(v=0,b&&(R=[2&R[0],b.value]),R[0]){case 0:case 1:b=R;break;case 4:return j.label++,{value:R[1],done:!1};case 5:j.label++,v=R[1],R=[0];continue;case 7:R=j.ops.pop(),j.trys.pop();continue;default:if(b=j.trys,!((b=b.length>0&&b[b.length-1])||R[0]!==6&&R[0]!==2)){j=0;continue}if(R[0]===3&&(!b||R[1]>b[0]&&R[1]<b[3])){j.label=R[1];break}if(R[0]===6&&j.label<b[1]){j.label=b[1],b=R;break}if(b&&j.label<b[2]){j.label=b[2],j.ops.push(R);break}b[2]&&j.ops.pop(),j.trys.pop();continue}R=h.call(u,j)}catch(F){R=[6,F],v=0}finally{m=b=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([_,C])}}},i=es;Object.defineProperty(e,"__esModule",{value:!0});var s="browser-tabs-lock-key",o={key:function(u){return n(i,void 0,void 0,function(){return r(this,function(h){throw new Error("Unsupported")})})},getItem:function(u){return n(i,void 0,void 0,function(){return r(this,function(h){throw new Error("Unsupported")})})},clear:function(){return n(i,void 0,void 0,function(){return r(this,function(u){return[2,window.localStorage.clear()]})})},removeItem:function(u){return n(i,void 0,void 0,function(){return r(this,function(h){throw new Error("Unsupported")})})},setItem:function(u,h){return n(i,void 0,void 0,function(){return r(this,function(m){throw new Error("Unsupported")})})},keySync:function(u){return window.localStorage.key(u)},getItemSync:function(u){return window.localStorage.getItem(u)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(u){return window.localStorage.removeItem(u)},setItemSync:function(u,h){return window.localStorage.setItem(u,h)}};function a(u){return new Promise(function(h){return setTimeout(h,u)})}function l(u){for(var h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",m="",v=0;v<u;v++)m+=h[Math.floor(Math.random()*h.length)];return m}var c=function(){function u(h){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=h,u.waiters===void 0&&(u.waiters=[])}return u.prototype.acquireLock=function(h,m){return m===void 0&&(m=5e3),n(this,void 0,void 0,function(){var v,b,x,j,k,_,C;return r(this,function(R){switch(R.label){case 0:v=Date.now()+l(4),b=Date.now()+m,x=s+"-"+h,j=this.storageHandler===void 0?o:this.storageHandler,R.label=1;case 1:return Date.now()<b?[4,a(30)]:[3,8];case 2:return R.sent(),j.getItemSync(x)!==null?[3,5]:(k=this.id+"-"+h+"-"+v,[4,a(Math.floor(25*Math.random()))]);case 3:return R.sent(),j.setItemSync(x,JSON.stringify({id:this.id,iat:v,timeoutKey:k,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,a(30)];case 4:return R.sent(),(_=j.getItemSync(x))!==null&&(C=JSON.parse(_)).id===this.id&&C.iat===v?(this.acquiredIatSet.add(v),this.refreshLockWhileAcquired(x,v),[2,!0]):[3,7];case 5:return u.lockCorrector(this.storageHandler===void 0?o:this.storageHandler),[4,this.waitForSomethingToChange(b)];case 6:R.sent(),R.label=7;case 7:return v=Date.now()+l(4),[3,1];case 8:return[2,!1]}})})},u.prototype.refreshLockWhileAcquired=function(h,m){return n(this,void 0,void 0,function(){var v=this;return r(this,function(b){return setTimeout(function(){return n(v,void 0,void 0,function(){var x,j,k;return r(this,function(_){switch(_.label){case 0:return[4,Ji.default().lock(m)];case 1:return _.sent(),this.acquiredIatSet.has(m)?(x=this.storageHandler===void 0?o:this.storageHandler,(j=x.getItemSync(h))===null?(Ji.default().unlock(m),[2]):((k=JSON.parse(j)).timeRefreshed=Date.now(),x.setItemSync(h,JSON.stringify(k)),Ji.default().unlock(m),this.refreshLockWhileAcquired(h,m),[2])):(Ji.default().unlock(m),[2])}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(h){return n(this,void 0,void 0,function(){return r(this,function(m){switch(m.label){case 0:return[4,new Promise(function(v){var b=!1,x=Date.now(),j=!1;function k(){if(j||(window.removeEventListener("storage",k),u.removeFromWaiting(k),clearTimeout(_),j=!0),!b){b=!0;var C=50-(Date.now()-x);C>0?setTimeout(v,C):v(null)}}window.addEventListener("storage",k),u.addToWaiting(k);var _=setTimeout(k,Math.max(0,h-Date.now()))})];case 1:return m.sent(),[2]}})})},u.addToWaiting=function(h){this.removeFromWaiting(h),u.waiters!==void 0&&u.waiters.push(h)},u.removeFromWaiting=function(h){u.waiters!==void 0&&(u.waiters=u.waiters.filter(function(m){return m!==h}))},u.notifyWaiters=function(){u.waiters!==void 0&&u.waiters.slice().forEach(function(h){return h()})},u.prototype.releaseLock=function(h){return n(this,void 0,void 0,function(){return r(this,function(m){switch(m.label){case 0:return[4,this.releaseLock__private__(h)];case 1:return[2,m.sent()]}})})},u.prototype.releaseLock__private__=function(h){return n(this,void 0,void 0,function(){var m,v,b,x;return r(this,function(j){switch(j.label){case 0:return m=this.storageHandler===void 0?o:this.storageHandler,v=s+"-"+h,(b=m.getItemSync(v))===null?[2]:(x=JSON.parse(b)).id!==this.id?[3,2]:[4,Ji.default().lock(x.iat)];case 1:j.sent(),this.acquiredIatSet.delete(x.iat),m.removeItemSync(v),Ji.default().unlock(x.iat),u.notifyWaiters(),j.label=2;case 2:return[2]}})})},u.lockCorrector=function(h){for(var m=Date.now()-5e3,v=h,b=[],x=0;;){var j=v.keySync(x);if(j===null)break;b.push(j),x++}for(var k=!1,_=0;_<b.length;_++){var C=b[_];if(C.includes(s)){var R=v.getItemSync(C);if(R!==null){var F=JSON.parse(R);(F.timeRefreshed===void 0&&F.timeAcquired<m||F.timeRefreshed!==void 0&&F.timeRefreshed<m)&&(v.removeItemSync(C),k=!0)}}}k&&u.notifyWaiters()},u.waiters=void 0,u}();e.default=c}));const _A={timeoutInSeconds:60},Vx={name:"auth0-spa-js",version:"2.1.3"},Gx=()=>Date.now();let Mn=class tp extends Error{constructor(e,n){super(n),this.error=e,this.error_description=n,Object.setPrototypeOf(this,tp.prototype)}static fromPayload({error:e,error_description:n}){return new tp(e,n)}},kA=class Yx extends Mn{constructor(e,n,r,i=null){super(e,n),this.state=r,this.appState=i,Object.setPrototypeOf(this,Yx.prototype)}},np=class Qx extends Mn{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,Qx.prototype)}},SA=class Jx extends np{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,Jx.prototype)}},EA=class Zx extends Mn{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,Zx.prototype)}},CA=class Xx extends Mn{constructor(e,n,r){super(e,n),this.mfa_token=r,Object.setPrototypeOf(this,Xx.prototype)}},eb=class tb extends Mn{constructor(e,n){super("missing_refresh_token",`Missing Refresh Token (audience: '${yy(e,["default"])}', scope: '${yy(n)}')`),this.audience=e,this.scope=n,Object.setPrototypeOf(this,tb.prototype)}};function yy(t,e=[]){return t&&!e.includes(t)?t:""}const hc=()=>window.crypto,nh=()=>{const t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(hc().getRandomValues(new Uint8Array(43))).forEach(n=>e+=t[n%t.length]),e},vy=t=>btoa(t),rp=t=>{var{clientId:e}=t,n=Nr(t,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter(i=>r[i]!==void 0).reduce((i,s)=>Object.assign(Object.assign({},i),{[s]:r[s]}),{}))(Object.assign({client_id:e},n))).toString()},wy=t=>(e=>decodeURIComponent(atob(e).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join("")))(t.replace(/_/g,"/").replace(/-/g,"+")),NA=async(t,e)=>{const n=await fetch(t,e);return{ok:n.ok,json:await n.json()}},IA=async(t,e,n)=>{const r=new AbortController;let i;return e.signal=r.signal,Promise.race([NA(t,e),new Promise((s,o)=>{i=setTimeout(()=>{r.abort(),o(new Error("Timeout when executing 'fetch'"))},n)})]).finally(()=>{clearTimeout(i)})},AA=async(t,e,n,r,i,s,o)=>{return a={auth:{audience:e,scope:n},timeout:i,fetchUrl:t,fetchOptions:r,useFormData:o},l=s,new Promise(function(c,u){const h=new MessageChannel;h.port1.onmessage=function(m){m.data.error?u(new Error(m.data.error)):c(m.data),h.port1.close()},l.postMessage(a,[h.port2])});var a,l},TA=async(t,e,n,r,i,s,o=1e4)=>i?AA(t,e,n,r,o,i,s):IA(t,r,o);async function RA(t,e){var{baseUrl:n,timeout:r,audience:i,scope:s,auth0Client:o,useFormData:a}=t,l=Nr(t,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const c=a?rp(l):JSON.stringify(l);return await async function(u,h,m,v,b,x,j){let k,_=null;for(let K=0;K<3;K++)try{k=await TA(u,m,v,b,x,j,h),_=null;break}catch(ee){_=ee}if(_)throw _;const C=k.json,{error:R,error_description:F}=C,L=Nr(C,["error","error_description"]),{ok:$}=k;if(!$){const K=F||`HTTP error. Unable to fetch ${u}`;throw R==="mfa_required"?new CA(R,K,L.mfa_token):R==="missing_refresh_token"?new eb(m,v):new Mn(R||"request_error",K)}return L}(`${n}/oauth/token`,r,i||"default",s,{method:"POST",body:c,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(o||Vx))}},e,a)}const Fl=(...t)=>{return(e=t.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e};let as=class ip{constructor(e,n="@@auth0spajs@@",r){this.prefix=n,this.suffix=r,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[n,r,i,s]=e.split("::");return new ip({clientId:r,scope:s,audience:i},n)}static fromCacheEntry(e){const{scope:n,audience:r,client_id:i}=e;return new ip({scope:n,audience:r,clientId:i})}};class jA{set(e,n){localStorage.setItem(e,JSON.stringify(n))}get(e){const n=window.localStorage.getItem(e);if(n)try{return JSON.parse(n)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}}class nb{constructor(){this.enclosedCache=function(){let e={};return{set(n,r){e[n]=r},get(n){const r=e[n];if(r)return r},remove(n){delete e[n]},allKeys:()=>Object.keys(e)}}()}}let OA=class{constructor(e,n,r){this.cache=e,this.keyManifest=n,this.nowProvider=r||Gx}async setIdToken(e,n,r){var i;const s=this.getIdTokenCacheKey(e);await this.cache.set(s,{id_token:n,decodedToken:r}),await((i=this.keyManifest)===null||i===void 0?void 0:i.add(s))}async getIdToken(e){const n=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!n&&e.scope&&e.audience){const r=await this.get(e);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(n)return{id_token:n.id_token,decodedToken:n.decodedToken}}async get(e,n=0){var r;let i=await this.cache.get(e.toKey());if(!i){const a=await this.getCacheKeys();if(!a)return;const l=this.matchExistingCacheKey(e,a);l&&(i=await this.cache.get(l))}if(!i)return;const s=await this.nowProvider(),o=Math.floor(s/1e3);return i.expiresAt-n<o?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},await this.cache.set(e.toKey(),i),i.body):(await this.cache.remove(e.toKey()),void await((r=this.keyManifest)===null||r===void 0?void 0:r.remove(e.toKey()))):i.body}async set(e){var n;const r=new as({clientId:e.client_id,scope:e.scope,audience:e.audience}),i=await this.wrapCacheEntry(e);await this.cache.set(r.toKey(),i),await((n=this.keyManifest)===null||n===void 0?void 0:n.add(r.toKey()))}async clear(e){var n;const r=await this.getCacheKeys();r&&(await r.filter(i=>!e||i.includes(e)).reduce(async(i,s)=>{await i,await this.cache.remove(s)},Promise.resolve()),await((n=this.keyManifest)===null||n===void 0?void 0:n.clear()))}async wrapCacheEntry(e){const n=await this.nowProvider();return{body:e,expiresAt:Math.floor(n/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new as({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,n){return n.filter(r=>{var i;const s=as.fromKey(r),o=new Set(s.scope&&s.scope.split(" ")),a=((i=e.scope)===null||i===void 0?void 0:i.split(" "))||[],l=s.scope&&a.reduce((c,u)=>c&&o.has(u),!0);return s.prefix==="@@auth0spajs@@"&&s.clientId===e.clientId&&s.audience===e.audience&&l})[0]}};class PA{constructor(e,n,r){this.storage=e,this.clientId=n,this.cookieDomain=r,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const Zo=t=>typeof t=="number",MA=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],BA=t=>{if(!t.id_token)throw new Error("ID token is required but missing");const e=(s=>{const o=s.split("."),[a,l,c]=o;if(o.length!==3||!a||!l||!c)throw new Error("ID token could not be decoded");const u=JSON.parse(wy(l)),h={__raw:s},m={};return Object.keys(u).forEach(v=>{h[v]=u[v],MA.includes(v)||(m[v]=u[v])}),{encoded:{header:a,payload:l,signature:c},header:JSON.parse(wy(a)),claims:h,user:m}})(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${t.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${t.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${t.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==t.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${t.aud}" but found "${e.claims.aud}"`);if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${t.nonce}", found "${e.claims.nonce}"`)}if(t.max_age&&!Zo(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!Zo(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Zo(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const n=t.leeway||60,r=new Date(t.now||Date.now()),i=new Date(0);if(i.setUTCSeconds(e.claims.exp+n),r>i)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${r}) is after expiration time (${i})`);if(e.claims.nbf!=null&&Zo(e.claims.nbf)){const s=new Date(0);if(s.setUTCSeconds(e.claims.nbf-n),r<s)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${r}) is before ${s}`)}if(e.claims.auth_time!=null&&Zo(e.claims.auth_time)){const s=new Date(0);if(s.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+n),r>s)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${r}) is after last auth at ${s}`)}if(t.organization){const s=t.organization.trim();if(s.startsWith("org_")){const o=s;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(o!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${o}", found "${e.claims.org_id}"`)}else{const o=s.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(o!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${o}", found "${e.claims.org_name}"`)}}return e};var ls=B0(function(t,e){var n=es&&es.__assign||function(){return n=Object.assign||function(l){for(var c,u=1,h=arguments.length;u<h;u++)for(var m in c=arguments[u])Object.prototype.hasOwnProperty.call(c,m)&&(l[m]=c[m]);return l},n.apply(this,arguments)};function r(l,c){if(!c)return"";var u="; "+l;return c===!0?u:u+"="+c}function i(l,c,u){return encodeURIComponent(l).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(c).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(h){if(typeof h.expires=="number"){var m=new Date;m.setMilliseconds(m.getMilliseconds()+864e5*h.expires),h.expires=m}return r("Expires",h.expires?h.expires.toUTCString():"")+r("Domain",h.domain)+r("Path",h.path)+r("Secure",h.secure)+r("SameSite",h.sameSite)}(u)}function s(l){for(var c={},u=l?l.split("; "):[],h=/(%[\dA-F]{2})+/gi,m=0;m<u.length;m++){var v=u[m].split("="),b=v.slice(1).join("=");b.charAt(0)==='"'&&(b=b.slice(1,-1));try{c[v[0].replace(h,decodeURIComponent)]=b.replace(h,decodeURIComponent)}catch{}}return c}function o(){return s(document.cookie)}function a(l,c,u){document.cookie=i(l,c,n({path:"/"},u))}e.__esModule=!0,e.encode=i,e.parse=s,e.getAll=o,e.get=function(l){return o()[l]},e.set=a,e.remove=function(l,c){a(l,"",n(n({},c),{expires:-1}))}});M0(ls),ls.encode,ls.parse,ls.getAll;var LA=ls.get,rb=ls.set,ib=ls.remove;const Ds={get(t){const e=LA(t);if(e!==void 0)return JSON.parse(e)},save(t,e,n){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),n!=null&&n.daysUntilExpire&&(r.expires=n.daysUntilExpire),n!=null&&n.cookieDomain&&(r.domain=n.cookieDomain),rb(t,JSON.stringify(e),r)},remove(t,e){let n={};e!=null&&e.cookieDomain&&(n.domain=e.cookieDomain),ib(t,n)}},FA={get(t){return Ds.get(t)||Ds.get(`_legacy_${t}`)},save(t,e,n){let r={};window.location.protocol==="https:"&&(r={secure:!0}),n!=null&&n.daysUntilExpire&&(r.expires=n.daysUntilExpire),n!=null&&n.cookieDomain&&(r.domain=n.cookieDomain),rb(`_legacy_${t}`,JSON.stringify(e),r),Ds.save(t,e,n)},remove(t,e){let n={};e!=null&&e.cookieDomain&&(n.domain=e.cookieDomain),ib(t,n),Ds.remove(t,e),Ds.remove(`_legacy_${t}`,e)}},UA={get(t){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(t);return e!=null?JSON.parse(e):void 0},save(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove(t){sessionStorage.removeItem(t)}};function DA(t,e,n){var r=e===void 0?null:e,i=function(l,c){var u=atob(l);if(c){for(var h=new Uint8Array(u.length),m=0,v=u.length;m<v;++m)h[m]=u.charCodeAt(m);return String.fromCharCode.apply(null,new Uint16Array(h.buffer))}return u}(t,n!==void 0&&n),s=i.indexOf(`
`,10)+1,o=i.substring(s)+(r?"//# sourceMappingURL="+r:""),a=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(a)}var xy,by,_y,rh,$A=(xy="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",by=null,_y=!1,function(t){return rh=rh||DA(xy,by,_y),new Worker(rh,t)});const ih={};class zA{constructor(e,n){this.cache=e,this.clientId=n,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var n;const r=new Set(((n=await this.cache.get(this.manifestKey))===null||n===void 0?void 0:n.keys)||[]);r.add(e),await this.cache.set(this.manifestKey,{keys:[...r]})}async remove(e){const n=await this.cache.get(this.manifestKey);if(n){const r=new Set(n.keys);return r.delete(e),r.size>0?await this.cache.set(this.manifestKey,{keys:[...r]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}}const qA={memory:()=>new nb().enclosedCache,localstorage:()=>new jA},ky=t=>qA[t],Sy=t=>{const{openUrl:e,onRedirect:n}=t,r=Nr(t,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:e===!1||e?e:n})},sh=new bA;class WA{constructor(e){let n,r;if(this.userCache=new nb().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await sh.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!hc())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(hc().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)r=e.cache;else{if(n=e.cacheLocation||"memory",!ky(n))throw new Error(`Invalid cache location "${n}"`);r=ky(n)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?Ds:FA,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(o=>`auth0.${o}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const i=e.useCookiesForTransactions?this.cookieStorage:UA;var s;this.scope=Fl("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new PA(i,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||Gx,this.cacheManager=new OA(r,r.allKeys?void 0:new zA(r,this.options.clientId),this.nowProvider),this.domainUrl=(s=this.options.domain,/^https?:\/\//.test(s)?s:`https://${s}`),this.tokenIssuer=((o,a)=>o?o.startsWith("https://")?o:`https://${o}/`:`${a}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&n==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new $A)}_url(e){const n=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||Vx)));return`${this.domainUrl}${e}&auth0Client=${n}`}_authorizeUrl(e){return this._url(`/authorize?${rp(e)}`)}async _verifyIdToken(e,n,r){const i=await this.nowProvider();return BA({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:n,organization:r,leeway:this.options.leeway,max_age:(s=this.options.authorizationParams.max_age,typeof s!="string"?s:parseInt(s,10)||void 0),now:i});var s}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,n,r){const i=vy(nh()),s=vy(nh()),o=nh(),a=(u=>{const h=new Uint8Array(u);return(m=>{const v={"+":"-","/":"_","=":""};return m.replace(/[+/=]/g,b=>v[b])})(window.btoa(String.fromCharCode(...Array.from(h))))})(await(async u=>await hc().subtle.digest({name:"SHA-256"},new TextEncoder().encode(u)))(o)),l=((u,h,m,v,b,x,j,k)=>Object.assign(Object.assign(Object.assign({client_id:u.clientId},u.authorizationParams),m),{scope:Fl(h,m.scope),response_type:"code",response_mode:k||"query",state:v,nonce:b,redirect_uri:j||u.authorizationParams.redirect_uri,code_challenge:x,code_challenge_method:"S256"}))(this.options,this.scope,e,i,s,a,e.redirect_uri||this.options.authorizationParams.redirect_uri||r,n==null?void 0:n.response_mode),c=this._authorizeUrl(l);return{nonce:s,code_verifier:o,scope:l.scope,audience:l.audience||"default",redirect_uri:l.redirect_uri,state:i,url:c}}async loginWithPopup(e,n){var r;if(e=e||{},!(n=n||{}).popup&&(n.popup=(a=>{const l=window.screenX+(window.innerWidth-400)/2,c=window.screenY+(window.innerHeight-600)/2;return window.open(a,"auth0:authorize:popup",`left=${l},top=${c},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!n.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const i=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);n.popup.location.href=i.url;const s=await(a=>new Promise((l,c)=>{let u;const h=setInterval(()=>{a.popup&&a.popup.closed&&(clearInterval(h),clearTimeout(m),window.removeEventListener("message",u,!1),c(new EA(a.popup)))},1e3),m=setTimeout(()=>{clearInterval(h),c(new SA(a.popup)),window.removeEventListener("message",u,!1)},1e3*(a.timeoutInSeconds||60));u=function(v){if(v.data&&v.data.type==="authorization_response"){if(clearTimeout(m),clearInterval(h),window.removeEventListener("message",u,!1),a.popup.close(),v.data.response.error)return c(Mn.fromPayload(v.data.response));l(v.data.response)}},window.addEventListener("message",u)}))(Object.assign(Object.assign({},n),{timeoutInSeconds:n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(i.state!==s.state)throw new Mn("state_mismatch","Invalid state");const o=((r=e.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:i.audience,scope:i.scope,code_verifier:i.code_verifier,grant_type:"authorization_code",code:s.code,redirect_uri:i.redirect_uri},{nonceIn:i.nonce,organization:o})}async getUser(){var e;const n=await this._getIdTokenFromCache();return(e=n==null?void 0:n.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const n=await this._getIdTokenFromCache();return(e=n==null?void 0:n.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var n;const r=Sy(e),{openUrl:i,fragment:s,appState:o}=r,a=Nr(r,["openUrl","fragment","appState"]),l=((n=a.authorizationParams)===null||n===void 0?void 0:n.organization)||this.options.authorizationParams.organization,c=await this._prepareAuthorizeUrl(a.authorizationParams||{}),{url:u}=c,h=Nr(c,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},h),{appState:o}),l&&{organization:l}));const m=s?`${u}#${s}`:u;i?await i(m):window.location.assign(m)}async handleRedirectCallback(e=window.location.href){const n=e.split("?").slice(1);if(n.length===0)throw new Error("There are no query params available for parsing.");const{state:r,code:i,error:s,error_description:o}=(h=>{h.indexOf("#")>-1&&(h=h.substring(0,h.indexOf("#")));const m=new URLSearchParams(h);return{state:m.get("state"),code:m.get("code")||void 0,error:m.get("error")||void 0,error_description:m.get("error_description")||void 0}})(n.join("")),a=this.transactionManager.get();if(!a)throw new Mn("missing_transaction","Invalid state");if(this.transactionManager.remove(),s)throw new kA(s,o||s,r,a.appState);if(!a.code_verifier||a.state&&a.state!==r)throw new Mn("state_mismatch","Invalid state");const l=a.organization,c=a.nonce,u=a.redirect_uri;return await this._requestToken(Object.assign({audience:a.audience,scope:a.scope,code_verifier:a.code_verifier,grant_type:"authorization_code",code:i},u?{redirect_uri:u}:{}),{nonceIn:c,organization:l}),{appState:a.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch{}}async getTokenSilently(e={}){var n;const r=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:Fl(this.scope,(n=e.authorizationParams)===null||n===void 0?void 0:n.scope)})}),i=await((s,o)=>{let a=ih[o];return a||(a=s().finally(()=>{delete ih[o],a=null}),ih[o]=a),a})(()=>this._getTokenSilently(r),`${this.options.clientId}::${r.authorizationParams.audience}::${r.authorizationParams.scope}`);return e.detailedResponse?i:i==null?void 0:i.access_token}async _getTokenSilently(e){const{cacheMode:n}=e,r=Nr(e,["cacheMode"]);if(n!=="off"){const i=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(i)return i}if(n!=="cache-only"){if(!await(async(i,s=3)=>{for(let o=0;o<s;o++)if(await i())return!0;return!1})(()=>sh.acquireLock("auth0.lock.getTokenSilently",5e3),10))throw new np;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),n!=="off"){const c=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(c)return c}const i=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(r):await this._getTokenFromIFrame(r),{id_token:s,access_token:o,oauthTokenScope:a,expires_in:l}=i;return Object.assign(Object.assign({id_token:s,access_token:o},a?{scope:a}:null),{expires_in:l})}finally{await sh.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},n={}){var r;const i=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:Fl(this.scope,(r=e.authorizationParams)===null||r===void 0?void 0:r.scope)})});return n=Object.assign(Object.assign({},_A),n),await this.loginWithPopup(i,n),(await this.cacheManager.get(new as({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const n=e.logoutParams||{},{federated:r}=n,i=Nr(n,["federated"]),s=r?"&federated":"";return this._url(`/v2/logout?${rp(Object.assign({clientId:e.clientId},i))}`)+s}async logout(e={}){const n=Sy(e),{openUrl:r}=n,i=Nr(n,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const s=this._buildLogoutUrl(i);r?await r(s):r!==!1&&window.location.assign(s)}async _getTokenFromIFrame(e){const n=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!n.organization&&(n.organization=r);const{url:i,state:s,nonce:o,code_verifier:a,redirect_uri:l,scope:c,audience:u}=await this._prepareAuthorizeUrl(n,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Mn("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const h=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,m=await((b,x,j=60)=>new Promise((k,_)=>{const C=window.document.createElement("iframe");C.setAttribute("width","0"),C.setAttribute("height","0"),C.style.display="none";const R=()=>{window.document.body.contains(C)&&(window.document.body.removeChild(C),window.removeEventListener("message",F,!1))};let F;const L=setTimeout(()=>{_(new np),R()},1e3*j);F=function($){if($.origin!=x||!$.data||$.data.type!=="authorization_response")return;const K=$.source;K&&K.close(),$.data.response.error?_(Mn.fromPayload($.data.response)):k($.data.response),clearTimeout(L),window.removeEventListener("message",F,!1),setTimeout(R,2e3)},window.addEventListener("message",F,!1),window.document.body.appendChild(C),C.setAttribute("src",b)}))(i,this.domainUrl,h);if(s!==m.state)throw new Mn("state_mismatch","Invalid state");const v=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:a,code:m.code,grant_type:"authorization_code",redirect_uri:l,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:o,organization:n.organization});return Object.assign(Object.assign({},v),{scope:c,oauthTokenScope:v.scope,audience:u})}catch(h){throw h.error==="login_required"&&this.logout({openUrl:!1}),h}}async _getTokenUsingRefreshToken(e){const n=await this.cacheManager.get(new as({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(n&&n.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new eb(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const r=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,i=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null;try{const s=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:n&&n.refresh_token,redirect_uri:r}),i&&{timeout:i}));return Object.assign(Object.assign({},s),{scope:e.authorizationParams.scope,oauthTokenScope:s.scope,audience:e.authorizationParams.audience||"default"})}catch(s){if((s.message.indexOf("Missing Refresh Token")>-1||s.message&&s.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw s}}async _saveEntryInCache(e){const{id_token:n,decodedToken:r}=e,i=Nr(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:n,decodedToken:r}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(i)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",n=await this.cacheManager.getIdToken(new as({clientId:this.options.clientId,audience:e,scope:this.scope})),r=this.userCache.get("@@user@@");return n&&n.id_token===(r==null?void 0:r.id_token)?r:(this.userCache.set("@@user@@",n),n)}async _getEntryFromCache({scope:e,audience:n,clientId:r}){const i=await this.cacheManager.get(new as({scope:e,audience:n,clientId:r}),60);if(i&&i.access_token){const{access_token:s,oauthTokenScope:o,expires_in:a}=i,l=await this._getIdTokenFromCache();return l&&Object.assign(Object.assign({id_token:l.id_token,access_token:s},o?{scope:o}:null),{expires_in:a})}}async _requestToken(e,n){const{nonceIn:r,organization:i}=n||{},s=await RA(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),o=await this._verifyIdToken(s.id_token,r,i);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},s),{decodedToken:o,scope:e.scope,audience:e.audience||"default"}),s.scope?{oauthTokenScope:s.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(i||o.claims.org_id),Object.assign(Object.assign({},s),{decodedToken:o})}}var sb={isAuthenticated:!1,isLoading:!0},Ur=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},HA=Wt(Wt({},sb),{buildAuthorizeUrl:Ur,buildLogoutUrl:Ur,getAccessTokenSilently:Ur,getAccessTokenWithPopup:Ur,getIdTokenClaims:Ur,loginWithRedirect:Ur,loginWithPopup:Ur,logout:Ur,handleRedirectCallback:Ur}),ob=U.createContext(HA),Ey=function(t){wA(e,t);function e(n,r){var i=t.call(this,r||n)||this;return i.error=n,i.error_description=r,Object.setPrototypeOf(i,e.prototype),i}return e}(Error),KA=/[?&]code=[^&]+/,VA=/[?&]state=[^&]+/,GA=/[?&]error=[^&]+/,YA=function(t){return t===void 0&&(t=window.location.search),(KA.test(t)||GA.test(t))&&VA.test(t)},ab=function(t){return function(e){return e instanceof Error?e:e!==null&&typeof e=="object"&&"error"in e&&typeof e.error=="string"?"error_description"in e&&typeof e.error_description=="string"?new Ey(e.error,e.error_description):new Ey(e.error):new Error(t)}},Cy=ab("Login failed"),oh=ab("Get access token failed"),lb=function(t){var e;t!=null&&t.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),t.authorizationParams=t.authorizationParams||{},t.authorizationParams.redirect_uri=t.redirectUri,delete t.redirectUri),!((e=t==null?void 0:t.authorizationParams)===null||e===void 0)&&e.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),t.authorizationParams.redirect_uri=t.authorizationParams.redirectUri,delete t.authorizationParams.redirectUri)},QA=function(t,e){switch(e.type){case"LOGIN_POPUP_STARTED":return Wt(Wt({},t),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return Wt(Wt({},t),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return t.user===e.user?t:Wt(Wt({},t),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return Wt(Wt({},t),{isAuthenticated:!1,user:void 0});case"ERROR":return Wt(Wt({},t),{isLoading:!1,error:e.error})}},JA=function(t){return lb(t),Wt(Wt({},t),{auth0Client:{name:"auth0-react",version:"2.3.0"}})},ZA=function(t){window.history.replaceState({},document.title,(t==null?void 0:t.returnTo)||window.location.pathname)},XA=function(t){var e=t.children,n=t.skipRedirectCallback,r=t.onRedirectCallback,i=r===void 0?ZA:r,s=t.context,o=s===void 0?ob:s,a=xA(t,["children","skipRedirectCallback","onRedirectCallback","context"]),l=U.useState(function(){return new WA(JA(a))})[0],c=U.useReducer(QA,sb),u=c[0],h=c[1],m=U.useRef(!1),v=U.useCallback(function(L){return h({type:"ERROR",error:L}),L},[]);U.useEffect(function(){m.current||(m.current=!0,function(){return Rs(void 0,void 0,void 0,function(){var L,$,K;return js(this,function(ee){switch(ee.label){case 0:return ee.trys.push([0,7,,8]),L=void 0,YA()&&!n?[4,l.handleRedirectCallback()]:[3,3];case 1:return $=ee.sent().appState,[4,l.getUser()];case 2:return L=ee.sent(),i($,L),[3,6];case 3:return[4,l.checkSession()];case 4:return ee.sent(),[4,l.getUser()];case 5:L=ee.sent(),ee.label=6;case 6:return h({type:"INITIALISED",user:L}),[3,8];case 7:return K=ee.sent(),v(Cy(K)),[3,8];case 8:return[2]}})})}())},[l,i,n,v]);var b=U.useCallback(function(L){return lb(L),l.loginWithRedirect(L)},[l]),x=U.useCallback(function(L,$){return Rs(void 0,void 0,void 0,function(){var K,ee;return js(this,function(V){switch(V.label){case 0:h({type:"LOGIN_POPUP_STARTED"}),V.label=1;case 1:return V.trys.push([1,3,,4]),[4,l.loginWithPopup(L,$)];case 2:return V.sent(),[3,4];case 3:return K=V.sent(),v(Cy(K)),[2];case 4:return[4,l.getUser()];case 5:return ee=V.sent(),h({type:"LOGIN_POPUP_COMPLETE",user:ee}),[2]}})})},[l]),j=U.useCallback(function(L){return L===void 0&&(L={}),Rs(void 0,void 0,void 0,function(){return js(this,function($){switch($.label){case 0:return[4,l.logout(L)];case 1:return $.sent(),(L.openUrl||L.openUrl===!1)&&h({type:"LOGOUT"}),[2]}})})},[l]),k=U.useCallback(function(L){return Rs(void 0,void 0,void 0,function(){var $,K,ee,V;return js(this,function(X){switch(X.label){case 0:return X.trys.push([0,2,3,5]),[4,l.getTokenSilently(L)];case 1:return $=X.sent(),[3,5];case 2:throw K=X.sent(),oh(K);case 3:return ee=h,V={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return ee.apply(void 0,[(V.user=X.sent(),V)]),[7];case 5:return[2,$]}})})},[l]),_=U.useCallback(function(L,$){return Rs(void 0,void 0,void 0,function(){var K,ee,V,X;return js(this,function(le){switch(le.label){case 0:return le.trys.push([0,2,3,5]),[4,l.getTokenWithPopup(L,$)];case 1:return K=le.sent(),[3,5];case 2:throw ee=le.sent(),oh(ee);case 3:return V=h,X={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return V.apply(void 0,[(X.user=le.sent(),X)]),[7];case 5:return[2,K]}})})},[l]),C=U.useCallback(function(){return l.getIdTokenClaims()},[l]),R=U.useCallback(function(L){return Rs(void 0,void 0,void 0,function(){var $,K,ee;return js(this,function(V){switch(V.label){case 0:return V.trys.push([0,2,3,5]),[4,l.handleRedirectCallback(L)];case 1:return[2,V.sent()];case 2:throw $=V.sent(),oh($);case 3:return K=h,ee={type:"HANDLE_REDIRECT_COMPLETE"},[4,l.getUser()];case 4:return K.apply(void 0,[(ee.user=V.sent(),ee)]),[7];case 5:return[2]}})})},[l]),F=U.useMemo(function(){return Wt(Wt({},u),{getAccessTokenSilently:k,getAccessTokenWithPopup:_,getIdTokenClaims:C,loginWithRedirect:b,loginWithPopup:x,logout:j,handleRedirectCallback:R})},[u,k,_,C,b,x,j,R]);return it.createElement(o.Provider,{value:F},e)},cb=function(t){return t===void 0&&(t=ob),U.useContext(t)};U.createContext(null);function eT({children:t}){return d.jsx(XA,{domain:"dev-whbba5qnfveb88fc.us.auth0.com",clientId:"4Gr73u1k9ZDvmePAz5fLJyIqrv3cn2YO",authorizationParams:{redirect_uri:"https://contractors-0q4c.onrender.com/"},children:t})}function L0(){const{isAuthenticated:t,isLoading:e,user:n,loginWithRedirect:r,logout:i,getIdTokenClaims:s}=cb();return U.useEffect(()=>{(async()=>{if(t){const a=await s();a&&localStorage.setItem("auth_token",a.__raw)}})()},[t,s]),{isAuthenticated:t,isLoading:e,user:n,loginWithRedirect:r,logout:()=>{localStorage.removeItem("auth_token"),i({logoutParams:{returnTo:window.location.origin}})}}}const Pr=Object.create(null);Pr.open="0";Pr.close="1";Pr.ping="2";Pr.pong="3";Pr.message="4";Pr.upgrade="5";Pr.noop="6";const fc=Object.create(null);Object.keys(Pr).forEach(t=>{fc[Pr[t]]=t});const sp={type:"error",data:"parser error"},ub=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",db=typeof ArrayBuffer=="function",hb=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,F0=({type:t,data:e},n,r)=>ub&&e instanceof Blob?n?r(e):Ny(e,r):db&&(e instanceof ArrayBuffer||hb(e))?n?r(e):Ny(new Blob([e]),r):r(Pr[t]+(e||"")),Ny=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function Iy(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let ah;function tT(t,e){if(ub&&t.data instanceof Blob)return t.data.arrayBuffer().then(Iy).then(e);if(db&&(t.data instanceof ArrayBuffer||hb(t.data)))return e(Iy(t.data));F0(t,!1,n=>{ah||(ah=new TextEncoder),e(ah.encode(n))})}const Ay="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ua=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Ay.length;t++)ua[Ay.charCodeAt(t)]=t;const nT=t=>{let e=t.length*.75,n=t.length,r,i=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const c=new ArrayBuffer(e),u=new Uint8Array(c);for(r=0;r<n;r+=4)s=ua[t.charCodeAt(r)],o=ua[t.charCodeAt(r+1)],a=ua[t.charCodeAt(r+2)],l=ua[t.charCodeAt(r+3)],u[i++]=s<<2|o>>4,u[i++]=(o&15)<<4|a>>2,u[i++]=(a&3)<<6|l&63;return c},rT=typeof ArrayBuffer=="function",U0=(t,e)=>{if(typeof t!="string")return{type:"message",data:fb(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:iT(t.substring(1),e)}:fc[n]?t.length>1?{type:fc[n],data:t.substring(1)}:{type:fc[n]}:sp},iT=(t,e)=>{if(rT){const n=nT(t);return fb(n,e)}else return{base64:!0,data:t}},fb=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},pb="",sT=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,o)=>{F0(s,!1,a=>{r[o]=a,++i===n&&e(r.join(pb))})})},oT=(t,e)=>{const n=t.split(pb),r=[];for(let i=0;i<n.length;i++){const s=U0(n[i],e);if(r.push(s),s.type==="error")break}return r};function aT(){return new TransformStream({transform(t,e){tT(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let lh;function Ul(t){return t.reduce((e,n)=>e+n.length,0)}function Dl(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function lT(t,e){lh||(lh=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(Ul(n)<1)break;const l=Dl(n,1);s=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Ul(n)<2)break;const l=Dl(n,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Ul(n)<8)break;const l=Dl(n,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(sp);break}i=u*Math.pow(2,32)+c.getUint32(4),r=3}else{if(Ul(n)<i)break;const l=Dl(n,i);a.enqueue(U0(s?l:lh.decode(l),e)),r=0}if(i===0||i>t){a.enqueue(sp);break}}}})}const mb=4;function Ut(t){if(t)return cT(t)}function cT(t){for(var e in Ut.prototype)t[e]=Ut.prototype[e];return t}Ut.prototype.on=Ut.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Ut.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Ut.prototype.off=Ut.prototype.removeListener=Ut.prototype.removeAllListeners=Ut.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Ut.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Ut.prototype.emitReserved=Ut.prototype.emit;Ut.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Ut.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Fu=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Zn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),uT="arraybuffer";function gb(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const dT=Zn.setTimeout,hT=Zn.clearTimeout;function Uu(t,e){e.useNativeTimers?(t.setTimeoutFn=dT.bind(Zn),t.clearTimeoutFn=hT.bind(Zn)):(t.setTimeoutFn=Zn.setTimeout.bind(Zn),t.clearTimeoutFn=Zn.clearTimeout.bind(Zn))}const fT=1.33;function pT(t){return typeof t=="string"?mT(t):Math.ceil((t.byteLength||t.size)*fT)}function mT(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function yb(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function gT(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function yT(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class vT extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class D0 extends Ut{constructor(e){super(),this.writable=!1,Uu(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new vT(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=U0(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=gT(e);return n.length?"?"+n:""}}class wT extends D0{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};oT(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,sT(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=yb()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let vb=!1;try{vb=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const xT=vb;function bT(){}class _T extends wT{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class Or extends Ut{constructor(e,n,r){super(),this.createRequest=e,Uu(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=gb(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Or.requestsCount++,Or.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=bT,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Or.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Or.requestsCount=0;Or.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ty);else if(typeof addEventListener=="function"){const t="onpagehide"in Zn?"pagehide":"unload";addEventListener(t,Ty,!1)}}function Ty(){for(let t in Or.requests)Or.requests.hasOwnProperty(t)&&Or.requests[t].abort()}const kT=function(){const t=wb({xdomain:!1});return t&&t.responseType!==null}();class ST extends _T{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=kT&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Or(wb,this.uri(),e)}}function wb(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||xT))return new XMLHttpRequest}catch{}if(!e)try{return new Zn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const xb=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ET extends D0{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=xb?{}:gb(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;F0(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&Fu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=yb()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const ch=Zn.WebSocket||Zn.MozWebSocket;class CT extends ET{createSocket(e,n,r){return xb?new ch(e,n,r):n?new ch(e,n):new ch(e)}doWrite(e,n){this.ws.send(n)}}class NT extends D0{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=lT(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=aT();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&Fu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const IT={websocket:CT,webtransport:NT,polling:ST},AT=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,TT=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function op(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=AT.exec(t||""),s={},o=14;for(;o--;)s[TT[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=RT(s,s.path),s.queryKey=jT(s,s.query),s}function RT(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function jT(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const ap=typeof addEventListener=="function"&&typeof removeEventListener=="function",pc=[];ap&&addEventListener("offline",()=>{pc.forEach(t=>t())},!1);class Oi extends Ut{constructor(e,n){if(super(),this.binaryType=uT,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=op(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=op(n.host).host);Uu(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=yT(this.opts.query)),ap&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},pc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=mb,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Oi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Oi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=pT(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Fu(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Oi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ap&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=pc.indexOf(this._offlineEventListener);r!==-1&&pc.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Oi.protocol=mb;class OT extends Oi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Oi.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Oi.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function s(){r||(r=!0,u(),n.close(),n=null)}const o=h=>{const m=new Error("probe error: "+h);m.transport=n.name,s(),this.emitReserved("upgradeError",m)};function a(){o("transport closed")}function l(){o("socket closed")}function c(h){n&&h.name!==n.name&&s()}const u=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};n.once("open",i),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let PT=class extends OT{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>IT[i]).filter(i=>!!i)),super(e,r)}};function MT(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=op(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const BT=typeof ArrayBuffer=="function",LT=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,bb=Object.prototype.toString,FT=typeof Blob=="function"||typeof Blob<"u"&&bb.call(Blob)==="[object BlobConstructor]",UT=typeof File=="function"||typeof File<"u"&&bb.call(File)==="[object FileConstructor]";function $0(t){return BT&&(t instanceof ArrayBuffer||LT(t))||FT&&t instanceof Blob||UT&&t instanceof File}function mc(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(mc(t[n]))return!0;return!1}if($0(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return mc(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&mc(t[n]))return!0;return!1}function DT(t){const e=[],n=t.data,r=t;return r.data=lp(n,e),r.attachments=e.length,{packet:r,buffers:e}}function lp(t,e){if(!t)return t;if($0(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=lp(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=lp(t[r],e));return n}return t}function $T(t,e){return t.data=cp(t.data,e),delete t.attachments,t}function cp(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=cp(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=cp(t[n],e));return t}const zT=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],qT=5;var Be;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Be||(Be={}));class WT{constructor(e){this.replacer=e}encode(e){return(e.type===Be.EVENT||e.type===Be.ACK)&&mc(e)?this.encodeAsBinary({type:e.type===Be.EVENT?Be.BINARY_EVENT:Be.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Be.BINARY_EVENT||e.type===Be.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=DT(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function Ry(t){return Object.prototype.toString.call(t)==="[object Object]"}class z0 extends Ut{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===Be.BINARY_EVENT;r||n.type===Be.BINARY_ACK?(n.type=r?Be.EVENT:Be.ACK,this.reconstructor=new HT(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if($0(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(Be[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Be.BINARY_EVENT||r.type===Be.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(z0.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Be.CONNECT:return Ry(n);case Be.DISCONNECT:return n===void 0;case Be.CONNECT_ERROR:return typeof n=="string"||Ry(n);case Be.EVENT:case Be.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&zT.indexOf(n[0])===-1);case Be.ACK:case Be.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class HT{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=$T(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const KT=Object.freeze(Object.defineProperty({__proto__:null,Decoder:z0,Encoder:WT,get PacketType(){return Be},protocol:qT},Symbol.toStringTag,{value:"Module"}));function dr(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const VT=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _b extends Ut{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[dr(e,"open",this.onopen.bind(this)),dr(e,"packet",this.onpacket.bind(this)),dr(e,"error",this.onerror.bind(this)),dr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,s;if(VT.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Be.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const u=this.ids++,h=n.pop();this._registerAckCallback(u,h),o.id=u}const a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(o,a)=>o?i(o):r(a);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Be.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Be.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Be.EVENT:case Be.BINARY_EVENT:this.onevent(e);break;case Be.ACK:case Be.BINARY_ACK:this.onack(e);break;case Be.DISCONNECT:this.ondisconnect();break;case Be.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Be.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Be.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Fo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Fo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Fo.prototype.reset=function(){this.attempts=0};Fo.prototype.setMin=function(t){this.ms=t};Fo.prototype.setMax=function(t){this.max=t};Fo.prototype.setJitter=function(t){this.jitter=t};class up extends Ut{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Uu(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Fo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||KT;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new PT(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=dr(n,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=dr(n,"error",s);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(dr(e,"ping",this.onping.bind(this)),dr(e,"data",this.ondata.bind(this)),dr(e,"error",this.onerror.bind(this)),dr(e,"close",this.onclose.bind(this)),dr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Fu(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new _b(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Xo={};function gc(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=MT(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Xo[i]&&s in Xo[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new up(r,e):(Xo[i]||(Xo[i]=new up(r,e)),l=Xo[i]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(gc,{Manager:up,Socket:_b,io:gc,connect:gc});const kb=U.createContext(null),Du=()=>U.useContext(kb),GT=({children:t})=>{const[e,n]=U.useState(null);return U.useEffect(()=>{const r=gc("http://localhost:3000",{withCredentials:!0,transports:["websocket"]});return n(r),r.on("connect",()=>{console.log("Socket connected:",r.id)}),r.on("disconnect",()=>{console.log("Socket disconnected")}),()=>{r.disconnect()}},[]),d.jsx(kb.Provider,{value:e,children:t})},ea=[{id:"action"},{id:"landscape"},{id:"inspect"},{id:"renovate"},{id:"repair"},{id:"install"},{id:"flip_a_house"},{id:"remove"},{id:"texture"},{id:"powerwash"},{id:"clean"},{id:"replace"},{id:"paint"},{id:"build"},{id:"location"},{id:"time"}],jy=t=>Array.from({length:t},(e,n)=>({id:`unavailable-${n}`,name:"***********",selected_locations:"Address hidden",rating:4+Math.random()*.9,workingHours:"***********",yearsInBusiness:Math.floor(Math.random()*10)+1,verified:Math.random()>.5,image:"https://images.unsplash.com/photo-1581578731548-c64695cc6952?auto=format&fit=crop&w=300",available:!1,phone:"N/A"})),Oy=()=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(pr,{className:"w-12 h-12 text-white animate-spin"}),d.jsx("p",{className:"text-white mt-4",children:"Loading..."})]})});function YT(){var E;const t=Po(),e=Du();U.useEffect(()=>{if(e)return e.on("new_company_added",I=>{v(S=>[I,...S])}),()=>{e.off("new_company_added")}},[e]);const{t:n}=A0(),{loginWithRedirect:r}=L0(),[i,s]=U.useState(0),[o,a]=U.useState([]),[l,c]=U.useState(!1),[u,h]=U.useState(!1),[m,v]=U.useState([]),[b,x]=U.useState(!1),[j,k]=U.useState(!1),{options:_,isLoading:C}=px(),[R,F]=U.useState(!1),L=async()=>{try{const I=await fetch("http://localhost:3000/api/companies",{method:"GET",headers:{"Content-Type":"application/json"}});if(!I.ok)throw new Error("Failed to fetch companies");const A=(await I.json()).map(p=>({id:p.id,name:p.company_name,selected_locations:p.selected_locations,rating:p.rating,workingHours:p.working_hours,yearsInBusiness:p.years_in_business,verified:p.verified,image:p.image_url,available:!0})),O=Math.max(5,6-A.length),N=jy(O);v([...A,...N])}catch(I){console.error("Error fetching companies:",I);const S=jy(6);v(S)}finally{h(!1)}},$=I=>{var N;const S=ea[i].id,A=(N=_[S])==null?void 0:N.find(p=>p.value===I),O=[...o,I];if(a(O),A!=null&&A.next_category){const p=ea.findIndex(P=>P.id===A.next_category);p!==-1&&s(p)}else c(!0),h(!0),L()},K=()=>{s(0),a([]),c(!1),v([])},ee=[{icon:d.jsx(KC,{className:"w-6 h-6 text-blue-100"}),value:"15+",label:n("hero.stats.yearsInMarket")},{icon:d.jsx(YC,{className:"w-6 h-6 text-blue-100"}),value:"50,000+",label:n("hero.stats.clients")},{icon:d.jsx(N0,{className:"w-6 h-6 text-blue-100"}),value:"98%",label:n("hero.stats.positiveReviews")}],V=()=>d.jsxs("div",{className:"font-montserrat text-2xl font-semibold mb-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[d.jsx("span",{className:"text-gray-600",children:n("common.iWant")}),o.map((I,S)=>d.jsxs("span",{className:"text-blue-600 font-bold",children:[" ",I]},S))]}),X=I=>d.jsxs("article",{className:Xe("company-card bg-white rounded-xl shadow-md overflow-hidden",I.available?"hover:shadow-xl":"opacity-50 pointer-events-none"),children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:I.image,alt:I.name,className:Xe("w-full h-56 object-cover",!I.available&&"blur-sm"),loading:"lazy"}),I.verified&&d.jsxs("div",{className:"absolute top-4 right-4 glass-effect text-blue-600 px-4 py-2 rounded-full text-sm font-medium flex items-center gap-2",children:[d.jsx(HC,{className:"w-4 h-4"}),n("common.verified")]})]}),d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"font-montserrat text-xl font-bold",children:I.name}),d.jsxs("div",{className:"flex items-center bg-yellow-50 px-3 py-2 rounded-lg",children:[d.jsx(I0,{className:"w-5 h-5 text-yellow-400 fill-current"}),d.jsx("span",{className:"ml-2 font-semibold",children:I.rating.toFixed(1)})]})]}),d.jsxs("div",{className:"space-y-4 mb-6",children:[d.jsxs("div",{className:"flex items-center text-gray-600",children:[d.jsx(vx,{className:"w-5 h-5 mr-3 text-blue-500"}),d.jsx("span",{className:"font-medium",children:I.selected_locations})]}),d.jsxs("div",{className:"flex items-center text-gray-600",children:[d.jsx(OC,{className:"w-5 h-5 mr-3 text-blue-500"}),d.jsx("span",{className:"font-medium",children:I.workingHours})]}),d.jsxs("div",{className:"flex items-center text-gray-600",children:[d.jsx(Wf,{className:"w-5 h-5 mr-3 text-blue-500"}),d.jsx("span",{className:"font-medium",children:n("common.yearsInBusiness",{years:I.yearsInBusiness})})]})]}),I.available?d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("a",{href:`tel:${I.phone}`,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-all font-semibold",children:[d.jsx(qC,{className:"w-5 h-5"}),n("common.call")]}),d.jsxs("button",{onClick:()=>w(I.id),className:"flex items-center justify-center gap-2 bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-all font-semibold",children:[d.jsx(Ka,{className:"w-5 h-5"}),n("common.message")]})]}):d.jsx("div",{className:"text-center py-3 px-6 bg-gray-50 rounded-lg text-gray-600 font-medium",children:n("common.unavailable")})]})]},I.id),le=async I=>{h(!0);try{const{error:S}=await Xf.from("consideration_companies").insert({company_name:I.companyName,owner_name:I.ownerName,email:I.email,phone:I.phone,website:I.website||null,experience:parseInt(I.experience),services:I.services,description:I.description,status:"pending",selected_actions:I.selectedActions,selected_objects:I.selectedObjects,selected_locations:I.selectedLocations,selected_sizes:I.selectedSizes,selected_times:I.selectedTimes});if(S)throw S;alert(n("contractorApplication.success"))}catch(S){console.error("Error submitting application:",S),alert("Failed to submit application. Please try again.")}finally{h(!1),x(!1)}},M=async I=>{try{const{error:S}=await Xf.from("testimonial_comments").insert({user_name:I.userName,content:I.content,rating:I.rating});if(S)throw S}catch(S){console.error("Error submitting comment:",S),alert("Failed to submit comment. Please try again.")}},f=()=>{if(!localStorage.getItem("auth_token")){r();return}x(!0)},w=async I=>{const S=localStorage.getItem("auth_token");if(!S){alert("You need to log in to send a message."),r();return}F(!0);try{const A=await fetch("http://localhost:3000/api/chats",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({companyId:I})});if(!A.ok){const N=await A.json();throw new Error(N.message||"Failed to create or fetch chat")}const{chatId:O}=await A.json();t(`/account?tab=chat&chatId=${O}`)}catch(A){console.error("Error handling message:",A),alert("Failed to send message. Please try again.")}finally{F(!1)}};return C?d.jsx(Oy,{}):!_||Object.keys(_).length===0?d.jsx("div",{children:"Failed to load search options"}):d.jsxs(d.Fragment,{children:[R&&d.jsx(Oy,{}),d.jsxs("header",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 py-24 relative hero-pattern",children:[d.jsx("div",{className:"absolute inset-0 bg-black/20"}),d.jsx("div",{className:"container mx-auto px-4 relative",children:d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("div",{className:"max-w-3xl",children:[d.jsx("h1",{className:"font-montserrat text-6xl font-bold mb-8 leading-tight text-white drop-shadow-lg",children:n("hero.title")}),d.jsx("p",{className:"text-xl text-white/90 mb-12 leading-relaxed drop-shadow",children:n("hero.subtitle")}),d.jsx("div",{className:"grid grid-cols-3 gap-6",children:ee.map((I,S)=>d.jsxs("div",{className:"glass-effect rounded-xl p-6 text-center border border-white/10 shadow-xl backdrop-blur-lg",children:[d.jsx("div",{className:"bg-white/10 rounded-full p-3 w-fit mx-auto",children:I.icon}),d.jsx("div",{className:"text-2xl font-bold mt-3 text-white",children:I.value}),d.jsx("div",{className:"text-sm text-blue-100",children:I.label})]},S))})]})})})]}),d.jsxs("main",{className:"container mx-auto px-4 py-12",children:[d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 -mt-24 mb-12 relative z-10",children:[V(),!l&&i<ea.length&&d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center gap-3 text-gray-700 font-medium",children:[d.jsx(wx,{className:"w-6 h-6 text-blue-500"}),d.jsxs("span",{className:"text-lg",children:[n("search.selectStep")," ",n(`search.steps.${ea[i].id}`),":"]})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:(E=_[ea[i].id])==null?void 0:E.map((I,S)=>d.jsxs("button",{onClick:()=>$(I.value),className:"search-option flex items-center justify-between px-6 py-4 bg-gray-50 text-gray-700 rounded-xl transition-all hover:text-blue-700 font-medium",children:[I.value," ",d.jsx(TC,{className:"w-5 h-5"})]},`${I.value}-${S}`))})]}),l&&u&&d.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[d.jsx(pr,{className:"w-12 h-12 text-blue-500 animate-spin mb-4"}),d.jsx("p",{className:"text-lg text-gray-600 font-medium",children:n("common.searching")}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:n("common.searchingDescription")})]}),l&&!u&&d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("button",{onClick:K,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium",children:[d.jsx(Mo,{className:"w-5 h-5"}),n("common.startOver")]})}),l&&!u&&d.jsxs("section",{children:[d.jsxs("h2",{className:"font-montserrat text-3xl font-bold mb-8",children:[m.length," ",n("common.companiesFound")]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:m.map(X)})]})]}),d.jsxs("section",{className:"py-16",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4",children:n("testimonials.title")}),d.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:n("testimonials.subtitle")})]}),d.jsx(yA,{onAddComment:()=>k(!0)})]}),d.jsx("section",{className:"py-16 bg-gradient-to-r from-gray-50 to-blue-50",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4",children:n("contractorApplication.title")}),d.jsx("p",{className:"text-gray-600 mb-8",children:n("contractorApplication.subtitle")}),d.jsxs("button",{onClick:f,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(mx,{className:"w-5 h-5"}),"Apply Now"]})]})})})]}),d.jsx("footer",{className:"bg-gray-900 text-white pt-16 pb-8",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold mb-4",children:n("footer.about.title")}),d.jsx("p",{className:"text-gray-400 mb-4",children:n("footer.about.description")}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(PC,{className:"w-5 h-5"})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(VC,{className:"w-5 h-5"})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(BC,{className:"w-5 h-5"})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(JC,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold mb-4",children:n("footer.services.title")}),d.jsx("ul",{className:"space-y-2",children:["renovation","maintenance","finishing","plumbing"].map(I=>d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n(`services.${I}.name`)})},I))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold mb-4",children:n("footer.company.title")}),d.jsx("ul",{className:"space-y-2",children:["about","careers","blog","partners"].map(I=>d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n(`footer.company.${I}`)})},I))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold mb-4",children:n("footer.contact.title")}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[d.jsx(DC,{className:"w-5 h-5"}),d.jsx("span",{children:n("footer.contact.address")})]}),d.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[d.jsx(zC,{className:"w-5 h-5"}),d.jsx("a",{href:"tel:+1234567890",className:"hover:text-white transition-colors",children:"+1 (234) 567-890"})]}),d.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[d.jsx(UC,{className:"w-5 h-5"}),d.jsx("a",{href:"mailto:info@example.com",className:"hover:text-white transition-colors",children:"info@example.com"})]})]})]})]}),d.jsx("div",{className:"border-t border-gray-800 pt-8",children:d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[d.jsxs("p",{className:"text-gray-400",children:["© 2025 ",n("footer.copyright")]}),d.jsxs("div",{className:"flex gap-6",children:[d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n("footer.privacy")}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n("footer.terms")}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n("footer.cookies")})]})]})})]})}),d.jsx(Hx,{isOpen:b,onClose:()=>x(!1),onSubmit:le}),d.jsx(vA,{isOpen:j,onClose:()=>k(!1),onSubmit:M})]})}function QT(){var q;const[t,e]=U.useState("action"),[n,r]=U.useState({action:[],landscape:[],inspect:[],renovate:[],repair:[],install:[],flip_a_house:[],remove:[],texture:[],powerwash:[],clean:[],replace:[],paint:[],build:[],location:[],time:[]}),[i,s]=U.useState(""),[o,a]=U.useState("companies"),[l,c]=U.useState([]),[u,h]=U.useState([]);U.useState(null);const[m,v]=U.useState(null),[b,x]=U.useState(null),[j,k]=U.useState(!0),[_,C]=U.useState({action:[],landscape:[],inspect:[],renovate:[],repair:[],install:[],flip_a_house:[],remove:[],texture:[],powerwash:[],clean:[],replace:[],paint:[],build:[],location:[],time:[]}),[R,F]=U.useState(!1),[L,$]=U.useState({company_name:"",owner_name:"",email:"",phone:"",website:"",services:"",description:"",rating:0,working_hours:"",years_in_business:0,verified:!1,image:null,selected_actions:[],selected_landscapes:[],selected_inspects:[],selected_renovates:[],selected_repairs:[],selected_installs:[],selected_flips:[],selected_removes:[],selected_textures:[],selected_powerwashes:[],selected_cleans:[],selected_replaces:[],selected_paints:[],selected_builds:[],selected_locations:[],selected_times:[],user_email:""}),[K,ee]=U.useState(null),V=Po(),X=["action","landscape","inspect","renovate","repair","install","flip_a_house","remove","texture","powerwash","clean","replace","paint","build","location","time"];U.useEffect(()=>{M(),o==="applications"?f():o==="companies"?w():o==="search-options"&&M()},[o]);function le(D){return D.split("_").map(Q=>Q.charAt(0).toUpperCase()+Q.slice(1)).join(" ")}const M=async()=>{try{k(!0);const D=localStorage.getItem("auth_token");if(!D){console.error("Authorization token is missing");return}const Q=await fetch("http://localhost:3000/api/search-options",{method:"GET",headers:{Authorization:`Bearer ${D}`}});if(!Q.ok){const ae=await Q.json();throw new Error(ae.message||"Failed to fetch search options")}const Z=(await Q.json()).reduce((ae,de)=>(ae[de.category]||(ae[de.category]=[]),ae[de.category].push({value:de.value,next_category:de.next_category||null}),ae),{action:[],landscape:[],inspect:[],renovate:[],repair:[],install:[],flip_a_house:[],remove:[],texture:[],powerwash:[],clean:[],replace:[],paint:[],build:[],location:[],time:[]});r(Z),console.log("Grouped category options with next_category:",Z)}catch(D){console.error("Error fetching search options:",D),alert("Failed to fetch search options")}finally{k(!1)}},f=async()=>{try{k(!0);const D=localStorage.getItem("auth_token");if(!D){console.error("Authorization token is missing"),V("/");return}const Q=await fetch("http://localhost:3000/api/admin/companies?status=!active",{method:"GET",headers:{Authorization:`Bearer ${D}`}});if(Q.status===403){console.error("Access denied: User is not an admin"),V("/");return}if(!Q.ok){const Z=await Q.json();throw new Error(Z.message||"Failed to fetch applications")}const Y=await Q.json();c(Y)}catch(D){console.error("Error fetching applications:",D),alert("Failed to fetch applications")}finally{k(!1)}},w=async()=>{try{const D=localStorage.getItem("auth_token");if(!D){console.error("Authorization token is missing"),V("/");return}const Q=await fetch("http://localhost:3000/api/admin/companies?status=active",{method:"GET",headers:{Authorization:`Bearer ${D}`}});if(Q.status===403){console.error("Access denied: User is not an admin"),V("/");return}if(!Q.ok){const Z=await Q.json();throw new Error(Z.message||"Failed to fetch companies")}const Y=await Q.json();h(Y)}catch(D){console.error("Error fetching companies:",D),V("/")}finally{k(!1)}},E=(D,Q,Y,Z)=>{const de={action:"selected_actions",landscape:"selected_landscapes",inspect:"selected_inspects",renovate:"selected_renovates",repair:"selected_repairs",install:"selected_installs",flip_a_house:"selected_flips",remove:"selected_removes",texture:"selected_textures",powerwash:"selected_powerwashes",clean:"selected_cleans",replace:"selected_replaces",paint:"selected_paints",build:"selected_builds",location:"selected_locations",time:"selected_times"}[Q];Z($e=>{if(!$e)return $e;const Se=$e[de]||[],Re=Se.includes(Y)?Se.filter(ir=>ir!==Y):[...Se,Y];return{...$e,[de]:Re}})},I=(D,Q,Y)=>d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:X.filter(Z=>{const de={action:"selected_actions",landscape:"selected_landscapes",inspect:"selected_inspects",renovate:"selected_renovates",repair:"selected_repairs",install:"selected_installs",flip_a_house:"selected_flips",remove:"selected_removes",texture:"selected_textures",powerwash:"selected_powerwashes",clean:"selected_cleans",replace:"selected_replaces",paint:"selected_paints",build:"selected_builds",location:"selected_locations",time:"selected_times"}[Z];return Array.isArray(D[de])&&D[de].length>0}).map(Z=>{var Se;const de={action:"selected_actions",landscape:"selected_landscapes",inspect:"selected_inspects",renovate:"selected_renovates",repair:"selected_repairs",install:"selected_installs",flip_a_house:"selected_flips",remove:"selected_removes",texture:"selected_textures",powerwash:"selected_powerwashes",clean:"selected_cleans",replace:"selected_replaces",paint:"selected_paints",build:"selected_builds",location:"selected_locations",time:"selected_times"}[Z],$e=Array.isArray(D[de])?D[de]:[];return d.jsxs("div",{className:"space-y-2",children:[d.jsxs("h4",{className:"font-medium text-gray-700 capitalize",children:[le(Z)," Selections:"]}),Q&&Y?d.jsx("div",{className:"flex flex-wrap gap-2",children:(Se=_[Z])==null?void 0:Se.map(Re=>d.jsx("button",{type:"button",onClick:()=>E(D,Z,Re,Y),className:Xe("px-3 py-1 rounded-lg text-sm font-medium transition-colors",$e.includes(Re)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:Re},Re))}):d.jsx("div",{className:"flex flex-wrap gap-2",children:$e.map(Re=>d.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-lg text-sm",children:Re},Re))})]},Z)})}),S=async D=>{try{k(!0);const Q=localStorage.getItem("auth_token");if(!Q){console.error("Authorization token is missing");return}const Y=await fetch(`http://localhost:3000/api/admin/companies/${D.id}/activate`,{method:"POST",headers:{Authorization:`Bearer ${Q}`}});if(!Y.ok){const Z=await Y.json();throw new Error(Z.message||"Failed to activate company")}await f(),await w()}catch(Q){console.error("Error approving application:",Q),alert("Failed to approve application")}finally{k(!1)}},A=async D=>{try{k(!0);const Q=localStorage.getItem("auth_token");if(!Q){console.error("Authorization token is missing");return}const Y=await fetch(`http://localhost:3000/api/admin/companies/${D}/reject`,{method:"POST",headers:{Authorization:`Bearer ${Q}`}});if(!Y.ok){const Z=await Y.json();throw new Error(Z.message||"Failed to reject company")}await f()}catch(Q){console.error("Error rejecting application:",Q),alert("Failed to reject application")}finally{k(!1)}},O=async D=>{try{k(!0);const Q=localStorage.getItem("auth_token");if(!Q){console.error("Authorization token is missing");return}const Y=new FormData;Y.append("company_name",D.company_name),Y.append("owner_name",D.owner_name),Y.append("email",D.email),Y.append("phone",D.phone),Y.append("services",D.services),Y.append("description",D.description),D.image&&Y.append("image",D.image);const Z=await fetch(`http://localhost:3000/api/admin/companies/${D.id}`,{method:"POST",headers:{Authorization:`Bearer ${Q}`},body:Y});if(!Z.ok){const ae=await Z.json();throw new Error(ae.message||"Failed to update company")}await w(),v(null)}catch(Q){console.error("Error updating company:",Q),alert("Failed to update company")}finally{k(!1)}},N=async D=>{if(confirm("Are you sure you want to delete this company?"))try{k(!0);const Q=localStorage.getItem("auth_token");if(!Q){console.error("Authorization token is missing");return}const Y=await fetch(`http://localhost:3000/api/admin/companies/${D}`,{method:"DELETE",headers:{Authorization:`Bearer ${Q}`}});if(!Y.ok){const Z=await Y.json();throw new Error(Z.message||"Failed to delete company")}await w()}catch(Q){console.error("Error deleting company:",Q),alert("Failed to delete company")}finally{k(!1)}},p=async()=>{if(i.trim()!=="")try{k(!0);const D=localStorage.getItem("auth_token");if(!D){console.error("Authorization token is missing");return}const Q=await fetch("http://localhost:3000/api/search-options",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify({category:t,value:i.trim(),next_category:K||null})});if(!Q.ok){const Y=await Q.json();throw new Error(Y.message||"Failed to add search option")}await M(),s(""),ee(null)}catch(D){console.error("Error adding search option:",D),alert("Failed to add search option")}finally{k(!1)}},P=async D=>{try{k(!0);const Q=localStorage.getItem("auth_token");if(!Q){console.error("Authorization token is missing");return}const Y=await fetch("http://localhost:3000/api/search-options",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify({category:t,value:D})});if(!Y.ok){const Z=await Y.json();throw new Error(Z.message||"Failed to remove search option")}await M()}catch(Q){console.error("Error removing search option:",Q),alert("Failed to remove search option")}finally{k(!1)}},ne=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),re=(D,Q)=>{var Z;const Y=(Z=D.target.files)==null?void 0:Z[0];if(Y){const ae=URL.createObjectURL(Y);x(ae),Q(de=>({...de,image:Y}))}},se=D=>{x(null),D(Q=>({...Q,image:null}))},me=async D=>{D.preventDefault();try{k(!0);const Q=localStorage.getItem("auth_token");if(!Q){console.error("Authorization token is missing");return}const Y=new FormData;Y.append("company_name",L.company_name),Y.append("owner_name",L.owner_name),Y.append("email",L.email),Y.append("phone",L.phone),Y.append("website",L.website),Y.append("services",L.services),Y.append("description",L.description),Y.append("rating",String(L.rating)),Y.append("working_hours",L.working_hours),Y.append("years_in_business",String(L.years_in_business)),Y.append("verified",String(L.verified)),Y.append("selected_actions",JSON.stringify(L.selected_actions)),Y.append("selected_landscapes",JSON.stringify(L.selected_landscapes)),Y.append("selected_inspects",JSON.stringify(L.selected_inspects)),Y.append("selected_renovates",JSON.stringify(L.selected_renovates)),Y.append("selected_repairs",JSON.stringify(L.selected_repairs)),Y.append("selected_installs",JSON.stringify(L.selected_installs)),Y.append("selected_flips",JSON.stringify(L.selected_flips)),Y.append("selected_removes",JSON.stringify(L.selected_removes)),Y.append("selected_textures",JSON.stringify(L.selected_textures)),Y.append("selected_powerwashes",JSON.stringify(L.selected_powerwashes)),Y.append("selected_cleans",JSON.stringify(L.selected_cleans)),Y.append("selected_replaces",JSON.stringify(L.selected_replaces)),Y.append("selected_paints",JSON.stringify(L.selected_paints)),Y.append("selected_builds",JSON.stringify(L.selected_builds)),Y.append("selected_locations",JSON.stringify(L.selected_locations)),Y.append("selected_times",JSON.stringify(L.selected_times)),Y.append("user_email",L.user_email),L.image&&Y.append("image",L.image);const Z=await fetch("http://localhost:3000/api/admin/companies",{method:"POST",headers:{Authorization:`Bearer ${Q}`},body:Y});if(!Z.ok){const ae=await Z.json();throw new Error(ae.message||"Failed to add company")}await w(),F(!1),$({company_name:"",owner_name:"",email:"",phone:"",website:"",services:"",description:"",rating:0,working_hours:"",years_in_business:0,verified:!1,image:null,selected_actions:[],selected_landscapes:[],selected_inspects:[],selected_renovates:[],selected_repairs:[],selected_installs:[],selected_flips:[],selected_removes:[],selected_textures:[],selected_powerwashes:[],selected_cleans:[],selected_replaces:[],selected_paints:[],selected_builds:[],selected_locations:[],selected_times:[],user_email:""})}catch(Q){console.error("Error adding company:",Q),alert("Failed to add company")}finally{k(!1)}},ge=D=>{var Y;const Q=(Y=D.target.files)==null?void 0:Y[0];if(Q){const Z=URL.createObjectURL(Q);x(Z),$({...L,image:Q})}};return j?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx(pr,{className:"w-8 h-8 animate-spin text-blue-600"})}):d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsxs("div",{className:"flex gap-4 mb-8",children:[d.jsxs("button",{onClick:()=>a("companies"),className:Xe("flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors",o==="companies"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[d.jsx(C0,{className:"w-5 h-5"}),"Active Companies"]}),d.jsxs("button",{onClick:()=>a("applications"),className:Xe("flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors",o==="applications"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[d.jsx(yx,{className:"w-5 h-5"}),"Review Companies"]}),d.jsxs("button",{onClick:()=>a("search-options"),className:Xe("flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors",o==="search-options"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[d.jsx(_a,{className:"w-5 h-5"}),"Search Options"]})]}),o==="companies"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"Active Companies"}),d.jsxs("button",{onClick:()=>F(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(_a,{className:"w-5 h-5"}),"Add Company"]})]}),j?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx(pr,{className:"w-8 h-8 animate-spin text-blue-600"})}):d.jsx("div",{className:"space-y-6",children:u.map(D=>d.jsx("div",{className:"border rounded-lg p-6 space-y-4",children:(m==null?void 0:m.id)===D.id?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),d.jsx("input",{type:"text",value:m.company_name,onChange:Q=>v({...m,company_name:Q.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner Name"}),d.jsx("input",{type:"text",value:m.owner_name,onChange:Q=>v({...m,owner_name:Q.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Update Image"}),d.jsxs("div",{className:"relative group",children:[d.jsxs("div",{className:"aspect-video rounded-lg overflow-hidden bg-gray-100",children:[d.jsx("img",{src:b||m.image_url||"https://via.placeholder.com/300x200",alt:"Company preview",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("label",{className:"cursor-pointer flex flex-col items-center text-white",children:[d.jsx("span",{className:"text-sm",children:"Upload Image"}),d.jsx("input",{type:"file",accept:"image/*",onChange:Q=>re(Q,v),className:"hidden"})]})})]}),b&&d.jsx("button",{onClick:()=>se(v),className:"mt-2 px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Cancel Image"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Services"}),d.jsx("input",{type:"text",value:m.services,onChange:Q=>v({...m,services:Q.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),d.jsx("textarea",{value:m.description,onChange:Q=>v({...m,description:Q.target.value}),rows:3,className:"w-full px-3 py-2 border rounded-lg"})]}),I(m,!0,v),d.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[d.jsx("button",{onClick:()=>v(null),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),d.jsx("button",{onClick:()=>O(m),className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold",children:D.company_name}),d.jsx("p",{className:"text-gray-600",children:D.owner_name})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[D.verified&&d.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"Verified"}),d.jsx("span",{className:Xe("px-3 py-1 rounded-full text-sm font-medium",D.available?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:D.available?"Available":"Unavailable"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx("div",{className:"col-span-1",children:d.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-gray-100",children:d.jsx("img",{src:D.image_url||"https://via.placeholder.com/300x200",alt:"Company preview",className:"w-full h-full object-cover"})})}),d.jsxs("div",{className:"col-span-2 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Email:"}),d.jsx("span",{className:"text-gray-800",children:D.email})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Phone:"}),d.jsx("span",{className:"text-gray-800",children:D.phone})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Working Hours:"}),d.jsx("span",{className:"text-gray-800",children:D.working_hours})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Years in Business:"}),d.jsx("span",{className:"text-gray-800",children:D.years_in_business})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Rating:"}),d.jsx("span",{className:"text-gray-800",children:D.rating.toFixed(1)})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Owner Email:"}),d.jsx("span",{className:"text-gray-800",children:D.user_email})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Created At:"}),d.jsx("span",{className:"text-gray-800",children:ne(D.created_at)})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Updated At:"}),d.jsx("span",{className:"text-gray-800",children:ne(D.updated_at)})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Subscribe until:"}),d.jsx("span",{className:"text-gray-800",children:D.subscription_until?ne(D.subscription_until):"Never Subscribed"})]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Services:"}),d.jsx("p",{className:"text-gray-800",children:D.services})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Description:"}),d.jsx("p",{className:"text-gray-800",children:D.description})]})]})]}),d.jsx("div",{className:"mt-6",children:I(D,!1)}),d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsx("button",{onClick:()=>v(D),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:d.jsx($C,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>N(D.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:d.jsx(ty,{className:"w-5 h-5"})})]})]})},D.id))})]}),o==="applications"&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Review Companies"}),j?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx(pr,{className:"w-8 h-8 animate-spin text-blue-600"})}):l.length===0?d.jsx("div",{className:"text-center py-12 text-gray-500",children:"No applications found"}):d.jsx("div",{className:"space-y-6",children:l.map(D=>d.jsxs("div",{className:"border rounded-lg p-6 space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold",children:D.company_name}),d.jsx("p",{className:"text-gray-600",children:D.owner_name})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:Xe("px-3 py-1 rounded-full text-sm font-medium",{"bg-yellow-100 text-yellow-800":D.status==="pending","bg-red-100 text-red-800":D.status==="rejected"}),children:D.status.charAt(0).toUpperCase()+D.status.slice(1)})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx("div",{className:"col-span-1",children:d.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-gray-100",children:d.jsx("img",{src:D.image_url||"https://via.placeholder.com/300x200",alt:"Company preview",className:"w-full h-full object-cover"})})}),d.jsxs("div",{className:"col-span-2 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Email:"}),d.jsx("span",{className:"text-gray-800",children:D.email})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Phone:"}),d.jsx("span",{className:"text-gray-800",children:D.phone})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Working Hours:"}),d.jsx("span",{className:"text-gray-800",children:D.working_hours})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Years in Business:"}),d.jsx("span",{className:"text-gray-800",children:D.years_in_business})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Rating:"}),d.jsx("span",{className:"text-gray-800",children:D.rating.toFixed(1)})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Owner Email:"}),d.jsx("span",{className:"text-gray-800",children:D.user_email})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Created At:"}),d.jsx("span",{className:"text-gray-800",children:ne(D.created_at)})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Updated At:"}),d.jsx("span",{className:"text-gray-800",children:ne(D.updated_at)})]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Services:"}),d.jsx("p",{className:"text-gray-800",children:D.services})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-sm font-medium text-gray-600",children:"Description:"}),d.jsx("p",{className:"text-gray-800",children:D.description})]})]})]}),d.jsx("div",{className:"mt-6",children:I(D,!1)}),d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsx("button",{onClick:()=>S(D),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:d.jsx(N0,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>A(D.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:d.jsx(jC,{className:"w-5 h-5"})})]})]},D.id))})]}),o==="search-options"&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Search Options Management"}),d.jsx("div",{className:"flex gap-2 mb-8 overflow-x-auto pb-2",children:X.map(D=>d.jsxs("button",{onClick:()=>e(D),className:Xe("px-4 py-2 rounded-lg font-medium transition-colors",t===D?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[le(D)," "]},D))}),d.jsxs("div",{className:"flex gap-2 mb-6",children:[d.jsx("input",{type:"text",value:i,onChange:D=>s(D.target.value),placeholder:"Enter new option...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.jsx("input",{type:"text",value:K||"",onChange:D=>ee(D.target.value||null),placeholder:"Enter next category (optional)...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(_a,{className:"w-5 h-5"}),"Add"]})]}),j?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx(pr,{className:"w-8 h-8 animate-spin text-blue-600"})}):d.jsx("div",{className:"space-y-2 mb-8",children:(q=n[t])==null?void 0:q.map(D=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:D.value}),D.next_category&&d.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(Next step: ",D.next_category,")"]})]}),d.jsx("button",{onClick:()=>P(D.value),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:d.jsx(ty,{className:"w-5 h-5"})})]},D.value))})]})]}),R&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>F(!1),children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto p-6",onClick:D=>D.stopPropagation(),children:[d.jsx("h3",{className:"text-xl font-bold mb-4",children:"Add New Company"}),d.jsxs("form",{onSubmit:me,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),d.jsx("input",{type:"text",value:L.company_name,onChange:D=>$({...L,company_name:D.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner Name"}),d.jsx("input",{type:"text",value:L.owner_name,onChange:D=>$({...L,owner_name:D.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:L.email,onChange:D=>$({...L,email:D.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),d.jsx("input",{type:"tel",value:L.phone,onChange:D=>$({...L,phone:D.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),d.jsx("input",{type:"url",value:L.website,onChange:D=>$({...L,website:D.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Services"}),d.jsx("input",{type:"text",value:L.services,onChange:D=>$({...L,services:D.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),d.jsx("textarea",{value:L.description,onChange:D=>$({...L,description:D.target.value}),rows:3,className:"w-full px-3 py-2 border rounded-lg"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rating"}),d.jsx("input",{type:"number",value:L.rating,onChange:D=>$({...L,rating:parseFloat(D.target.value)}),className:"w-full px-3 py-2 border rounded-lg",min:0,max:5,step:.1})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Working Hours"}),d.jsx("input",{type:"text",value:L.working_hours,onChange:D=>$({...L,working_hours:D.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Years in Business"}),d.jsx("input",{type:"number",value:L.years_in_business,onChange:D=>$({...L,years_in_business:parseInt(D.target.value,10)}),className:"w-full px-3 py-2 border rounded-lg",min:0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Verified"}),d.jsxs("select",{value:L.verified?"true":"false",onChange:D=>$({...L,verified:D.target.value==="true"}),className:"w-full px-3 py-2 border rounded-lg",children:[d.jsx("option",{value:"false",children:"False"}),d.jsx("option",{value:"true",children:"True"})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Image"}),d.jsx("input",{type:"file",accept:"image/*",onChange:ge,className:"w-full px-3 py-2 border rounded-lg"}),b&&d.jsxs("div",{className:"mt-4",children:[d.jsx("span",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Preview:"}),d.jsx("img",{src:b,alt:"Preview",className:"w-full h-auto rounded-lg border"})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner Email"}),d.jsx("input",{type:"email",value:L.user_email||"",onChange:D=>$({...L,user_email:D.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),X.map(D=>{var Q;return d.jsxs("div",{className:"mb-4",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 capitalize",children:[le(D)," Selections"]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:(Q=n[D])==null?void 0:Q.map(Y=>{var Z;return d.jsx("button",{type:"button",onClick:()=>{const ae=`selected_${D}s`,de=L[ae],$e=de.includes(Y.value)?de.filter(Se=>Se!==Y.value):[...de,Y.value];$({...L,[ae]:$e})},className:Xe("px-3 py-1 rounded-lg text-sm font-medium transition-colors",(Z=L[`selected_${D}s`])!=null&&Z.includes(Y.value)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:Y.value},Y.value)})})]},D)}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{type:"button",onClick:()=>F(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:"Submit"})]})]})]})})]})}const JT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZT=(t,e,n)=>{let r;const i=JT[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function uh(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const XT={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nR={date:uh({formats:XT,defaultWidth:"full"}),time:uh({formats:eR,defaultWidth:"full"}),dateTime:uh({formats:tR,defaultWidth:"full"})},rR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iR=(t,e,n,r)=>rR[t];function ta(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const sR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dR=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},hR={ordinalNumber:dR,era:ta({values:sR,defaultWidth:"wide"}),quarter:ta({values:oR,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ta({values:aR,defaultWidth:"wide"}),day:ta({values:lR,defaultWidth:"wide"}),dayPeriod:ta({values:cR,defaultWidth:"wide",formattingValues:uR,defaultFormattingWidth:"wide"})};function na(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?pR(a,h=>h.test(o)):fR(a,h=>h.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function fR(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function pR(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function mR(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const gR=/^(\d+)(th|st|nd|rd)?/i,yR=/\d+/i,vR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wR={any:[/^b/i,/^(a|c)/i]},xR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bR={any:[/1/i,/2/i,/3/i,/4/i]},_R={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ER={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},NR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},IR={ordinalNumber:mR({matchPattern:gR,parsePattern:yR,valueCallback:t=>parseInt(t,10)}),era:na({matchPatterns:vR,defaultMatchWidth:"wide",parsePatterns:wR,defaultParseWidth:"any"}),quarter:na({matchPatterns:xR,defaultMatchWidth:"wide",parsePatterns:bR,defaultParseWidth:"any",valueCallback:t=>t+1}),month:na({matchPatterns:_R,defaultMatchWidth:"wide",parsePatterns:kR,defaultParseWidth:"any"}),day:na({matchPatterns:SR,defaultMatchWidth:"wide",parsePatterns:ER,defaultParseWidth:"any"}),dayPeriod:na({matchPatterns:CR,defaultMatchWidth:"any",parsePatterns:NR,defaultParseWidth:"any"})},AR={code:"en-US",formatDistance:ZT,formatLong:nR,formatRelative:iR,localize:hR,match:IR,options:{weekStartsOn:0,firstWeekContainsDate:1}};let TR={};function $u(){return TR}const Sb=6048e5,RR=864e5,Py=Symbol.for("constructDateFrom");function Ui(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Py in t?t[Py](e):t instanceof Date?new t.constructor(e):new Date(e)}function br(t,e){return Ui(e||t,t)}function My(t){const e=br(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function jR(t,...e){const n=Ui.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function By(t,e){const n=br(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function OR(t,e,n){const[r,i]=jR(n==null?void 0:n.in,t,e),s=By(r),o=By(i),a=+s-My(s),l=+o-My(o);return Math.round((a-l)/RR)}function PR(t,e){const n=br(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function MR(t,e){const n=br(t,e==null?void 0:e.in);return OR(n,PR(n))+1}function Ga(t,e){var a,l,c,u;const n=$u(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=br(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Zc(t,e){return Ga(t,{...e,weekStartsOn:1})}function Eb(t,e){const n=br(t,e==null?void 0:e.in),r=n.getFullYear(),i=Ui(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Zc(i),o=Ui(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Zc(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function BR(t,e){const n=Eb(t,e),r=Ui(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Zc(r)}function LR(t,e){const n=br(t,e==null?void 0:e.in),r=+Zc(n)-+BR(n);return Math.round(r/Sb)+1}function Cb(t,e){var u,h,m,v;const n=br(t,e==null?void 0:e.in),r=n.getFullYear(),i=$u(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(m=i.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,o=Ui((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Ga(o,e),l=Ui((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Ga(l,e);return+n>=+a?r+1:+n>=+c?r:r-1}function FR(t,e){var a,l,c,u;const n=$u(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=Cb(t,e),s=Ui((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Ga(s,e)}function UR(t,e){const n=br(t,e==null?void 0:e.in),r=+Ga(n,e)-+FR(n,e);return Math.round(r/Sb)+1}function qe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ii={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return qe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):qe(n+1,2)},d(t,e){return qe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return qe(t.getHours()%12||12,e.length)},H(t,e){return qe(t.getHours(),e.length)},m(t,e){return qe(t.getMinutes(),e.length)},s(t,e){return qe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return qe(i,e.length)}},Os={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ly={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ii.y(t,e)},Y:function(t,e,n,r){const i=Cb(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return qe(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):qe(s,e.length)},R:function(t,e){const n=Eb(t);return qe(n,e.length)},u:function(t,e){const n=t.getFullYear();return qe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return qe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return qe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ii.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return qe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=UR(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):qe(i,e.length)},I:function(t,e,n){const r=LR(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):qe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ii.d(t,e)},D:function(t,e,n){const r=MR(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):qe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return qe(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return qe(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return qe(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Os.noon:r===0?i=Os.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Os.evening:r>=12?i=Os.afternoon:r>=4?i=Os.morning:i=Os.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ii.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ii.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):qe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):qe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ii.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ii.s(t,e)},S:function(t,e){return ii.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Uy(r);case"XXXX":case"XX":return Zi(r);case"XXXXX":case"XXX":default:return Zi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Uy(r);case"xxxx":case"xx":return Zi(r);case"xxxxx":case"xxx":default:return Zi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Fy(r,":");case"OOOO":default:return"GMT"+Zi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Fy(r,":");case"zzzz":default:return"GMT"+Zi(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return qe(r,e.length)},T:function(t,e,n){return qe(+t,e.length)}};function Fy(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+qe(s,2)}function Uy(t,e){return t%60===0?(t>0?"-":"+")+qe(Math.abs(t)/60,2):Zi(t,e)}function Zi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=qe(Math.trunc(r/60),2),s=qe(r%60,2);return n+i+e+s}const Dy=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Nb=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},DR=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Dy(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Dy(r,e)).replace("{{time}}",Nb(i,e))},$R={p:Nb,P:DR},zR=/^D+$/,qR=/^Y+$/,WR=["D","DD","YY","YYYY"];function HR(t){return zR.test(t)}function KR(t){return qR.test(t)}function VR(t,e,n){const r=GR(t,e,n);if(console.warn(r),WR.includes(t))throw new RangeError(r)}function GR(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function YR(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function QR(t){return!(!YR(t)&&typeof t!="number"||isNaN(+br(t)))}const JR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XR=/^'([^]*?)'?$/,ej=/''/g,tj=/[a-zA-Z]/;function dh(t,e,n){var u,h,m,v;const r=$u(),i=r.locale??AR,s=r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((v=(m=r.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??0,a=br(t,n==null?void 0:n.in);if(!QR(a))throw new RangeError("Invalid time value");let l=e.match(ZR).map(b=>{const x=b[0];if(x==="p"||x==="P"){const j=$R[x];return j(b,i.formatLong)}return b}).join("").match(JR).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const x=b[0];if(x==="'")return{isToken:!1,value:nj(b)};if(Ly[x])return{isToken:!0,value:b};if(x.match(tj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(b=>{if(!b.isToken)return b.value;const x=b.value;(KR(x)||HR(x))&&VR(x,e,String(t));const j=Ly[x[0]];return j(a,x,i.localize,c)}).join("")}function nj(t){const e=t.match(XR);return e?e[1].replace(ej,"'"):t}function rj(t,e){const n=lj(e);return"formatToParts"in n?sj(n,t):oj(n,t)}const ij={year:0,month:1,day:2,hour:3,minute:4,second:5};function sj(t,e){try{const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const s=ij[n[i].type];s!==void 0&&(r[s]=parseInt(n[i].value,10))}return r}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function oj(t,e){const n=t.format(e),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}const hh={},$y=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),aj=$y==="06/25/2014, 00:00:00"||$y==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function lj(t){return hh[t]||(hh[t]=aj?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),hh[t]}function Ib(t,e,n,r,i,s,o){const a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}const zy=36e5,cj=6e4,fh={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Ab(t,e,n){if(!t)return 0;let r=fh.timezoneZ.exec(t);if(r)return 0;let i,s;if(r=fh.timezoneHH.exec(t),r)return i=parseInt(r[1],10),qy(i)?-(i*zy):NaN;if(r=fh.timezoneHHMM.exec(t),r){i=parseInt(r[2],10);const o=parseInt(r[3],10);return qy(i,o)?(s=Math.abs(i)*zy+o*cj,r[1]==="+"?-s:s):NaN}if(hj(t)){e=new Date(e||Date.now());const o=n?e:uj(e),a=dp(o,t);return-(n?a:dj(e,a,t))}return NaN}function uj(t){return Ib(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function dp(t,e){const n=rj(t,e),r=Ib(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let i=t.getTime();const s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function dj(t,e,n){let i=t.getTime()-e;const s=dp(new Date(i),n);if(e===s)return e;i-=s-e;const o=dp(new Date(i),n);return s===o?s:Math.max(s,o)}function qy(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const Wy={};function hj(t){if(Wy[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Wy[t]=!0,!0}catch{return!1}}function Hy(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const fj=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,ph=36e5,Ky=6e4,pj=2,gn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:fj};function mj(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const n=e.additionalDigits==null?pj:Number(e.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const r=gj(t),{year:i,restDateString:s}=yj(r.date,n),o=vj(s,i);if(o===null||isNaN(o.getTime()))return new Date(NaN);if(o){const a=o.getTime();let l=0,c;if(r.time&&(l=wj(r.time),l===null||isNaN(l)))return new Date(NaN);if(r.timeZone||e.timeZone){if(c=Ab(r.timeZone||e.timeZone,new Date(a+l)),isNaN(c))return new Date(NaN)}else c=Hy(new Date(a+l)),c=Hy(new Date(a+l+c));return new Date(a+l+c)}else return new Date(NaN)}function gj(t){const e={};let n=gn.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=gn.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){const i=gn.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function yj(t,e){if(t){const n=gn.YYY[e],r=gn.YYYYY[e];let i=gn.YYYY.exec(t)||r.exec(t);if(i){const s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=gn.YY.exec(t)||n.exec(t),i){const s=i[1];return{year:parseInt(s,10)*100,restDateString:t.slice(s.length)}}}return{year:null}}function vj(t,e){if(e===null)return null;let n,r,i;if(!t||!t.length)return n=new Date(0),n.setUTCFullYear(e),n;let s=gn.MM.exec(t);if(s)return n=new Date(0),r=parseInt(s[1],10)-1,Gy(e,r)?(n.setUTCFullYear(e,r),n):new Date(NaN);if(s=gn.DDD.exec(t),s){n=new Date(0);const o=parseInt(s[1],10);return _j(e,o)?(n.setUTCFullYear(e,0,o),n):new Date(NaN)}if(s=gn.MMDD.exec(t),s){n=new Date(0),r=parseInt(s[1],10)-1;const o=parseInt(s[2],10);return Gy(e,r,o)?(n.setUTCFullYear(e,r,o),n):new Date(NaN)}if(s=gn.Www.exec(t),s)return i=parseInt(s[1],10)-1,Yy(i)?Vy(e,i):new Date(NaN);if(s=gn.WwwD.exec(t),s){i=parseInt(s[1],10)-1;const o=parseInt(s[2],10)-1;return Yy(i,o)?Vy(e,i,o):new Date(NaN)}return null}function wj(t){let e,n,r=gn.HH.exec(t);if(r)return e=parseFloat(r[1].replace(",",".")),mh(e)?e%24*ph:NaN;if(r=gn.HHMM.exec(t),r)return e=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),mh(e,n)?e%24*ph+n*Ky:NaN;if(r=gn.HHMMSS.exec(t),r){e=parseInt(r[1],10),n=parseInt(r[2],10);const i=parseFloat(r[3].replace(",","."));return mh(e,n,i)?e%24*ph+n*Ky+i*1e3:NaN}return null}function Vy(t,e,n){e=e||0,n=n||0;const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const xj=[31,28,31,30,31,30,31,31,30,31,30,31],bj=[31,29,31,30,31,30,31,31,30,31,30,31];function Tb(t){return t%400===0||t%4===0&&t%100!==0}function Gy(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;const r=Tb(t);if(r&&n>bj[e]||!r&&n>xj[e])return!1}return!0}function _j(t,e){if(e<1)return!1;const n=Tb(t);return!(n&&e>366||!n&&e>365)}function Yy(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function mh(t,e,n){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}function Qy(t,e,n){t=mj(t,n);const r=Ab(e,t,!0),i=new Date(t.getTime()-r),s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}function Rb({onNewMessage:t}){const e=Du();return U.useEffect(()=>{if(e)return e.on("newMessage",t),()=>{e.off("newMessage",t)}},[e,t]),null}function kj({message:t,sender:e,onClose:n}){return U.useEffect(()=>{const r=setTimeout(()=>{n()},5e3);return()=>clearTimeout(r)},[n]),d.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:d.jsx("div",{className:"bg-white rounded-lg shadow-lg border border-gray-100 p-4 max-w-sm",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(Ka,{className:"w-4 h-4 text-blue-600"})})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium text-gray-900",children:e}),d.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t})]}),d.jsx("button",{onClick:n,className:"flex-shrink-0 ml-4 p-1 rounded-full hover:bg-gray-100 transition-colors",children:d.jsx(Mo,{className:"w-4 h-4 text-gray-400"})})]})})})}const jb=U.createContext(null);function Sj({children:t}){const[e,n]=U.useState([]),r=(s,o)=>{const a=Math.random().toString(36).substr(2,9);n(l=>[...l,{id:a,message:s,sender:o}])},i=s=>{n(o=>o.filter(a=>a.id!==s))};return d.jsxs(jb.Provider,{value:{showToast:r},children:[t,e.map(s=>d.jsx(kj,{message:s.message,sender:s.sender,onClose:()=>i(s.id)},s.id))]})}function Ob(){const t=U.useContext(jb);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}var Ce={},zu={};zu.byteLength=Nj;zu.toByteArray=Aj;zu.fromByteArray=jj;var Ar=[],Hn=[],Ej=typeof Uint8Array<"u"?Uint8Array:Array,gh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ps=0,Cj=gh.length;Ps<Cj;++Ps)Ar[Ps]=gh[Ps],Hn[gh.charCodeAt(Ps)]=Ps;Hn[45]=62;Hn[95]=63;function Pb(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Nj(t){var e=Pb(t),n=e[0],r=e[1];return(n+r)*3/4-r}function Ij(t,e,n){return(e+n)*3/4-n}function Aj(t){var e,n=Pb(t),r=n[0],i=n[1],s=new Ej(Ij(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=Hn[t.charCodeAt(l)]<<18|Hn[t.charCodeAt(l+1)]<<12|Hn[t.charCodeAt(l+2)]<<6|Hn[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Hn[t.charCodeAt(l)]<<2|Hn[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Hn[t.charCodeAt(l)]<<10|Hn[t.charCodeAt(l+1)]<<4|Hn[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Tj(t){return Ar[t>>18&63]+Ar[t>>12&63]+Ar[t>>6&63]+Ar[t&63]}function Rj(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(Tj(r));return i.join("")}function jj(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(Rj(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(Ar[e>>2]+Ar[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Ar[e>>10]+Ar[e>>4&63]+Ar[e<<2&63]+"=")),i.join("")}var q0={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */q0.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,m=n?-1:1,v=t[e+h];for(h+=m,s=v&(1<<-u)-1,v>>=-u,u+=a;u>0;s=s*256+t[e+h],h+=m,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+t[e+h],h+=m,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(v?-1:1)*o*Math.pow(2,s-r)};q0.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,h=u>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=r?0:s-1,b=r?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=m/l:e+=m*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+v]=a&255,v+=b,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+v]=o&255,v+=b,o/=256,c-=8);t[n+v-b]|=x*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=zu,n=q0,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const T=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(T,g),T.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(T){if(T>i)throw new RangeError('The value "'+T+'" is invalid for option "size"');const g=new Uint8Array(T);return Object.setPrototypeOf(g,a.prototype),g}function a(T,g,y){if(typeof T=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(T)}return l(T,g,y)}a.poolSize=8192;function l(T,g,y){if(typeof T=="string")return m(T,g);if(ArrayBuffer.isView(T))return b(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(je(T,ArrayBuffer)||T&&je(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(je(T,SharedArrayBuffer)||T&&je(T.buffer,SharedArrayBuffer)))return x(T,g,y);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const B=T.valueOf&&T.valueOf();if(B!=null&&B!==T)return a.from(B,g,y);const z=j(T);if(z)return z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return a.from(T[Symbol.toPrimitive]("string"),g,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}a.from=function(T,g,y){return l(T,g,y)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function u(T,g,y){return c(T),T<=0?o(T):g!==void 0?typeof y=="string"?o(T).fill(g,y):o(T).fill(g):o(T)}a.alloc=function(T,g,y){return u(T,g,y)};function h(T){return c(T),o(T<0?0:k(T)|0)}a.allocUnsafe=function(T){return h(T)},a.allocUnsafeSlow=function(T){return h(T)};function m(T,g){if((typeof g!="string"||g==="")&&(g="utf8"),!a.isEncoding(g))throw new TypeError("Unknown encoding: "+g);const y=C(T,g)|0;let B=o(y);const z=B.write(T,g);return z!==y&&(B=B.slice(0,z)),B}function v(T){const g=T.length<0?0:k(T.length)|0,y=o(g);for(let B=0;B<g;B+=1)y[B]=T[B]&255;return y}function b(T){if(je(T,Uint8Array)){const g=new Uint8Array(T);return x(g.buffer,g.byteOffset,g.byteLength)}return v(T)}function x(T,g,y){if(g<0||T.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<g+(y||0))throw new RangeError('"length" is outside of buffer bounds');let B;return g===void 0&&y===void 0?B=new Uint8Array(T):y===void 0?B=new Uint8Array(T,g):B=new Uint8Array(T,g,y),Object.setPrototypeOf(B,a.prototype),B}function j(T){if(a.isBuffer(T)){const g=k(T.length)|0,y=o(g);return y.length===0||T.copy(y,0,0,g),y}if(T.length!==void 0)return typeof T.length!="number"||be(T.length)?o(0):v(T);if(T.type==="Buffer"&&Array.isArray(T.data))return v(T.data)}function k(T){if(T>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return T|0}function _(T){return+T!=T&&(T=0),a.alloc(+T)}a.isBuffer=function(g){return g!=null&&g._isBuffer===!0&&g!==a.prototype},a.compare=function(g,y){if(je(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),je(y,Uint8Array)&&(y=a.from(y,y.offset,y.byteLength)),!a.isBuffer(g)||!a.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===y)return 0;let B=g.length,z=y.length;for(let W=0,J=Math.min(B,z);W<J;++W)if(g[W]!==y[W]){B=g[W],z=y[W];break}return B<z?-1:z<B?1:0},a.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(g,y){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return a.alloc(0);let B;if(y===void 0)for(y=0,B=0;B<g.length;++B)y+=g[B].length;const z=a.allocUnsafe(y);let W=0;for(B=0;B<g.length;++B){let J=g[B];if(je(J,Uint8Array))W+J.length>z.length?(a.isBuffer(J)||(J=a.from(J)),J.copy(z,W)):Uint8Array.prototype.set.call(z,J,W);else if(a.isBuffer(J))J.copy(z,W);else throw new TypeError('"list" argument must be an Array of Buffers');W+=J.length}return z};function C(T,g){if(a.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||je(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const y=T.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&y===0)return 0;let z=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return Se(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return Ke(T).length;default:if(z)return B?-1:Se(T).length;g=(""+g).toLowerCase(),z=!0}}a.byteLength=C;function R(T,g,y){let B=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,g>>>=0,y<=g))return"";for(T||(T="utf8");;)switch(T){case"hex":return A(this,g,y);case"utf8":case"utf-8":return f(this,g,y);case"ascii":return I(this,g,y);case"latin1":case"binary":return S(this,g,y);case"base64":return M(this,g,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,g,y);default:if(B)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),B=!0}}a.prototype._isBuffer=!0;function F(T,g,y){const B=T[g];T[g]=T[y],T[y]=B}a.prototype.swap16=function(){const g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let y=0;y<g;y+=2)F(this,y,y+1);return this},a.prototype.swap32=function(){const g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let y=0;y<g;y+=4)F(this,y,y+3),F(this,y+1,y+2);return this},a.prototype.swap64=function(){const g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let y=0;y<g;y+=8)F(this,y,y+7),F(this,y+1,y+6),F(this,y+2,y+5),F(this,y+3,y+4);return this},a.prototype.toString=function(){const g=this.length;return g===0?"":arguments.length===0?f(this,0,g):R.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(g){if(!a.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:a.compare(this,g)===0},a.prototype.inspect=function(){let g="";const y=t.INSPECT_MAX_BYTES;return g=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(g+=" ... "),"<Buffer "+g+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(g,y,B,z,W){if(je(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),!a.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(y===void 0&&(y=0),B===void 0&&(B=g?g.length:0),z===void 0&&(z=0),W===void 0&&(W=this.length),y<0||B>g.length||z<0||W>this.length)throw new RangeError("out of range index");if(z>=W&&y>=B)return 0;if(z>=W)return-1;if(y>=B)return 1;if(y>>>=0,B>>>=0,z>>>=0,W>>>=0,this===g)return 0;let J=W-z,Ie=B-y;const Ee=Math.min(J,Ie),ke=this.slice(z,W),Qe=g.slice(y,B);for(let _e=0;_e<Ee;++_e)if(ke[_e]!==Qe[_e]){J=ke[_e],Ie=Qe[_e];break}return J<Ie?-1:Ie<J?1:0};function L(T,g,y,B,z){if(T.length===0)return-1;if(typeof y=="string"?(B=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,be(y)&&(y=z?0:T.length-1),y<0&&(y=T.length+y),y>=T.length){if(z)return-1;y=T.length-1}else if(y<0)if(z)y=0;else return-1;if(typeof g=="string"&&(g=a.from(g,B)),a.isBuffer(g))return g.length===0?-1:$(T,g,y,B,z);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?z?Uint8Array.prototype.indexOf.call(T,g,y):Uint8Array.prototype.lastIndexOf.call(T,g,y):$(T,[g],y,B,z);throw new TypeError("val must be string, number or Buffer")}function $(T,g,y,B,z){let W=1,J=T.length,Ie=g.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(T.length<2||g.length<2)return-1;W=2,J/=2,Ie/=2,y/=2}function Ee(Qe,_e){return W===1?Qe[_e]:Qe.readUInt16BE(_e*W)}let ke;if(z){let Qe=-1;for(ke=y;ke<J;ke++)if(Ee(T,ke)===Ee(g,Qe===-1?0:ke-Qe)){if(Qe===-1&&(Qe=ke),ke-Qe+1===Ie)return Qe*W}else Qe!==-1&&(ke-=ke-Qe),Qe=-1}else for(y+Ie>J&&(y=J-Ie),ke=y;ke>=0;ke--){let Qe=!0;for(let _e=0;_e<Ie;_e++)if(Ee(T,ke+_e)!==Ee(g,_e)){Qe=!1;break}if(Qe)return ke}return-1}a.prototype.includes=function(g,y,B){return this.indexOf(g,y,B)!==-1},a.prototype.indexOf=function(g,y,B){return L(this,g,y,B,!0)},a.prototype.lastIndexOf=function(g,y,B){return L(this,g,y,B,!1)};function K(T,g,y,B){y=Number(y)||0;const z=T.length-y;B?(B=Number(B),B>z&&(B=z)):B=z;const W=g.length;B>W/2&&(B=W/2);let J;for(J=0;J<B;++J){const Ie=parseInt(g.substr(J*2,2),16);if(be(Ie))return J;T[y+J]=Ie}return J}function ee(T,g,y,B){return ze(Se(g,T.length-y),T,y,B)}function V(T,g,y,B){return ze(Re(g),T,y,B)}function X(T,g,y,B){return ze(Ke(g),T,y,B)}function le(T,g,y,B){return ze(ir(g,T.length-y),T,y,B)}a.prototype.write=function(g,y,B,z){if(y===void 0)z="utf8",B=this.length,y=0;else if(B===void 0&&typeof y=="string")z=y,B=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(B)?(B=B>>>0,z===void 0&&(z="utf8")):(z=B,B=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const W=this.length-y;if((B===void 0||B>W)&&(B=W),g.length>0&&(B<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");z||(z="utf8");let J=!1;for(;;)switch(z){case"hex":return K(this,g,y,B);case"utf8":case"utf-8":return ee(this,g,y,B);case"ascii":case"latin1":case"binary":return V(this,g,y,B);case"base64":return X(this,g,y,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,g,y,B);default:if(J)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),J=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(T,g,y){return g===0&&y===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(g,y))}function f(T,g,y){y=Math.min(T.length,y);const B=[];let z=g;for(;z<y;){const W=T[z];let J=null,Ie=W>239?4:W>223?3:W>191?2:1;if(z+Ie<=y){let Ee,ke,Qe,_e;switch(Ie){case 1:W<128&&(J=W);break;case 2:Ee=T[z+1],(Ee&192)===128&&(_e=(W&31)<<6|Ee&63,_e>127&&(J=_e));break;case 3:Ee=T[z+1],ke=T[z+2],(Ee&192)===128&&(ke&192)===128&&(_e=(W&15)<<12|(Ee&63)<<6|ke&63,_e>2047&&(_e<55296||_e>57343)&&(J=_e));break;case 4:Ee=T[z+1],ke=T[z+2],Qe=T[z+3],(Ee&192)===128&&(ke&192)===128&&(Qe&192)===128&&(_e=(W&15)<<18|(Ee&63)<<12|(ke&63)<<6|Qe&63,_e>65535&&_e<1114112&&(J=_e))}}J===null?(J=65533,Ie=1):J>65535&&(J-=65536,B.push(J>>>10&1023|55296),J=56320|J&1023),B.push(J),z+=Ie}return E(B)}const w=4096;function E(T){const g=T.length;if(g<=w)return String.fromCharCode.apply(String,T);let y="",B=0;for(;B<g;)y+=String.fromCharCode.apply(String,T.slice(B,B+=w));return y}function I(T,g,y){let B="";y=Math.min(T.length,y);for(let z=g;z<y;++z)B+=String.fromCharCode(T[z]&127);return B}function S(T,g,y){let B="";y=Math.min(T.length,y);for(let z=g;z<y;++z)B+=String.fromCharCode(T[z]);return B}function A(T,g,y){const B=T.length;(!g||g<0)&&(g=0),(!y||y<0||y>B)&&(y=B);let z="";for(let W=g;W<y;++W)z+=ct[T[W]];return z}function O(T,g,y){const B=T.slice(g,y);let z="";for(let W=0;W<B.length-1;W+=2)z+=String.fromCharCode(B[W]+B[W+1]*256);return z}a.prototype.slice=function(g,y){const B=this.length;g=~~g,y=y===void 0?B:~~y,g<0?(g+=B,g<0&&(g=0)):g>B&&(g=B),y<0?(y+=B,y<0&&(y=0)):y>B&&(y=B),y<g&&(y=g);const z=this.subarray(g,y);return Object.setPrototypeOf(z,a.prototype),z};function N(T,g,y){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+g>y)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(g,y,B){g=g>>>0,y=y>>>0,B||N(g,y,this.length);let z=this[g],W=1,J=0;for(;++J<y&&(W*=256);)z+=this[g+J]*W;return z},a.prototype.readUintBE=a.prototype.readUIntBE=function(g,y,B){g=g>>>0,y=y>>>0,B||N(g,y,this.length);let z=this[g+--y],W=1;for(;y>0&&(W*=256);)z+=this[g+--y]*W;return z},a.prototype.readUint8=a.prototype.readUInt8=function(g,y){return g=g>>>0,y||N(g,1,this.length),this[g]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(g,y){return g=g>>>0,y||N(g,2,this.length),this[g]|this[g+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(g,y){return g=g>>>0,y||N(g,2,this.length),this[g]<<8|this[g+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(g,y){return g=g>>>0,y||N(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(g,y){return g=g>>>0,y||N(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},a.prototype.readBigUInt64LE=sr(function(g){g=g>>>0,Z(g,"offset");const y=this[g],B=this[g+7];(y===void 0||B===void 0)&&ae(g,this.length-8);const z=y+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24,W=this[++g]+this[++g]*2**8+this[++g]*2**16+B*2**24;return BigInt(z)+(BigInt(W)<<BigInt(32))}),a.prototype.readBigUInt64BE=sr(function(g){g=g>>>0,Z(g,"offset");const y=this[g],B=this[g+7];(y===void 0||B===void 0)&&ae(g,this.length-8);const z=y*2**24+this[++g]*2**16+this[++g]*2**8+this[++g],W=this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+B;return(BigInt(z)<<BigInt(32))+BigInt(W)}),a.prototype.readIntLE=function(g,y,B){g=g>>>0,y=y>>>0,B||N(g,y,this.length);let z=this[g],W=1,J=0;for(;++J<y&&(W*=256);)z+=this[g+J]*W;return W*=128,z>=W&&(z-=Math.pow(2,8*y)),z},a.prototype.readIntBE=function(g,y,B){g=g>>>0,y=y>>>0,B||N(g,y,this.length);let z=y,W=1,J=this[g+--z];for(;z>0&&(W*=256);)J+=this[g+--z]*W;return W*=128,J>=W&&(J-=Math.pow(2,8*y)),J},a.prototype.readInt8=function(g,y){return g=g>>>0,y||N(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},a.prototype.readInt16LE=function(g,y){g=g>>>0,y||N(g,2,this.length);const B=this[g]|this[g+1]<<8;return B&32768?B|4294901760:B},a.prototype.readInt16BE=function(g,y){g=g>>>0,y||N(g,2,this.length);const B=this[g+1]|this[g]<<8;return B&32768?B|4294901760:B},a.prototype.readInt32LE=function(g,y){return g=g>>>0,y||N(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},a.prototype.readInt32BE=function(g,y){return g=g>>>0,y||N(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},a.prototype.readBigInt64LE=sr(function(g){g=g>>>0,Z(g,"offset");const y=this[g],B=this[g+7];(y===void 0||B===void 0)&&ae(g,this.length-8);const z=this[g+4]+this[g+5]*2**8+this[g+6]*2**16+(B<<24);return(BigInt(z)<<BigInt(32))+BigInt(y+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24)}),a.prototype.readBigInt64BE=sr(function(g){g=g>>>0,Z(g,"offset");const y=this[g],B=this[g+7];(y===void 0||B===void 0)&&ae(g,this.length-8);const z=(y<<24)+this[++g]*2**16+this[++g]*2**8+this[++g];return(BigInt(z)<<BigInt(32))+BigInt(this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+B)}),a.prototype.readFloatLE=function(g,y){return g=g>>>0,y||N(g,4,this.length),n.read(this,g,!0,23,4)},a.prototype.readFloatBE=function(g,y){return g=g>>>0,y||N(g,4,this.length),n.read(this,g,!1,23,4)},a.prototype.readDoubleLE=function(g,y){return g=g>>>0,y||N(g,8,this.length),n.read(this,g,!0,52,8)},a.prototype.readDoubleBE=function(g,y){return g=g>>>0,y||N(g,8,this.length),n.read(this,g,!1,52,8)};function p(T,g,y,B,z,W){if(!a.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>z||g<W)throw new RangeError('"value" argument is out of bounds');if(y+B>T.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(g,y,B,z){if(g=+g,y=y>>>0,B=B>>>0,!z){const Ie=Math.pow(2,8*B)-1;p(this,g,y,B,Ie,0)}let W=1,J=0;for(this[y]=g&255;++J<B&&(W*=256);)this[y+J]=g/W&255;return y+B},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(g,y,B,z){if(g=+g,y=y>>>0,B=B>>>0,!z){const Ie=Math.pow(2,8*B)-1;p(this,g,y,B,Ie,0)}let W=B-1,J=1;for(this[y+W]=g&255;--W>=0&&(J*=256);)this[y+W]=g/J&255;return y+B},a.prototype.writeUint8=a.prototype.writeUInt8=function(g,y,B){return g=+g,y=y>>>0,B||p(this,g,y,1,255,0),this[y]=g&255,y+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(g,y,B){return g=+g,y=y>>>0,B||p(this,g,y,2,65535,0),this[y]=g&255,this[y+1]=g>>>8,y+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(g,y,B){return g=+g,y=y>>>0,B||p(this,g,y,2,65535,0),this[y]=g>>>8,this[y+1]=g&255,y+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(g,y,B){return g=+g,y=y>>>0,B||p(this,g,y,4,4294967295,0),this[y+3]=g>>>24,this[y+2]=g>>>16,this[y+1]=g>>>8,this[y]=g&255,y+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(g,y,B){return g=+g,y=y>>>0,B||p(this,g,y,4,4294967295,0),this[y]=g>>>24,this[y+1]=g>>>16,this[y+2]=g>>>8,this[y+3]=g&255,y+4};function P(T,g,y,B,z){Y(g,B,z,T,y,7);let W=Number(g&BigInt(4294967295));T[y++]=W,W=W>>8,T[y++]=W,W=W>>8,T[y++]=W,W=W>>8,T[y++]=W;let J=Number(g>>BigInt(32)&BigInt(4294967295));return T[y++]=J,J=J>>8,T[y++]=J,J=J>>8,T[y++]=J,J=J>>8,T[y++]=J,y}function ne(T,g,y,B,z){Y(g,B,z,T,y,7);let W=Number(g&BigInt(4294967295));T[y+7]=W,W=W>>8,T[y+6]=W,W=W>>8,T[y+5]=W,W=W>>8,T[y+4]=W;let J=Number(g>>BigInt(32)&BigInt(4294967295));return T[y+3]=J,J=J>>8,T[y+2]=J,J=J>>8,T[y+1]=J,J=J>>8,T[y]=J,y+8}a.prototype.writeBigUInt64LE=sr(function(g,y=0){return P(this,g,y,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=sr(function(g,y=0){return ne(this,g,y,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(g,y,B,z){if(g=+g,y=y>>>0,!z){const Ee=Math.pow(2,8*B-1);p(this,g,y,B,Ee-1,-Ee)}let W=0,J=1,Ie=0;for(this[y]=g&255;++W<B&&(J*=256);)g<0&&Ie===0&&this[y+W-1]!==0&&(Ie=1),this[y+W]=(g/J>>0)-Ie&255;return y+B},a.prototype.writeIntBE=function(g,y,B,z){if(g=+g,y=y>>>0,!z){const Ee=Math.pow(2,8*B-1);p(this,g,y,B,Ee-1,-Ee)}let W=B-1,J=1,Ie=0;for(this[y+W]=g&255;--W>=0&&(J*=256);)g<0&&Ie===0&&this[y+W+1]!==0&&(Ie=1),this[y+W]=(g/J>>0)-Ie&255;return y+B},a.prototype.writeInt8=function(g,y,B){return g=+g,y=y>>>0,B||p(this,g,y,1,127,-128),g<0&&(g=255+g+1),this[y]=g&255,y+1},a.prototype.writeInt16LE=function(g,y,B){return g=+g,y=y>>>0,B||p(this,g,y,2,32767,-32768),this[y]=g&255,this[y+1]=g>>>8,y+2},a.prototype.writeInt16BE=function(g,y,B){return g=+g,y=y>>>0,B||p(this,g,y,2,32767,-32768),this[y]=g>>>8,this[y+1]=g&255,y+2},a.prototype.writeInt32LE=function(g,y,B){return g=+g,y=y>>>0,B||p(this,g,y,4,2147483647,-2147483648),this[y]=g&255,this[y+1]=g>>>8,this[y+2]=g>>>16,this[y+3]=g>>>24,y+4},a.prototype.writeInt32BE=function(g,y,B){return g=+g,y=y>>>0,B||p(this,g,y,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[y]=g>>>24,this[y+1]=g>>>16,this[y+2]=g>>>8,this[y+3]=g&255,y+4},a.prototype.writeBigInt64LE=sr(function(g,y=0){return P(this,g,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=sr(function(g,y=0){return ne(this,g,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function re(T,g,y,B,z,W){if(y+B>T.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function se(T,g,y,B,z){return g=+g,y=y>>>0,z||re(T,g,y,4),n.write(T,g,y,B,23,4),y+4}a.prototype.writeFloatLE=function(g,y,B){return se(this,g,y,!0,B)},a.prototype.writeFloatBE=function(g,y,B){return se(this,g,y,!1,B)};function me(T,g,y,B,z){return g=+g,y=y>>>0,z||re(T,g,y,8),n.write(T,g,y,B,52,8),y+8}a.prototype.writeDoubleLE=function(g,y,B){return me(this,g,y,!0,B)},a.prototype.writeDoubleBE=function(g,y,B){return me(this,g,y,!1,B)},a.prototype.copy=function(g,y,B,z){if(!a.isBuffer(g))throw new TypeError("argument should be a Buffer");if(B||(B=0),!z&&z!==0&&(z=this.length),y>=g.length&&(y=g.length),y||(y=0),z>0&&z<B&&(z=B),z===B||g.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),g.length-y<z-B&&(z=g.length-y+B);const W=z-B;return this===g&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,B,z):Uint8Array.prototype.set.call(g,this.subarray(B,z),y),W},a.prototype.fill=function(g,y,B,z){if(typeof g=="string"){if(typeof y=="string"?(z=y,y=0,B=this.length):typeof B=="string"&&(z=B,B=this.length),z!==void 0&&typeof z!="string")throw new TypeError("encoding must be a string");if(typeof z=="string"&&!a.isEncoding(z))throw new TypeError("Unknown encoding: "+z);if(g.length===1){const J=g.charCodeAt(0);(z==="utf8"&&J<128||z==="latin1")&&(g=J)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(y<0||this.length<y||this.length<B)throw new RangeError("Out of range index");if(B<=y)return this;y=y>>>0,B=B===void 0?this.length:B>>>0,g||(g=0);let W;if(typeof g=="number")for(W=y;W<B;++W)this[W]=g;else{const J=a.isBuffer(g)?g:a.from(g,z),Ie=J.length;if(Ie===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(W=0;W<B-y;++W)this[W+y]=J[W%Ie]}return this};const ge={};function q(T,g,y){ge[T]=class extends y{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:z,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}q("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),q("ERR_INVALID_ARG_TYPE",function(T,g){return`The "${T}" argument must be of type number. Received type ${typeof g}`},TypeError),q("ERR_OUT_OF_RANGE",function(T,g,y){let B=`The value of "${T}" is out of range.`,z=y;return Number.isInteger(y)&&Math.abs(y)>2**32?z=D(String(y)):typeof y=="bigint"&&(z=String(y),(y>BigInt(2)**BigInt(32)||y<-(BigInt(2)**BigInt(32)))&&(z=D(z)),z+="n"),B+=` It must be ${g}. Received ${z}`,B},RangeError);function D(T){let g="",y=T.length;const B=T[0]==="-"?1:0;for(;y>=B+4;y-=3)g=`_${T.slice(y-3,y)}${g}`;return`${T.slice(0,y)}${g}`}function Q(T,g,y){Z(g,"offset"),(T[g]===void 0||T[g+y]===void 0)&&ae(g,T.length-(y+1))}function Y(T,g,y,B,z,W){if(T>y||T<g){const J=typeof g=="bigint"?"n":"";let Ie;throw g===0||g===BigInt(0)?Ie=`>= 0${J} and < 2${J} ** ${(W+1)*8}${J}`:Ie=`>= -(2${J} ** ${(W+1)*8-1}${J}) and < 2 ** ${(W+1)*8-1}${J}`,new ge.ERR_OUT_OF_RANGE("value",Ie,T)}Q(B,z,W)}function Z(T,g){if(typeof T!="number")throw new ge.ERR_INVALID_ARG_TYPE(g,"number",T)}function ae(T,g,y){throw Math.floor(T)!==T?(Z(T,y),new ge.ERR_OUT_OF_RANGE("offset","an integer",T)):g<0?new ge.ERR_BUFFER_OUT_OF_BOUNDS:new ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${g}`,T)}const de=/[^+/0-9A-Za-z-_]/g;function $e(T){if(T=T.split("=")[0],T=T.trim().replace(de,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function Se(T,g){g=g||1/0;let y;const B=T.length;let z=null;const W=[];for(let J=0;J<B;++J){if(y=T.charCodeAt(J),y>55295&&y<57344){if(!z){if(y>56319){(g-=3)>-1&&W.push(239,191,189);continue}else if(J+1===B){(g-=3)>-1&&W.push(239,191,189);continue}z=y;continue}if(y<56320){(g-=3)>-1&&W.push(239,191,189),z=y;continue}y=(z-55296<<10|y-56320)+65536}else z&&(g-=3)>-1&&W.push(239,191,189);if(z=null,y<128){if((g-=1)<0)break;W.push(y)}else if(y<2048){if((g-=2)<0)break;W.push(y>>6|192,y&63|128)}else if(y<65536){if((g-=3)<0)break;W.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((g-=4)<0)break;W.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return W}function Re(T){const g=[];for(let y=0;y<T.length;++y)g.push(T.charCodeAt(y)&255);return g}function ir(T,g){let y,B,z;const W=[];for(let J=0;J<T.length&&!((g-=2)<0);++J)y=T.charCodeAt(J),B=y>>8,z=y%256,W.push(z),W.push(B);return W}function Ke(T){return e.toByteArray($e(T))}function ze(T,g,y,B){let z;for(z=0;z<B&&!(z+y>=g.length||z>=T.length);++z)g[z+y]=T[z];return z}function je(T,g){return T instanceof g||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===g.name}function be(T){return T!==T}const ct=function(){const T="0123456789abcdef",g=new Array(256);for(let y=0;y<16;++y){const B=y*16;for(let z=0;z<16;++z)g[B+z]=T[y]+T[z]}return g}();function sr(T){return typeof BigInt>"u"?ut:T}function ut(){throw new Error("BigInt not supported")}})(Ce);const Ms=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Oj(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ll(t,...e){if(!Oj(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Pj(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");hp(t.outputLen),hp(t.blockLen)}function Xc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Mj(t,e){ll(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function bo(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function yh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function kr(t,e){return t<<32-e|t>>>e}function Bj(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function W0(t){return typeof t=="string"&&(t=Bj(t)),ll(t),t}function Lj(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];ll(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class Mb{}function Bb(t){const e=r=>t().update(W0(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Lb(t=32){if(Ms&&typeof Ms.getRandomValues=="function")return Ms.getRandomValues(new Uint8Array(t));if(Ms&&typeof Ms.randomBytes=="function")return Uint8Array.from(Ms.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function Fj(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function Uj(t,e,n){return t&e^~t&n}function Dj(t,e,n){return t&e^t&n^e&n}class Fb extends Mb{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=yh(this.buffer)}update(e){Xc(this),e=W0(e),ll(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=yh(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Xc(this),Mj(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,bo(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;Fj(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=yh(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const si=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),on=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),$l=BigInt(2**32-1),Jy=BigInt(32);function $j(t,e=!1){return e?{h:Number(t&$l),l:Number(t>>Jy&$l)}:{h:Number(t>>Jy&$l)|0,l:Number(t&$l)|0}}function zj(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=$j(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const Zy=(t,e,n)=>t>>>n,Xy=(t,e,n)=>t<<32-n|e>>>n,Bs=(t,e,n)=>t>>>n|e<<32-n,Ls=(t,e,n)=>t<<32-n|e>>>n,zl=(t,e,n)=>t<<64-n|e>>>n-32,ql=(t,e,n)=>t>>>n-32|e<<64-n;function Dr(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const qj=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Wj=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Hj=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Kj=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Vj=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Gj=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Yj=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),oi=new Uint32Array(64);class Qj extends Fb{constructor(e=32){super(64,e,8,!1),this.A=si[0]|0,this.B=si[1]|0,this.C=si[2]|0,this.D=si[3]|0,this.E=si[4]|0,this.F=si[5]|0,this.G=si[6]|0,this.H=si[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)oi[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const m=oi[h-15],v=oi[h-2],b=kr(m,7)^kr(m,18)^m>>>3,x=kr(v,17)^kr(v,19)^v>>>10;oi[h]=x+oi[h-7]+b+oi[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const m=kr(a,6)^kr(a,11)^kr(a,25),v=u+m+Uj(a,l,c)+Yj[h]+oi[h]|0,x=(kr(r,2)^kr(r,13)^kr(r,22))+Dj(r,i,s)|0;u=c,c=l,l=a,a=o+v|0,o=s,s=i,i=r,r=v+x|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){bo(oi)}destroy(){this.set(0,0,0,0,0,0,0,0),bo(this.buffer)}}const Ub=zj(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Jj=Ub[0],Zj=Ub[1],ai=new Uint32Array(80),li=new Uint32Array(80);class Xj extends Fb{constructor(e=64){super(128,e,16,!1),this.Ah=on[0]|0,this.Al=on[1]|0,this.Bh=on[2]|0,this.Bl=on[3]|0,this.Ch=on[4]|0,this.Cl=on[5]|0,this.Dh=on[6]|0,this.Dl=on[7]|0,this.Eh=on[8]|0,this.El=on[9]|0,this.Fh=on[10]|0,this.Fl=on[11]|0,this.Gh=on[12]|0,this.Gl=on[13]|0,this.Hh=on[14]|0,this.Hl=on[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:m,Gh:v,Gl:b,Hh:x,Hl:j}=this;return[e,n,r,i,s,o,a,l,c,u,h,m,v,b,x,j]}set(e,n,r,i,s,o,a,l,c,u,h,m,v,b,x,j){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=m|0,this.Gh=v|0,this.Gl=b|0,this.Hh=x|0,this.Hl=j|0}process(e,n){for(let C=0;C<16;C++,n+=4)ai[C]=e.getUint32(n),li[C]=e.getUint32(n+=4);for(let C=16;C<80;C++){const R=ai[C-15]|0,F=li[C-15]|0,L=Bs(R,F,1)^Bs(R,F,8)^Zy(R,F,7),$=Ls(R,F,1)^Ls(R,F,8)^Xy(R,F,7),K=ai[C-2]|0,ee=li[C-2]|0,V=Bs(K,ee,19)^zl(K,ee,61)^Zy(K,ee,6),X=Ls(K,ee,19)^ql(K,ee,61)^Xy(K,ee,6),le=Hj($,X,li[C-7],li[C-16]),M=Kj(le,L,V,ai[C-7],ai[C-16]);ai[C]=M|0,li[C]=le|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:m,Fh:v,Fl:b,Gh:x,Gl:j,Hh:k,Hl:_}=this;for(let C=0;C<80;C++){const R=Bs(h,m,14)^Bs(h,m,18)^zl(h,m,41),F=Ls(h,m,14)^Ls(h,m,18)^ql(h,m,41),L=h&v^~h&x,$=m&b^~m&j,K=Vj(_,F,$,Zj[C],li[C]),ee=Gj(K,k,R,L,Jj[C],ai[C]),V=K|0,X=Bs(r,i,28)^zl(r,i,34)^zl(r,i,39),le=Ls(r,i,28)^ql(r,i,34)^ql(r,i,39),M=r&s^r&a^s&a,f=i&o^i&l^o&l;k=x|0,_=j|0,x=v|0,j=b|0,v=h|0,b=m|0,{h,l:m}=Dr(c|0,u|0,ee|0,V|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const w=qj(V,le,f);r=Wj(w,ee,X,M),i=w|0}({h:r,l:i}=Dr(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Dr(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Dr(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Dr(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:m}=Dr(this.Eh|0,this.El|0,h|0,m|0),{h:v,l:b}=Dr(this.Fh|0,this.Fl|0,v|0,b|0),{h:x,l:j}=Dr(this.Gh|0,this.Gl|0,x|0,j|0),{h:k,l:_}=Dr(this.Hh|0,this.Hl|0,k|0,_|0),this.set(r,i,s,o,a,l,c,u,h,m,v,b,x,j,k,_)}roundClean(){bo(ai,li)}destroy(){bo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Db=Bb(()=>new Qj),eO=Bb(()=>new Xj);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const H0=BigInt(0),fp=BigInt(1);function cl(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function K0(t){if(!cl(t))throw new Error("Uint8Array expected")}function Pi(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Wl(t){const e=t.toString(16);return e.length&1?"0"+e:e}function $b(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?H0:BigInt("0x"+t)}const zb=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",tO=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _o(t){if(K0(t),zb)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=tO[t[n]];return e}const $r={_0:48,_9:57,A:65,F:70,a:97,f:102};function ev(t){if(t>=$r._0&&t<=$r._9)return t-$r._0;if(t>=$r.A&&t<=$r.F)return t-($r.A-10);if(t>=$r.a&&t<=$r.f)return t-($r.a-10)}function eu(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(zb)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=ev(t.charCodeAt(s)),a=ev(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function hs(t){return $b(_o(t))}function Ca(t){return K0(t),$b(_o(Uint8Array.from(t).reverse()))}function ul(t,e){return eu(t.toString(16).padStart(e*2,"0"))}function tu(t,e){return ul(t,e).reverse()}function gt(t,e,n){let r;if(typeof e=="string")try{r=eu(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(cl(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function ko(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];K0(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const vh=t=>typeof t=="bigint"&&H0<=t;function V0(t,e,n){return vh(t)&&vh(e)&&vh(n)&&e<=t&&t<n}function fr(t,e,n,r){if(!V0(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function nO(t){let e;for(e=0;t>H0;t>>=fp,e+=1);return e}const qu=t=>(fp<<BigInt(t))-fp,wh=t=>new Uint8Array(t),tv=t=>Uint8Array.from(t);function rO(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=wh(t),i=wh(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),l=(h=wh(0))=>{i=a(tv([0]),h),r=a(),h.length!==0&&(i=a(tv([1]),h),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const m=[];for(;h<e;){r=a();const v=r.slice();m.push(v),h+=r.length}return ko(...m)};return(h,m)=>{o(),l(h);let v;for(;!(v=m(c()));)l();return o(),v}}const iO={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||cl(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function dl(t,e,n={}){const r=(i,s,o)=>{const a=iO[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function nu(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const An=BigInt(0),tn=BigInt(1),cs=BigInt(2),sO=BigInt(3),qb=BigInt(4),Wb=BigInt(5),Hb=BigInt(8);function et(t,e){const n=t%e;return n>=An?n:e+n}function dt(t,e,n){let r=t;for(;e-- >An;)r*=r,r%=n;return r}function pp(t,e){if(t===An)throw new Error("invert: expected non-zero number");if(e<=An)throw new Error("invert: expected positive modulus, got "+e);let n=et(t,e),r=e,i=An,s=tn;for(;n!==An;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==tn)throw new Error("invert: does not exist");return et(i,e)}function Kb(t,e){const n=(t.ORDER+tn)/qb,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function oO(t,e){const n=(t.ORDER-Wb)/Hb,r=t.mul(e,cs),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,cs),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function aO(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-tn,n=0;for(;e%cs===An;)e/=cs,n++;let r=cs;const i=hl(t);for(;nv(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Kb;let s=i.pow(r,e);const o=(e+tn)/cs;return function(l,c){if(l.is0(c))return c;if(nv(l,c)!==1)throw new Error("Cannot find square root");let u=n,h=l.mul(l.ONE,s),m=l.pow(c,e),v=l.pow(c,o);for(;!l.eql(m,l.ONE);){if(l.is0(m))return l.ZERO;let b=1,x=l.sqr(m);for(;!l.eql(x,l.ONE);)if(b++,x=l.sqr(x),b===u)throw new Error("Cannot find square root");const j=tn<<BigInt(u-b-1),k=l.pow(h,j);u=b,h=l.sqr(k),m=l.mul(m,h),v=l.mul(v,k)}return v}}function lO(t){return t%qb===sO?Kb:t%Hb===Wb?oO:aO(t)}const cO=(t,e)=>(et(t,e)&tn)===tn,uO=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function dO(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=uO.reduce((r,i)=>(r[i]="function",r),e);return dl(t,n)}function hO(t,e,n){if(n<An)throw new Error("invalid exponent, negatives unsupported");if(n===An)return t.ONE;if(n===tn)return e;let r=t.ONE,i=e;for(;n>An;)n&tn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=tn;return r}function G0(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),s),r}function nv(t,e){const n=(t.ORDER-tn)/cs,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Vb(t,e){e!==void 0&&hp(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function hl(t,e,n=!1,r={}){if(t<=An)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Vb(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:qu(i),ZERO:An,ONE:tn,create:l=>et(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return An<=l&&l<t},is0:l=>l===An,isOdd:l=>(l&tn)===tn,neg:l=>et(-l,t),eql:(l,c)=>l===c,sqr:l=>et(l*l,t),add:(l,c)=>et(l+c,t),sub:(l,c)=>et(l-c,t),mul:(l,c)=>et(l*c,t),pow:(l,c)=>hO(a,l,c),div:(l,c)=>et(l*pp(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>pp(l,t),sqrt:r.sqrt||(l=>(o||(o=lO(t)),o(a,l))),toBytes:l=>n?tu(l,s):ul(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?Ca(l):hs(l)},invertBatch:l=>G0(a,l),cmov:(l,c,u)=>u?c:l});return Object.freeze(a)}function Gb(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Yb(t){const e=Gb(t);return e+Math.ceil(e/2)}function fO(t,e,n=!1){const r=t.length,i=Gb(e),s=Yb(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Ca(t):hs(t),a=et(o,e-tn)+tn;return n?tu(a,i):ul(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rv=BigInt(0),mp=BigInt(1);function xh(t,e){const n=e.negate();return t?n:e}function Qb(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function bh(t,e){Qb(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=qu(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function iv(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),l=t>>o;a>r&&(a-=s,l+=mp);const c=e*r,u=c+Math.abs(a)-1,h=a===0,m=a<0,v=e%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:m,isNegF:v,offsetF:c}}function pO(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function mO(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const _h=new WeakMap,Jb=new WeakMap;function kh(t){return Jb.get(t)||1}function Zb(t,e){return{constTimeNegate:xh,hasPrecomputes(n){return kh(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>rv;)r&mp&&(i=i.add(s)),s=s.double(),r>>=mp;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=bh(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=bh(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:h,isNeg:m,isNegF:v,offsetF:b}=iv(i,l,a);i=c,h?o=o.add(xh(v,r[b])):s=s.add(xh(m,r[u]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=bh(n,e);for(let a=0;a<o.windows&&i!==rv;a++){const{nextN:l,offset:c,isZero:u,isNeg:h}=iv(i,a,o);if(i=l,!u){const m=r[c];s=s.add(h?m.negate():m)}}return s},getPrecomputes(n,r,i){let s=_h.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&_h.set(r,i(s))),s},wNAFCached(n,r,i){const s=kh(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=kh(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Qb(r,e),Jb.set(n,r),_h.delete(n)}}}function Xb(t,e,n,r){pO(n,t),mO(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=nO(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=qu(l),u=new Array(Number(c)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let m=o;for(let v=h;v>=0;v-=l){u.fill(o);for(let x=0;x<s;x++){const j=r[x],k=Number(j>>BigInt(v)&c);u[k]=u[k].add(n[x])}let b=o;for(let x=u.length-1,j=o;x>0;x--)j=j.add(u[x]),b=b.add(j);if(m=m.add(b),v!==0)for(let x=0;x<l;x++)m=m.double()}return m}function Y0(t){return dO(t.Fp),dl(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Vb(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sr=BigInt(0),pn=BigInt(1),sv=BigInt(2),gO=BigInt(8),yO={zip215:!0};function vO(t){const e=Y0(t);return dl(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function wO(t){const e=vO(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=sv<<BigInt(a*8)-pn,u=n.create,h=hl(e.n,e.nBitLength);function m(S,A){const O=n.sqr(S),N=n.sqr(A),p=n.add(n.mul(e.a,O),N),P=n.add(n.ONE,n.mul(e.d,n.mul(O,N)));return n.eql(p,P)}if(!m(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const v=e.uvRatio||((S,A)=>{try{return{isValid:!0,value:n.sqrt(S*n.inv(A))}}catch{return{isValid:!1,value:Sr}}}),b=e.adjustScalarBytes||(S=>S),x=e.domain||((S,A,O)=>{if(Pi("phflag",O),A.length||O)throw new Error("Contexts/pre-hash are not supported");return S});function j(S,A,O=!1){const N=O?pn:Sr;fr("coordinate "+S,A,N,c)}function k(S){if(!(S instanceof R))throw new Error("ExtendedPoint expected")}const _=nu((S,A)=>{const{ex:O,ey:N,ez:p}=S,P=S.is0();A==null&&(A=P?gO:n.inv(p));const ne=u(O*A),re=u(N*A),se=u(p*A);if(P)return{x:Sr,y:pn};if(se!==pn)throw new Error("invZ was invalid");return{x:ne,y:re}}),C=nu(S=>{const{a:A,d:O}=e;if(S.is0())throw new Error("bad point: ZERO");const{ex:N,ey:p,ez:P,et:ne}=S,re=u(N*N),se=u(p*p),me=u(P*P),ge=u(me*me),q=u(re*A),D=u(me*u(q+se)),Q=u(ge+u(O*u(re*se)));if(D!==Q)throw new Error("bad point: equation left != right (1)");const Y=u(N*p),Z=u(P*ne);if(Y!==Z)throw new Error("bad point: equation left != right (2)");return!0});class R{constructor(A,O,N,p){j("x",A),j("y",O),j("z",N,!0),j("t",p),this.ex=A,this.ey=O,this.ez=N,this.et=p,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(A){if(A instanceof R)throw new Error("extended point not allowed");const{x:O,y:N}=A||{};return j("x",O),j("y",N),new R(O,N,pn,u(O*N))}static normalizeZ(A){const O=G0(n,A.map(N=>N.ez));return A.map((N,p)=>N.toAffine(O[p])).map(R.fromAffine)}static msm(A,O){return Xb(R,h,A,O)}_setWindowSize(A){$.setWindowSize(this,A)}assertValidity(){C(this)}equals(A){k(A);const{ex:O,ey:N,ez:p}=this,{ex:P,ey:ne,ez:re}=A,se=u(O*re),me=u(P*p),ge=u(N*re),q=u(ne*p);return se===me&&ge===q}is0(){return this.equals(R.ZERO)}negate(){return new R(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:A}=e,{ex:O,ey:N,ez:p}=this,P=u(O*O),ne=u(N*N),re=u(sv*u(p*p)),se=u(A*P),me=O+N,ge=u(u(me*me)-P-ne),q=se+ne,D=q-re,Q=se-ne,Y=u(ge*D),Z=u(q*Q),ae=u(ge*Q),de=u(D*q);return new R(Y,Z,de,ae)}add(A){k(A);const{a:O,d:N}=e,{ex:p,ey:P,ez:ne,et:re}=this,{ex:se,ey:me,ez:ge,et:q}=A,D=u(p*se),Q=u(P*me),Y=u(re*N*q),Z=u(ne*ge),ae=u((p+P)*(se+me)-D-Q),de=Z-Y,$e=Z+Y,Se=u(Q-O*D),Re=u(ae*de),ir=u($e*Se),Ke=u(ae*Se),ze=u(de*$e);return new R(Re,ir,ze,Ke)}subtract(A){return this.add(A.negate())}wNAF(A){return $.wNAFCached(this,A,R.normalizeZ)}multiply(A){const O=A;fr("scalar",O,pn,r);const{p:N,f:p}=this.wNAF(O);return R.normalizeZ([N,p])[0]}multiplyUnsafe(A,O=R.ZERO){const N=A;return fr("scalar",N,Sr,r),N===Sr?L:this.is0()||N===pn?this:$.wNAFCachedUnsafe(this,N,R.normalizeZ,O)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return $.unsafeLadder(this,r).is0()}toAffine(A){return _(this,A)}clearCofactor(){const{h:A}=e;return A===pn?this:this.multiplyUnsafe(A)}static fromHex(A,O=!1){const{d:N,a:p}=e,P=n.BYTES;A=gt("pointHex",A,P),Pi("zip215",O);const ne=A.slice(),re=A[P-1];ne[P-1]=re&-129;const se=Ca(ne),me=O?c:n.ORDER;fr("pointHex.y",se,Sr,me);const ge=u(se*se),q=u(ge-pn),D=u(N*ge-p);let{isValid:Q,value:Y}=v(q,D);if(!Q)throw new Error("Point.fromHex: invalid y coordinate");const Z=(Y&pn)===pn,ae=(re&128)!==0;if(!O&&Y===Sr&&ae)throw new Error("Point.fromHex: x=0 and x_0=1");return ae!==Z&&(Y=u(-Y)),R.fromAffine({x:Y,y:se})}static fromPrivateKey(A){const{scalar:O}=V(A);return F.multiply(O)}toRawBytes(){const{x:A,y:O}=this.toAffine(),N=tu(O,n.BYTES);return N[N.length-1]|=A&pn?128:0,N}toHex(){return _o(this.toRawBytes())}}R.BASE=new R(e.Gx,e.Gy,pn,u(e.Gx*e.Gy)),R.ZERO=new R(Sr,pn,pn,Sr);const{BASE:F,ZERO:L}=R,$=Zb(R,a*8);function K(S){return et(S,r)}function ee(S){return K(Ca(S))}function V(S){const A=n.BYTES;S=gt("private key",S,A);const O=gt("hashed private key",s(S),2*A),N=b(O.slice(0,A)),p=O.slice(A,2*A),P=ee(N);return{head:N,prefix:p,scalar:P}}function X(S){const{head:A,prefix:O,scalar:N}=V(S),p=F.multiply(N),P=p.toRawBytes();return{head:A,prefix:O,scalar:N,point:p,pointBytes:P}}function le(S){return X(S).pointBytes}function M(S=Uint8Array.of(),...A){const O=ko(...A);return ee(s(x(O,gt("context",S),!!i)))}function f(S,A,O={}){S=gt("message",S),i&&(S=i(S));const{prefix:N,scalar:p,pointBytes:P}=X(A),ne=M(O.context,N,S),re=F.multiply(ne).toRawBytes(),se=M(O.context,re,P,S),me=K(ne+se*p);fr("signature.s",me,Sr,r);const ge=ko(re,tu(me,n.BYTES));return gt("result",ge,n.BYTES*2)}const w=yO;function E(S,A,O,N=w){const{context:p,zip215:P}=N,ne=n.BYTES;S=gt("signature",S,2*ne),A=gt("message",A),O=gt("publicKey",O,ne),P!==void 0&&Pi("zip215",P),i&&(A=i(A));const re=Ca(S.slice(ne,2*ne));let se,me,ge;try{se=R.fromHex(O,P),me=R.fromHex(S.slice(0,ne),P),ge=F.multiplyUnsafe(re)}catch{return!1}if(!P&&se.isSmallOrder())return!1;const q=M(p,me.toRawBytes(),se.toRawBytes(),A);return me.add(se.multiplyUnsafe(q)).subtract(ge).clearCofactor().equals(R.ZERO)}return F._setWindowSize(8),{CURVE:e,getPublicKey:le,sign:f,verify:E,ExtendedPoint:R,utils:{getExtendedPublicKey:X,randomPrivateKey:()=>o(n.BYTES),precompute(S=8,A=R.BASE){return A._setWindowSize(S),A.multiply(BigInt(3)),A}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Q0=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ov=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const xO=BigInt(1),av=BigInt(2);BigInt(3);const bO=BigInt(5),_O=BigInt(8);function kO(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Q0,a=t*t%s*t%s,l=dt(a,av,s)*a%s,c=dt(l,xO,s)*t%s,u=dt(c,bO,s)*c%s,h=dt(u,e,s)*u%s,m=dt(h,n,s)*h%s,v=dt(m,r,s)*m%s,b=dt(v,i,s)*v%s,x=dt(b,i,s)*v%s,j=dt(x,e,s)*u%s;return{pow_p_5_8:dt(j,av,s)*t%s,b2:a}}function SO(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function EO(t,e){const n=Q0,r=et(e*e*e,n),i=et(r*r*e,n),s=kO(t*i).pow_p_5_8;let o=et(t*r*s,n);const a=et(e*o*o,n),l=o,c=et(o*ov,n),u=a===t,h=a===et(-t,n),m=a===et(-t*ov,n);return u&&(o=l),(h||m)&&(o=c),cO(o,n)&&(o=et(-o,n)),{isValid:u||h,value:o}}const lv=hl(Q0,void 0,!0),CO={a:lv.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:lv,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:_O,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:eO,randomBytes:Lb,adjustScalarBytes:SO,uvRatio:EO},J0=wO(CO);var Z0={exports:{}};const NO={},IO=Object.freeze(Object.defineProperty({__proto__:null,default:NO},Symbol.toStringTag,{value:"Module"})),AO=hu(IO);Z0.exports;(function(t){(function(e,n){function r(M,f){if(!M)throw new Error(f||"Assertion failed")}function i(M,f){M.super_=f;var w=function(){};w.prototype=f.prototype,M.prototype=new w,M.prototype.constructor=M}function s(M,f,w){if(s.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((f==="le"||f==="be")&&(w=f,f=10),this._init(M||0,f||10,w||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=AO.Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,w){return f.cmp(w)>0?f:w},s.min=function(f,w){return f.cmp(w)<0?f:w},s.prototype._init=function(f,w,E){if(typeof f=="number")return this._initNumber(f,w,E);if(typeof f=="object")return this._initArray(f,w,E);w==="hex"&&(w=16),r(w===(w|0)&&w>=2&&w<=36),f=f.toString().replace(/\s+/g,"");var I=0;f[0]==="-"&&(I++,this.negative=1),I<f.length&&(w===16?this._parseHex(f,I,E):(this._parseBase(f,w,I),E==="le"&&this._initArray(this.toArray(),w,E)))},s.prototype._initNumber=function(f,w,E){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),w,E)},s.prototype._initArray=function(f,w,E){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var S,A,O=0;if(E==="be")for(I=f.length-1,S=0;I>=0;I-=3)A=f[I]|f[I-1]<<8|f[I-2]<<16,this.words[S]|=A<<O&67108863,this.words[S+1]=A>>>26-O&67108863,O+=24,O>=26&&(O-=26,S++);else if(E==="le")for(I=0,S=0;I<f.length;I+=3)A=f[I]|f[I+1]<<8|f[I+2]<<16,this.words[S]|=A<<O&67108863,this.words[S+1]=A>>>26-O&67108863,O+=24,O>=26&&(O-=26,S++);return this._strip()};function a(M,f){var w=M.charCodeAt(f);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;r(!1,"Invalid character in "+M)}function l(M,f,w){var E=a(M,w);return w-1>=f&&(E|=a(M,w-1)<<4),E}s.prototype._parseHex=function(f,w,E){this.length=Math.ceil((f.length-w)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var S=0,A=0,O;if(E==="be")for(I=f.length-1;I>=w;I-=2)O=l(f,w,I)<<S,this.words[A]|=O&67108863,S>=18?(S-=18,A+=1,this.words[A]|=O>>>26):S+=8;else{var N=f.length-w;for(I=N%2===0?w+1:w;I<f.length;I+=2)O=l(f,w,I)<<S,this.words[A]|=O&67108863,S>=18?(S-=18,A+=1,this.words[A]|=O>>>26):S+=8}this._strip()};function c(M,f,w,E){for(var I=0,S=0,A=Math.min(M.length,w),O=f;O<A;O++){var N=M.charCodeAt(O)-48;I*=E,N>=49?S=N-49+10:N>=17?S=N-17+10:S=N,r(N>=0&&S<E,"Invalid character"),I+=S}return I}s.prototype._parseBase=function(f,w,E){this.words=[0],this.length=1;for(var I=0,S=1;S<=67108863;S*=w)I++;I--,S=S/w|0;for(var A=f.length-E,O=A%I,N=Math.min(A,A-O)+E,p=0,P=E;P<N;P+=I)p=c(f,P,P+I,w),this.imuln(S),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(O!==0){var ne=1;for(p=c(f,P,f.length,w),P=0;P<O;P++)ne*=w;this.imuln(ne),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this._strip()},s.prototype.copy=function(f){f.words=new Array(this.length);for(var w=0;w<this.length;w++)f.words[w]=this.words[w];f.length=this.length,f.negative=this.negative,f.red=this.red};function u(M,f){M.words=f.words,M.length=f.length,M.negative=f.negative,M.red=f.red}if(s.prototype._move=function(f){u(f,this)},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,w){f=f||10,w=w|0||1;var E;if(f===16||f==="hex"){E="";for(var I=0,S=0,A=0;A<this.length;A++){var O=this.words[A],N=((O<<I|S)&16777215).toString(16);S=O>>>24-I&16777215,I+=2,I>=26&&(I-=26,A--),S!==0||A!==this.length-1?E=m[6-N.length]+N+E:E=N+E}for(S!==0&&(E=S.toString(16)+E);E.length%w!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(f===(f|0)&&f>=2&&f<=36){var p=v[f],P=b[f];E="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var re=ne.modrn(P).toString(f);ne=ne.idivn(P),ne.isZero()?E=re+E:E=m[p-re.length]+re+E}for(this.isZero()&&(E="0"+E);E.length%w!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(f,w){return this.toArrayLike(o,f,w)}),s.prototype.toArray=function(f,w){return this.toArrayLike(Array,f,w)};var x=function(f,w){return f.allocUnsafe?f.allocUnsafe(w):new f(w)};s.prototype.toArrayLike=function(f,w,E){this._strip();var I=this.byteLength(),S=E||Math.max(1,I);r(I<=S,"byte array longer than desired length"),r(S>0,"Requested array length <= 0");var A=x(f,S),O=w==="le"?"LE":"BE";return this["_toArrayLike"+O](A,I),A},s.prototype._toArrayLikeLE=function(f,w){for(var E=0,I=0,S=0,A=0;S<this.length;S++){var O=this.words[S]<<A|I;f[E++]=O&255,E<f.length&&(f[E++]=O>>8&255),E<f.length&&(f[E++]=O>>16&255),A===6?(E<f.length&&(f[E++]=O>>24&255),I=0,A=0):(I=O>>>24,A+=2)}if(E<f.length)for(f[E++]=I;E<f.length;)f[E++]=0},s.prototype._toArrayLikeBE=function(f,w){for(var E=f.length-1,I=0,S=0,A=0;S<this.length;S++){var O=this.words[S]<<A|I;f[E--]=O&255,E>=0&&(f[E--]=O>>8&255),E>=0&&(f[E--]=O>>16&255),A===6?(E>=0&&(f[E--]=O>>24&255),I=0,A=0):(I=O>>>24,A+=2)}if(E>=0)for(f[E--]=I;E>=0;)f[E--]=0},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var w=f,E=0;return w>=4096&&(E+=13,w>>>=13),w>=64&&(E+=7,w>>>=7),w>=8&&(E+=4,w>>>=4),w>=2&&(E+=2,w>>>=2),E+w},s.prototype._zeroBits=function(f){if(f===0)return 26;var w=f,E=0;return w&8191||(E+=13,w>>>=13),w&127||(E+=7,w>>>=7),w&15||(E+=4,w>>>=4),w&3||(E+=2,w>>>=2),w&1||E++,E},s.prototype.bitLength=function(){var f=this.words[this.length-1],w=this._countBits(f);return(this.length-1)*26+w};function j(M){for(var f=new Array(M.bitLength()),w=0;w<f.length;w++){var E=w/26|0,I=w%26;f[w]=M.words[E]>>>I&1}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,w=0;w<this.length;w++){var E=this._zeroBits(this.words[w]);if(f+=E,E!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var w=0;w<f.length;w++)this.words[w]=this.words[w]|f.words[w];return this._strip()},s.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var w;this.length>f.length?w=f:w=this;for(var E=0;E<w.length;E++)this.words[E]=this.words[E]&f.words[E];return this.length=w.length,this._strip()},s.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var w,E;this.length>f.length?(w=this,E=f):(w=f,E=this);for(var I=0;I<E.length;I++)this.words[I]=w.words[I]^E.words[I];if(this!==w)for(;I<w.length;I++)this.words[I]=w.words[I];return this.length=w.length,this._strip()},s.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var w=Math.ceil(f/26)|0,E=f%26;this._expand(w),E>0&&w--;for(var I=0;I<w;I++)this.words[I]=~this.words[I]&67108863;return E>0&&(this.words[I]=~this.words[I]&67108863>>26-E),this._strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,w){r(typeof f=="number"&&f>=0);var E=f/26|0,I=f%26;return this._expand(E+1),w?this.words[E]=this.words[E]|1<<I:this.words[E]=this.words[E]&~(1<<I),this._strip()},s.prototype.iadd=function(f){var w;if(this.negative!==0&&f.negative===0)return this.negative=0,w=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,w=this.isub(f),f.negative=1,w._normSign();var E,I;this.length>f.length?(E=this,I=f):(E=f,I=this);for(var S=0,A=0;A<I.length;A++)w=(E.words[A]|0)+(I.words[A]|0)+S,this.words[A]=w&67108863,S=w>>>26;for(;S!==0&&A<E.length;A++)w=(E.words[A]|0)+S,this.words[A]=w&67108863,S=w>>>26;if(this.length=E.length,S!==0)this.words[this.length]=S,this.length++;else if(E!==this)for(;A<E.length;A++)this.words[A]=E.words[A];return this},s.prototype.add=function(f){var w;return f.negative!==0&&this.negative===0?(f.negative=0,w=this.sub(f),f.negative^=1,w):f.negative===0&&this.negative!==0?(this.negative=0,w=f.sub(this),this.negative=1,w):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var w=this.iadd(f);return f.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var E=this.cmp(f);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,S;E>0?(I=this,S=f):(I=f,S=this);for(var A=0,O=0;O<S.length;O++)w=(I.words[O]|0)-(S.words[O]|0)+A,A=w>>26,this.words[O]=w&67108863;for(;A!==0&&O<I.length;O++)w=(I.words[O]|0)+A,A=w>>26,this.words[O]=w&67108863;if(A===0&&O<I.length&&I!==this)for(;O<I.length;O++)this.words[O]=I.words[O];return this.length=Math.max(this.length,O),I!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function k(M,f,w){w.negative=f.negative^M.negative;var E=M.length+f.length|0;w.length=E,E=E-1|0;var I=M.words[0]|0,S=f.words[0]|0,A=I*S,O=A&67108863,N=A/67108864|0;w.words[0]=O;for(var p=1;p<E;p++){for(var P=N>>>26,ne=N&67108863,re=Math.min(p,f.length-1),se=Math.max(0,p-M.length+1);se<=re;se++){var me=p-se|0;I=M.words[me]|0,S=f.words[se]|0,A=I*S+ne,P+=A/67108864|0,ne=A&67108863}w.words[p]=ne|0,N=P|0}return N!==0?w.words[p]=N|0:w.length--,w._strip()}var _=function(f,w,E){var I=f.words,S=w.words,A=E.words,O=0,N,p,P,ne=I[0]|0,re=ne&8191,se=ne>>>13,me=I[1]|0,ge=me&8191,q=me>>>13,D=I[2]|0,Q=D&8191,Y=D>>>13,Z=I[3]|0,ae=Z&8191,de=Z>>>13,$e=I[4]|0,Se=$e&8191,Re=$e>>>13,ir=I[5]|0,Ke=ir&8191,ze=ir>>>13,je=I[6]|0,be=je&8191,ct=je>>>13,sr=I[7]|0,ut=sr&8191,T=sr>>>13,g=I[8]|0,y=g&8191,B=g>>>13,z=I[9]|0,W=z&8191,J=z>>>13,Ie=S[0]|0,Ee=Ie&8191,ke=Ie>>>13,Qe=S[1]|0,_e=Qe&8191,wt=Qe>>>13,bm=S[2]|0,xt=bm&8191,bt=bm>>>13,_m=S[3]|0,_t=_m&8191,kt=_m>>>13,km=S[4]|0,St=km&8191,Et=km>>>13,Sm=S[5]|0,Ct=Sm&8191,Nt=Sm>>>13,Em=S[6]|0,It=Em&8191,At=Em>>>13,Cm=S[7]|0,Tt=Cm&8191,Rt=Cm>>>13,Nm=S[8]|0,jt=Nm&8191,Ot=Nm>>>13,Im=S[9]|0,Pt=Im&8191,Mt=Im>>>13;E.negative=f.negative^w.negative,E.length=19,N=Math.imul(re,Ee),p=Math.imul(re,ke),p=p+Math.imul(se,Ee)|0,P=Math.imul(se,ke);var id=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(id>>>26)|0,id&=67108863,N=Math.imul(ge,Ee),p=Math.imul(ge,ke),p=p+Math.imul(q,Ee)|0,P=Math.imul(q,ke),N=N+Math.imul(re,_e)|0,p=p+Math.imul(re,wt)|0,p=p+Math.imul(se,_e)|0,P=P+Math.imul(se,wt)|0;var sd=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(sd>>>26)|0,sd&=67108863,N=Math.imul(Q,Ee),p=Math.imul(Q,ke),p=p+Math.imul(Y,Ee)|0,P=Math.imul(Y,ke),N=N+Math.imul(ge,_e)|0,p=p+Math.imul(ge,wt)|0,p=p+Math.imul(q,_e)|0,P=P+Math.imul(q,wt)|0,N=N+Math.imul(re,xt)|0,p=p+Math.imul(re,bt)|0,p=p+Math.imul(se,xt)|0,P=P+Math.imul(se,bt)|0;var od=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(od>>>26)|0,od&=67108863,N=Math.imul(ae,Ee),p=Math.imul(ae,ke),p=p+Math.imul(de,Ee)|0,P=Math.imul(de,ke),N=N+Math.imul(Q,_e)|0,p=p+Math.imul(Q,wt)|0,p=p+Math.imul(Y,_e)|0,P=P+Math.imul(Y,wt)|0,N=N+Math.imul(ge,xt)|0,p=p+Math.imul(ge,bt)|0,p=p+Math.imul(q,xt)|0,P=P+Math.imul(q,bt)|0,N=N+Math.imul(re,_t)|0,p=p+Math.imul(re,kt)|0,p=p+Math.imul(se,_t)|0,P=P+Math.imul(se,kt)|0;var ad=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(ad>>>26)|0,ad&=67108863,N=Math.imul(Se,Ee),p=Math.imul(Se,ke),p=p+Math.imul(Re,Ee)|0,P=Math.imul(Re,ke),N=N+Math.imul(ae,_e)|0,p=p+Math.imul(ae,wt)|0,p=p+Math.imul(de,_e)|0,P=P+Math.imul(de,wt)|0,N=N+Math.imul(Q,xt)|0,p=p+Math.imul(Q,bt)|0,p=p+Math.imul(Y,xt)|0,P=P+Math.imul(Y,bt)|0,N=N+Math.imul(ge,_t)|0,p=p+Math.imul(ge,kt)|0,p=p+Math.imul(q,_t)|0,P=P+Math.imul(q,kt)|0,N=N+Math.imul(re,St)|0,p=p+Math.imul(re,Et)|0,p=p+Math.imul(se,St)|0,P=P+Math.imul(se,Et)|0;var ld=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(ld>>>26)|0,ld&=67108863,N=Math.imul(Ke,Ee),p=Math.imul(Ke,ke),p=p+Math.imul(ze,Ee)|0,P=Math.imul(ze,ke),N=N+Math.imul(Se,_e)|0,p=p+Math.imul(Se,wt)|0,p=p+Math.imul(Re,_e)|0,P=P+Math.imul(Re,wt)|0,N=N+Math.imul(ae,xt)|0,p=p+Math.imul(ae,bt)|0,p=p+Math.imul(de,xt)|0,P=P+Math.imul(de,bt)|0,N=N+Math.imul(Q,_t)|0,p=p+Math.imul(Q,kt)|0,p=p+Math.imul(Y,_t)|0,P=P+Math.imul(Y,kt)|0,N=N+Math.imul(ge,St)|0,p=p+Math.imul(ge,Et)|0,p=p+Math.imul(q,St)|0,P=P+Math.imul(q,Et)|0,N=N+Math.imul(re,Ct)|0,p=p+Math.imul(re,Nt)|0,p=p+Math.imul(se,Ct)|0,P=P+Math.imul(se,Nt)|0;var cd=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(cd>>>26)|0,cd&=67108863,N=Math.imul(be,Ee),p=Math.imul(be,ke),p=p+Math.imul(ct,Ee)|0,P=Math.imul(ct,ke),N=N+Math.imul(Ke,_e)|0,p=p+Math.imul(Ke,wt)|0,p=p+Math.imul(ze,_e)|0,P=P+Math.imul(ze,wt)|0,N=N+Math.imul(Se,xt)|0,p=p+Math.imul(Se,bt)|0,p=p+Math.imul(Re,xt)|0,P=P+Math.imul(Re,bt)|0,N=N+Math.imul(ae,_t)|0,p=p+Math.imul(ae,kt)|0,p=p+Math.imul(de,_t)|0,P=P+Math.imul(de,kt)|0,N=N+Math.imul(Q,St)|0,p=p+Math.imul(Q,Et)|0,p=p+Math.imul(Y,St)|0,P=P+Math.imul(Y,Et)|0,N=N+Math.imul(ge,Ct)|0,p=p+Math.imul(ge,Nt)|0,p=p+Math.imul(q,Ct)|0,P=P+Math.imul(q,Nt)|0,N=N+Math.imul(re,It)|0,p=p+Math.imul(re,At)|0,p=p+Math.imul(se,It)|0,P=P+Math.imul(se,At)|0;var ud=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(ud>>>26)|0,ud&=67108863,N=Math.imul(ut,Ee),p=Math.imul(ut,ke),p=p+Math.imul(T,Ee)|0,P=Math.imul(T,ke),N=N+Math.imul(be,_e)|0,p=p+Math.imul(be,wt)|0,p=p+Math.imul(ct,_e)|0,P=P+Math.imul(ct,wt)|0,N=N+Math.imul(Ke,xt)|0,p=p+Math.imul(Ke,bt)|0,p=p+Math.imul(ze,xt)|0,P=P+Math.imul(ze,bt)|0,N=N+Math.imul(Se,_t)|0,p=p+Math.imul(Se,kt)|0,p=p+Math.imul(Re,_t)|0,P=P+Math.imul(Re,kt)|0,N=N+Math.imul(ae,St)|0,p=p+Math.imul(ae,Et)|0,p=p+Math.imul(de,St)|0,P=P+Math.imul(de,Et)|0,N=N+Math.imul(Q,Ct)|0,p=p+Math.imul(Q,Nt)|0,p=p+Math.imul(Y,Ct)|0,P=P+Math.imul(Y,Nt)|0,N=N+Math.imul(ge,It)|0,p=p+Math.imul(ge,At)|0,p=p+Math.imul(q,It)|0,P=P+Math.imul(q,At)|0,N=N+Math.imul(re,Tt)|0,p=p+Math.imul(re,Rt)|0,p=p+Math.imul(se,Tt)|0,P=P+Math.imul(se,Rt)|0;var dd=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(dd>>>26)|0,dd&=67108863,N=Math.imul(y,Ee),p=Math.imul(y,ke),p=p+Math.imul(B,Ee)|0,P=Math.imul(B,ke),N=N+Math.imul(ut,_e)|0,p=p+Math.imul(ut,wt)|0,p=p+Math.imul(T,_e)|0,P=P+Math.imul(T,wt)|0,N=N+Math.imul(be,xt)|0,p=p+Math.imul(be,bt)|0,p=p+Math.imul(ct,xt)|0,P=P+Math.imul(ct,bt)|0,N=N+Math.imul(Ke,_t)|0,p=p+Math.imul(Ke,kt)|0,p=p+Math.imul(ze,_t)|0,P=P+Math.imul(ze,kt)|0,N=N+Math.imul(Se,St)|0,p=p+Math.imul(Se,Et)|0,p=p+Math.imul(Re,St)|0,P=P+Math.imul(Re,Et)|0,N=N+Math.imul(ae,Ct)|0,p=p+Math.imul(ae,Nt)|0,p=p+Math.imul(de,Ct)|0,P=P+Math.imul(de,Nt)|0,N=N+Math.imul(Q,It)|0,p=p+Math.imul(Q,At)|0,p=p+Math.imul(Y,It)|0,P=P+Math.imul(Y,At)|0,N=N+Math.imul(ge,Tt)|0,p=p+Math.imul(ge,Rt)|0,p=p+Math.imul(q,Tt)|0,P=P+Math.imul(q,Rt)|0,N=N+Math.imul(re,jt)|0,p=p+Math.imul(re,Ot)|0,p=p+Math.imul(se,jt)|0,P=P+Math.imul(se,Ot)|0;var hd=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(hd>>>26)|0,hd&=67108863,N=Math.imul(W,Ee),p=Math.imul(W,ke),p=p+Math.imul(J,Ee)|0,P=Math.imul(J,ke),N=N+Math.imul(y,_e)|0,p=p+Math.imul(y,wt)|0,p=p+Math.imul(B,_e)|0,P=P+Math.imul(B,wt)|0,N=N+Math.imul(ut,xt)|0,p=p+Math.imul(ut,bt)|0,p=p+Math.imul(T,xt)|0,P=P+Math.imul(T,bt)|0,N=N+Math.imul(be,_t)|0,p=p+Math.imul(be,kt)|0,p=p+Math.imul(ct,_t)|0,P=P+Math.imul(ct,kt)|0,N=N+Math.imul(Ke,St)|0,p=p+Math.imul(Ke,Et)|0,p=p+Math.imul(ze,St)|0,P=P+Math.imul(ze,Et)|0,N=N+Math.imul(Se,Ct)|0,p=p+Math.imul(Se,Nt)|0,p=p+Math.imul(Re,Ct)|0,P=P+Math.imul(Re,Nt)|0,N=N+Math.imul(ae,It)|0,p=p+Math.imul(ae,At)|0,p=p+Math.imul(de,It)|0,P=P+Math.imul(de,At)|0,N=N+Math.imul(Q,Tt)|0,p=p+Math.imul(Q,Rt)|0,p=p+Math.imul(Y,Tt)|0,P=P+Math.imul(Y,Rt)|0,N=N+Math.imul(ge,jt)|0,p=p+Math.imul(ge,Ot)|0,p=p+Math.imul(q,jt)|0,P=P+Math.imul(q,Ot)|0,N=N+Math.imul(re,Pt)|0,p=p+Math.imul(re,Mt)|0,p=p+Math.imul(se,Pt)|0,P=P+Math.imul(se,Mt)|0;var fd=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(fd>>>26)|0,fd&=67108863,N=Math.imul(W,_e),p=Math.imul(W,wt),p=p+Math.imul(J,_e)|0,P=Math.imul(J,wt),N=N+Math.imul(y,xt)|0,p=p+Math.imul(y,bt)|0,p=p+Math.imul(B,xt)|0,P=P+Math.imul(B,bt)|0,N=N+Math.imul(ut,_t)|0,p=p+Math.imul(ut,kt)|0,p=p+Math.imul(T,_t)|0,P=P+Math.imul(T,kt)|0,N=N+Math.imul(be,St)|0,p=p+Math.imul(be,Et)|0,p=p+Math.imul(ct,St)|0,P=P+Math.imul(ct,Et)|0,N=N+Math.imul(Ke,Ct)|0,p=p+Math.imul(Ke,Nt)|0,p=p+Math.imul(ze,Ct)|0,P=P+Math.imul(ze,Nt)|0,N=N+Math.imul(Se,It)|0,p=p+Math.imul(Se,At)|0,p=p+Math.imul(Re,It)|0,P=P+Math.imul(Re,At)|0,N=N+Math.imul(ae,Tt)|0,p=p+Math.imul(ae,Rt)|0,p=p+Math.imul(de,Tt)|0,P=P+Math.imul(de,Rt)|0,N=N+Math.imul(Q,jt)|0,p=p+Math.imul(Q,Ot)|0,p=p+Math.imul(Y,jt)|0,P=P+Math.imul(Y,Ot)|0,N=N+Math.imul(ge,Pt)|0,p=p+Math.imul(ge,Mt)|0,p=p+Math.imul(q,Pt)|0,P=P+Math.imul(q,Mt)|0;var pd=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(pd>>>26)|0,pd&=67108863,N=Math.imul(W,xt),p=Math.imul(W,bt),p=p+Math.imul(J,xt)|0,P=Math.imul(J,bt),N=N+Math.imul(y,_t)|0,p=p+Math.imul(y,kt)|0,p=p+Math.imul(B,_t)|0,P=P+Math.imul(B,kt)|0,N=N+Math.imul(ut,St)|0,p=p+Math.imul(ut,Et)|0,p=p+Math.imul(T,St)|0,P=P+Math.imul(T,Et)|0,N=N+Math.imul(be,Ct)|0,p=p+Math.imul(be,Nt)|0,p=p+Math.imul(ct,Ct)|0,P=P+Math.imul(ct,Nt)|0,N=N+Math.imul(Ke,It)|0,p=p+Math.imul(Ke,At)|0,p=p+Math.imul(ze,It)|0,P=P+Math.imul(ze,At)|0,N=N+Math.imul(Se,Tt)|0,p=p+Math.imul(Se,Rt)|0,p=p+Math.imul(Re,Tt)|0,P=P+Math.imul(Re,Rt)|0,N=N+Math.imul(ae,jt)|0,p=p+Math.imul(ae,Ot)|0,p=p+Math.imul(de,jt)|0,P=P+Math.imul(de,Ot)|0,N=N+Math.imul(Q,Pt)|0,p=p+Math.imul(Q,Mt)|0,p=p+Math.imul(Y,Pt)|0,P=P+Math.imul(Y,Mt)|0;var md=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(md>>>26)|0,md&=67108863,N=Math.imul(W,_t),p=Math.imul(W,kt),p=p+Math.imul(J,_t)|0,P=Math.imul(J,kt),N=N+Math.imul(y,St)|0,p=p+Math.imul(y,Et)|0,p=p+Math.imul(B,St)|0,P=P+Math.imul(B,Et)|0,N=N+Math.imul(ut,Ct)|0,p=p+Math.imul(ut,Nt)|0,p=p+Math.imul(T,Ct)|0,P=P+Math.imul(T,Nt)|0,N=N+Math.imul(be,It)|0,p=p+Math.imul(be,At)|0,p=p+Math.imul(ct,It)|0,P=P+Math.imul(ct,At)|0,N=N+Math.imul(Ke,Tt)|0,p=p+Math.imul(Ke,Rt)|0,p=p+Math.imul(ze,Tt)|0,P=P+Math.imul(ze,Rt)|0,N=N+Math.imul(Se,jt)|0,p=p+Math.imul(Se,Ot)|0,p=p+Math.imul(Re,jt)|0,P=P+Math.imul(Re,Ot)|0,N=N+Math.imul(ae,Pt)|0,p=p+Math.imul(ae,Mt)|0,p=p+Math.imul(de,Pt)|0,P=P+Math.imul(de,Mt)|0;var gd=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(gd>>>26)|0,gd&=67108863,N=Math.imul(W,St),p=Math.imul(W,Et),p=p+Math.imul(J,St)|0,P=Math.imul(J,Et),N=N+Math.imul(y,Ct)|0,p=p+Math.imul(y,Nt)|0,p=p+Math.imul(B,Ct)|0,P=P+Math.imul(B,Nt)|0,N=N+Math.imul(ut,It)|0,p=p+Math.imul(ut,At)|0,p=p+Math.imul(T,It)|0,P=P+Math.imul(T,At)|0,N=N+Math.imul(be,Tt)|0,p=p+Math.imul(be,Rt)|0,p=p+Math.imul(ct,Tt)|0,P=P+Math.imul(ct,Rt)|0,N=N+Math.imul(Ke,jt)|0,p=p+Math.imul(Ke,Ot)|0,p=p+Math.imul(ze,jt)|0,P=P+Math.imul(ze,Ot)|0,N=N+Math.imul(Se,Pt)|0,p=p+Math.imul(Se,Mt)|0,p=p+Math.imul(Re,Pt)|0,P=P+Math.imul(Re,Mt)|0;var yd=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(yd>>>26)|0,yd&=67108863,N=Math.imul(W,Ct),p=Math.imul(W,Nt),p=p+Math.imul(J,Ct)|0,P=Math.imul(J,Nt),N=N+Math.imul(y,It)|0,p=p+Math.imul(y,At)|0,p=p+Math.imul(B,It)|0,P=P+Math.imul(B,At)|0,N=N+Math.imul(ut,Tt)|0,p=p+Math.imul(ut,Rt)|0,p=p+Math.imul(T,Tt)|0,P=P+Math.imul(T,Rt)|0,N=N+Math.imul(be,jt)|0,p=p+Math.imul(be,Ot)|0,p=p+Math.imul(ct,jt)|0,P=P+Math.imul(ct,Ot)|0,N=N+Math.imul(Ke,Pt)|0,p=p+Math.imul(Ke,Mt)|0,p=p+Math.imul(ze,Pt)|0,P=P+Math.imul(ze,Mt)|0;var vd=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(vd>>>26)|0,vd&=67108863,N=Math.imul(W,It),p=Math.imul(W,At),p=p+Math.imul(J,It)|0,P=Math.imul(J,At),N=N+Math.imul(y,Tt)|0,p=p+Math.imul(y,Rt)|0,p=p+Math.imul(B,Tt)|0,P=P+Math.imul(B,Rt)|0,N=N+Math.imul(ut,jt)|0,p=p+Math.imul(ut,Ot)|0,p=p+Math.imul(T,jt)|0,P=P+Math.imul(T,Ot)|0,N=N+Math.imul(be,Pt)|0,p=p+Math.imul(be,Mt)|0,p=p+Math.imul(ct,Pt)|0,P=P+Math.imul(ct,Mt)|0;var wd=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(wd>>>26)|0,wd&=67108863,N=Math.imul(W,Tt),p=Math.imul(W,Rt),p=p+Math.imul(J,Tt)|0,P=Math.imul(J,Rt),N=N+Math.imul(y,jt)|0,p=p+Math.imul(y,Ot)|0,p=p+Math.imul(B,jt)|0,P=P+Math.imul(B,Ot)|0,N=N+Math.imul(ut,Pt)|0,p=p+Math.imul(ut,Mt)|0,p=p+Math.imul(T,Pt)|0,P=P+Math.imul(T,Mt)|0;var xd=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(xd>>>26)|0,xd&=67108863,N=Math.imul(W,jt),p=Math.imul(W,Ot),p=p+Math.imul(J,jt)|0,P=Math.imul(J,Ot),N=N+Math.imul(y,Pt)|0,p=p+Math.imul(y,Mt)|0,p=p+Math.imul(B,Pt)|0,P=P+Math.imul(B,Mt)|0;var bd=(O+N|0)+((p&8191)<<13)|0;O=(P+(p>>>13)|0)+(bd>>>26)|0,bd&=67108863,N=Math.imul(W,Pt),p=Math.imul(W,Mt),p=p+Math.imul(J,Pt)|0,P=Math.imul(J,Mt);var _d=(O+N|0)+((p&8191)<<13)|0;return O=(P+(p>>>13)|0)+(_d>>>26)|0,_d&=67108863,A[0]=id,A[1]=sd,A[2]=od,A[3]=ad,A[4]=ld,A[5]=cd,A[6]=ud,A[7]=dd,A[8]=hd,A[9]=fd,A[10]=pd,A[11]=md,A[12]=gd,A[13]=yd,A[14]=vd,A[15]=wd,A[16]=xd,A[17]=bd,A[18]=_d,O!==0&&(A[19]=O,E.length++),E};Math.imul||(_=k);function C(M,f,w){w.negative=f.negative^M.negative,w.length=M.length+f.length;for(var E=0,I=0,S=0;S<w.length-1;S++){var A=I;I=0;for(var O=E&67108863,N=Math.min(S,f.length-1),p=Math.max(0,S-M.length+1);p<=N;p++){var P=S-p,ne=M.words[P]|0,re=f.words[p]|0,se=ne*re,me=se&67108863;A=A+(se/67108864|0)|0,me=me+O|0,O=me&67108863,A=A+(me>>>26)|0,I+=A>>>26,A&=67108863}w.words[S]=O,E=A,A=I}return E!==0?w.words[S]=E:w.length--,w._strip()}function R(M,f,w){return C(M,f,w)}s.prototype.mulTo=function(f,w){var E,I=this.length+f.length;return this.length===10&&f.length===10?E=_(this,f,w):I<63?E=k(this,f,w):I<1024?E=C(this,f,w):E=R(this,f,w),E},s.prototype.mul=function(f){var w=new s(null);return w.words=new Array(this.length+f.length),this.mulTo(f,w)},s.prototype.mulf=function(f){var w=new s(null);return w.words=new Array(this.length+f.length),R(this,f,w)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){var w=f<0;w&&(f=-f),r(typeof f=="number"),r(f<67108864);for(var E=0,I=0;I<this.length;I++){var S=(this.words[I]|0)*f,A=(S&67108863)+(E&67108863);E>>=26,E+=S/67108864|0,E+=A>>>26,this.words[I]=A&67108863}return E!==0&&(this.words[I]=E,this.length++),this.length=f===0?1:this.length,w?this.ineg():this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var w=j(f);if(w.length===0)return new s(1);for(var E=this,I=0;I<w.length&&w[I]===0;I++,E=E.sqr());if(++I<w.length)for(var S=E.sqr();I<w.length;I++,S=S.sqr())w[I]!==0&&(E=E.mul(S));return E},s.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var w=f%26,E=(f-w)/26,I=67108863>>>26-w<<26-w,S;if(w!==0){var A=0;for(S=0;S<this.length;S++){var O=this.words[S]&I,N=(this.words[S]|0)-O<<w;this.words[S]=N|A,A=O>>>26-w}A&&(this.words[S]=A,this.length++)}if(E!==0){for(S=this.length-1;S>=0;S--)this.words[S+E]=this.words[S];for(S=0;S<E;S++)this.words[S]=0;this.length+=E}return this._strip()},s.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,w,E){r(typeof f=="number"&&f>=0);var I;w?I=(w-w%26)/26:I=0;var S=f%26,A=Math.min((f-S)/26,this.length),O=67108863^67108863>>>S<<S,N=E;if(I-=A,I=Math.max(0,I),N){for(var p=0;p<A;p++)N.words[p]=this.words[p];N.length=A}if(A!==0)if(this.length>A)for(this.length-=A,p=0;p<this.length;p++)this.words[p]=this.words[p+A];else this.words[0]=0,this.length=1;var P=0;for(p=this.length-1;p>=0&&(P!==0||p>=I);p--){var ne=this.words[p]|0;this.words[p]=P<<26-S|ne>>>S,P=ne&O}return N&&P!==0&&(N.words[N.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(f,w,E){return r(this.negative===0),this.iushrn(f,w,E)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var w=f%26,E=(f-w)/26,I=1<<w;if(this.length<=E)return!1;var S=this.words[E];return!!(S&I)},s.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var w=f%26,E=(f-w)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(w!==0&&E++,this.length=Math.min(E,this.length),w!==0){var I=67108863^67108863>>>w<<w;this.words[this.length-1]&=I}return this._strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},s.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,w,E){var I=f.length+E,S;this._expand(I);var A,O=0;for(S=0;S<f.length;S++){A=(this.words[S+E]|0)+O;var N=(f.words[S]|0)*w;A-=N&67108863,O=(A>>26)-(N/67108864|0),this.words[S+E]=A&67108863}for(;S<this.length-E;S++)A=(this.words[S+E]|0)+O,O=A>>26,this.words[S+E]=A&67108863;if(O===0)return this._strip();for(r(O===-1),O=0,S=0;S<this.length;S++)A=-(this.words[S]|0)+O,O=A>>26,this.words[S]=A&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(f,w){var E=this.length-f.length,I=this.clone(),S=f,A=S.words[S.length-1]|0,O=this._countBits(A);E=26-O,E!==0&&(S=S.ushln(E),I.iushln(E),A=S.words[S.length-1]|0);var N=I.length-S.length,p;if(w!=="mod"){p=new s(null),p.length=N+1,p.words=new Array(p.length);for(var P=0;P<p.length;P++)p.words[P]=0}var ne=I.clone()._ishlnsubmul(S,1,N);ne.negative===0&&(I=ne,p&&(p.words[N]=1));for(var re=N-1;re>=0;re--){var se=(I.words[S.length+re]|0)*67108864+(I.words[S.length+re-1]|0);for(se=Math.min(se/A|0,67108863),I._ishlnsubmul(S,se,re);I.negative!==0;)se--,I.negative=0,I._ishlnsubmul(S,1,re),I.isZero()||(I.negative^=1);p&&(p.words[re]=se)}return p&&p._strip(),I._strip(),w!=="div"&&E!==0&&I.iushrn(E),{div:p||null,mod:I}},s.prototype.divmod=function(f,w,E){if(r(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var I,S,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,w),w!=="mod"&&(I=A.div.neg()),w!=="div"&&(S=A.mod.neg(),E&&S.negative!==0&&S.iadd(f)),{div:I,mod:S}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),w),w!=="mod"&&(I=A.div.neg()),{div:I,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),w),w!=="div"&&(S=A.mod.neg(),E&&S.negative!==0&&S.isub(f)),{div:A.div,mod:S}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?w==="div"?{div:this.divn(f.words[0]),mod:null}:w==="mod"?{div:null,mod:new s(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modrn(f.words[0]))}:this._wordDiv(f,w)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var w=this.divmod(f);if(w.mod.isZero())return w.div;var E=w.div.negative!==0?w.mod.isub(f):w.mod,I=f.ushrn(1),S=f.andln(1),A=E.cmp(I);return A<0||S===1&&A===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},s.prototype.modrn=function(f){var w=f<0;w&&(f=-f),r(f<=67108863);for(var E=(1<<26)%f,I=0,S=this.length-1;S>=0;S--)I=(E*I+(this.words[S]|0))%f;return w?-I:I},s.prototype.modn=function(f){return this.modrn(f)},s.prototype.idivn=function(f){var w=f<0;w&&(f=-f),r(f<=67108863);for(var E=0,I=this.length-1;I>=0;I--){var S=(this.words[I]|0)+E*67108864;this.words[I]=S/f|0,E=S%f}return this._strip(),w?this.ineg():this},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var w=this,E=f.clone();w.negative!==0?w=w.umod(f):w=w.clone();for(var I=new s(1),S=new s(0),A=new s(0),O=new s(1),N=0;w.isEven()&&E.isEven();)w.iushrn(1),E.iushrn(1),++N;for(var p=E.clone(),P=w.clone();!w.isZero();){for(var ne=0,re=1;!(w.words[0]&re)&&ne<26;++ne,re<<=1);if(ne>0)for(w.iushrn(ne);ne-- >0;)(I.isOdd()||S.isOdd())&&(I.iadd(p),S.isub(P)),I.iushrn(1),S.iushrn(1);for(var se=0,me=1;!(E.words[0]&me)&&se<26;++se,me<<=1);if(se>0)for(E.iushrn(se);se-- >0;)(A.isOdd()||O.isOdd())&&(A.iadd(p),O.isub(P)),A.iushrn(1),O.iushrn(1);w.cmp(E)>=0?(w.isub(E),I.isub(A),S.isub(O)):(E.isub(w),A.isub(I),O.isub(S))}return{a:A,b:O,gcd:E.iushln(N)}},s.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var w=this,E=f.clone();w.negative!==0?w=w.umod(f):w=w.clone();for(var I=new s(1),S=new s(0),A=E.clone();w.cmpn(1)>0&&E.cmpn(1)>0;){for(var O=0,N=1;!(w.words[0]&N)&&O<26;++O,N<<=1);if(O>0)for(w.iushrn(O);O-- >0;)I.isOdd()&&I.iadd(A),I.iushrn(1);for(var p=0,P=1;!(E.words[0]&P)&&p<26;++p,P<<=1);if(p>0)for(E.iushrn(p);p-- >0;)S.isOdd()&&S.iadd(A),S.iushrn(1);w.cmp(E)>=0?(w.isub(E),I.isub(S)):(E.isub(w),S.isub(I))}var ne;return w.cmpn(1)===0?ne=I:ne=S,ne.cmpn(0)<0&&ne.iadd(f),ne},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var w=this.clone(),E=f.clone();w.negative=0,E.negative=0;for(var I=0;w.isEven()&&E.isEven();I++)w.iushrn(1),E.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;E.isEven();)E.iushrn(1);var S=w.cmp(E);if(S<0){var A=w;w=E,E=A}else if(S===0||E.cmpn(1)===0)break;w.isub(E)}while(!0);return E.iushln(I)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){r(typeof f=="number");var w=f%26,E=(f-w)/26,I=1<<w;if(this.length<=E)return this._expand(E+1),this.words[E]|=I,this;for(var S=I,A=E;S!==0&&A<this.length;A++){var O=this.words[A]|0;O+=S,S=O>>>26,O&=67108863,this.words[A]=O}return S!==0&&(this.words[A]=S,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var w=f<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this._strip();var E;if(this.length>1)E=1;else{w&&(f=-f),r(f<=67108863,"Number is too big");var I=this.words[0]|0;E=I===f?0:I<f?-1:1}return this.negative!==0?-E|0:E},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var w=this.ucmp(f);return this.negative!==0?-w|0:w},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var w=0,E=this.length-1;E>=0;E--){var I=this.words[E]|0,S=f.words[E]|0;if(I!==S){I<S?w=-1:I>S&&(w=1);break}}return w},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new X(f)},s.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var F={k256:null,p224:null,p192:null,p25519:null};function L(M,f){this.name=M,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},L.prototype.ireduce=function(f){var w=f,E;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),E=w.bitLength();while(E>this.n);var I=E<this.n?-1:w.ucmp(this.p);return I===0?(w.words[0]=0,w.length=1):I>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},L.prototype.split=function(f,w){f.iushrn(this.n,0,w)},L.prototype.imulK=function(f){return f.imul(this.k)};function $(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i($,L),$.prototype.split=function(f,w){for(var E=4194303,I=Math.min(f.length,9),S=0;S<I;S++)w.words[S]=f.words[S];if(w.length=I,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(w.words[w.length++]=A&E,S=10;S<f.length;S++){var O=f.words[S]|0;f.words[S-10]=(O&E)<<4|A>>>22,A=O}A>>>=22,f.words[S-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},$.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var w=0,E=0;E<f.length;E++){var I=f.words[E]|0;w+=I*977,f.words[E]=w&67108863,w=I*64+(w/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function K(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(K,L);function ee(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ee,L);function V(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(V,L),V.prototype.imulK=function(f){for(var w=0,E=0;E<f.length;E++){var I=(f.words[E]|0)*19+w,S=I&67108863;I>>>=26,f.words[E]=S,w=I}return w!==0&&(f.words[f.length++]=w),f},s._prime=function(f){if(F[f])return F[f];var w;if(f==="k256")w=new $;else if(f==="p224")w=new K;else if(f==="p192")w=new ee;else if(f==="p25519")w=new V;else throw new Error("Unknown prime "+f);return F[f]=w,w};function X(M){if(typeof M=="string"){var f=s._prime(M);this.m=f.p,this.prime=f}else r(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}X.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},X.prototype._verify2=function(f,w){r((f.negative|w.negative)===0,"red works only with positives"),r(f.red&&f.red===w.red,"red works only with red numbers")},X.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(u(f,f.umod(this.m)._forceRed(this)),f)},X.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},X.prototype.add=function(f,w){this._verify2(f,w);var E=f.add(w);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},X.prototype.iadd=function(f,w){this._verify2(f,w);var E=f.iadd(w);return E.cmp(this.m)>=0&&E.isub(this.m),E},X.prototype.sub=function(f,w){this._verify2(f,w);var E=f.sub(w);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},X.prototype.isub=function(f,w){this._verify2(f,w);var E=f.isub(w);return E.cmpn(0)<0&&E.iadd(this.m),E},X.prototype.shl=function(f,w){return this._verify1(f),this.imod(f.ushln(w))},X.prototype.imul=function(f,w){return this._verify2(f,w),this.imod(f.imul(w))},X.prototype.mul=function(f,w){return this._verify2(f,w),this.imod(f.mul(w))},X.prototype.isqr=function(f){return this.imul(f,f.clone())},X.prototype.sqr=function(f){return this.mul(f,f)},X.prototype.sqrt=function(f){if(f.isZero())return f.clone();var w=this.m.andln(3);if(r(w%2===1),w===3){var E=this.m.add(new s(1)).iushrn(2);return this.pow(f,E)}for(var I=this.m.subn(1),S=0;!I.isZero()&&I.andln(1)===0;)S++,I.iushrn(1);r(!I.isZero());var A=new s(1).toRed(this),O=A.redNeg(),N=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new s(2*p*p).toRed(this);this.pow(p,N).cmp(O)!==0;)p.redIAdd(O);for(var P=this.pow(p,I),ne=this.pow(f,I.addn(1).iushrn(1)),re=this.pow(f,I),se=S;re.cmp(A)!==0;){for(var me=re,ge=0;me.cmp(A)!==0;ge++)me=me.redSqr();r(ge<se);var q=this.pow(P,new s(1).iushln(se-ge-1));ne=ne.redMul(q),P=q.redSqr(),re=re.redMul(P),se=ge}return ne},X.prototype.invm=function(f){var w=f._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},X.prototype.pow=function(f,w){if(w.isZero())return new s(1).toRed(this);if(w.cmpn(1)===0)return f.clone();var E=4,I=new Array(1<<E);I[0]=new s(1).toRed(this),I[1]=f;for(var S=2;S<I.length;S++)I[S]=this.mul(I[S-1],f);var A=I[0],O=0,N=0,p=w.bitLength()%26;for(p===0&&(p=26),S=w.length-1;S>=0;S--){for(var P=w.words[S],ne=p-1;ne>=0;ne--){var re=P>>ne&1;if(A!==I[0]&&(A=this.sqr(A)),re===0&&O===0){N=0;continue}O<<=1,O|=re,N++,!(N!==E&&(S!==0||ne!==0))&&(A=this.mul(A,I[O]),N=0,O=0)}p=26}return A},X.prototype.convertTo=function(f){var w=f.umod(this.m);return w===f?w.clone():w},X.prototype.convertFrom=function(f){var w=f.clone();return w.red=null,w},s.mont=function(f){return new le(f)};function le(M){X.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(le,X),le.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},le.prototype.convertFrom=function(f){var w=this.imod(f.mul(this.rinv));return w.red=null,w},le.prototype.imul=function(f,w){if(f.isZero()||w.isZero())return f.words[0]=0,f.length=1,f;var E=f.imul(w),I=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=E.isub(I).iushrn(this.shift),A=S;return S.cmp(this.m)>=0?A=S.isub(this.m):S.cmpn(0)<0&&(A=S.iadd(this.m)),A._forceRed(this)},le.prototype.mul=function(f,w){if(f.isZero()||w.isZero())return new s(0)._forceRed(this);var E=f.mul(w),I=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=E.isub(I).iushrn(this.shift),A=S;return S.cmp(this.m)>=0?A=S.isub(this.m):S.cmpn(0)<0&&(A=S.iadd(this.m)),A._forceRed(this)},le.prototype.invm=function(f){var w=this.imod(f._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(t,ot)})(Z0);var e_=Z0.exports;const cv=No(e_);var gp={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=Ce,r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(gp,gp.exports);var TO=gp.exports,Hl=TO.Buffer;function RO(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(v){if((Array.isArray(v)||v instanceof Uint8Array)&&(v=Hl.from(v)),!Hl.isBuffer(v))throw new TypeError("Expected Buffer");if(v.length===0)return"";for(var b=0,x=0,j=0,k=v.length;j!==k&&v[j]===0;)j++,b++;for(var _=(k-j)*c+1>>>0,C=new Uint8Array(_);j!==k;){for(var R=v[j],F=0,L=_-1;(R!==0||F<x)&&L!==-1;L--,F++)R+=256*C[L]>>>0,C[L]=R%o>>>0,R=R/o>>>0;if(R!==0)throw new Error("Non-zero carry");x=F,j++}for(var $=_-x;$!==_&&C[$]===0;)$++;for(var K=a.repeat(b);$<_;++$)K+=t.charAt(C[$]);return K}function h(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return Hl.alloc(0);for(var b=0,x=0,j=0;v[b]===a;)x++,b++;for(var k=(v.length-b)*l+1>>>0,_=new Uint8Array(k);b<v.length;){var C=v.charCodeAt(b);if(C>255)return;var R=e[C];if(R===255)return;for(var F=0,L=k-1;(R!==0||F<j)&&L!==-1;L--,F++)R+=o*_[L]>>>0,_[L]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");j=F,b++}for(var $=k-j;$!==k&&_[$]===0;)$++;var K=Hl.allocUnsafe(x+(k-$));K.fill(0,0,x);for(var ee=x;$!==k;)K[ee++]=_[$++];return K}function m(v){var b=h(v);if(b)return b;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:h,decode:m}}var jO=RO,OO=jO,PO="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",t_=OO(PO);const Xt=No(t_),uv=Db;var Zt={};function Kr(t,e,n){return e<=t&&t<=n}function Wu(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function MO(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function BO(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var ru=-1;function X0(t){this.tokens=[].slice.call(t)}X0.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():ru},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var So=-1;function Sh(t,e){if(t)throw TypeError("Decoder error");return e||65533}var iu="utf-8";function su(t,e){if(!(this instanceof su))return new su(t,e);if(t=t!==void 0?String(t).toLowerCase():iu,t!==iu)throw new Error("Encoding not supported. Only utf-8 is supported");e=Wu(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}su.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=Wu(n),this._streaming||(this._decoder=new LO({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new X0(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==So);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===So)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),BO(s)}};function ou(t,e){if(!(this instanceof ou))return new ou(t,e);if(t=t!==void 0?String(t).toLowerCase():iu,t!==iu)throw new Error("Encoding not supported. Only utf-8 is supported");e=Wu(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}ou.prototype={encode:function(e,n){e=e?String(e):"",n=Wu(n),this._streaming||(this._encoder=new FO(this._options)),this._streaming=!!n.stream;for(var r=[],i=new X0(MO(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==So);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==So;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function LO(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===ru&&i!==0)return i=0,Sh(e);if(l===ru)return So;if(i===0){if(Kr(l,0,127))return l;if(Kr(l,194,223))i=1,n=l-192;else if(Kr(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,n=l-224;else if(Kr(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,n=l-240;else return Sh(e);return n=n<<6*i,null}if(!Kr(l,s,o))return n=i=r=0,s=128,o=191,a.prepend(l),Sh(e);if(s=128,o=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function FO(t){t.fatal,this.handler=function(e,n){if(n===ru)return So;if(Kr(n,0,127))return n;var r,i;Kr(n,128,2047)?(r=1,i=192):Kr(n,2048,65535)?(r=2,i=224):Kr(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const UO=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:su,TextEncoder:ou},Symbol.toStringTag,{value:"Module"})),DO=hu(UO);var $O=ot&&ot.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),zO=ot&&ot.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Br=ot&&ot.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},qO=ot&&ot.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&$O(e,t,n);return zO(e,t),e},n_=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zt,"__esModule",{value:!0});var r_=Zt.deserializeUnchecked=c_=Zt.deserialize=l_=Zt.serialize=Zt.BinaryReader=Zt.BinaryWriter=Zt.BorshError=Zt.baseDecode=Zt.baseEncode=void 0;const _i=n_(e_),i_=n_(t_),WO=qO(DO),HO=typeof TextDecoder!="function"?WO.TextDecoder:TextDecoder,KO=new HO("utf-8",{fatal:!0});function VO(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),i_.default.encode(Buffer.from(t))}Zt.baseEncode=VO;function GO(t){return Buffer.from(i_.default.decode(t))}Zt.baseDecode=GO;const Eh=1024;class yn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Zt.BorshError=yn;class s_{constructor(){this.buf=Buffer.alloc(Eh),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Eh)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new _i.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new _i.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new _i.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new _i.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Eh)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Zt.BinaryWriter=s_;function Lr(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new yn("Reached the end of buffer when deserializing")}throw s}}}class zn{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new _i.default(e,"le")}readU128(){const e=this.readBuffer(16);return new _i.default(e,"le")}readU256(){const e=this.readBuffer(32);return new _i.default(e,"le")}readU512(){const e=this.readBuffer(64);return new _i.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new yn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return KO.decode(n)}catch(r){throw new yn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}Br([Lr],zn.prototype,"readU8",null);Br([Lr],zn.prototype,"readU16",null);Br([Lr],zn.prototype,"readU32",null);Br([Lr],zn.prototype,"readU64",null);Br([Lr],zn.prototype,"readU128",null);Br([Lr],zn.prototype,"readU256",null);Br([Lr],zn.prototype,"readU512",null);Br([Lr],zn.prototype,"readString",null);Br([Lr],zn.prototype,"readFixedArray",null);Br([Lr],zn.prototype,"readArray",null);Zt.BinaryReader=zn;function o_(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ts(t,e,n,r,i){try{if(typeof r=="string")i[`write${o_(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new yn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new yn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)ts(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{ts(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),ts(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{ts(t,e,o,r.key,i),ts(t,e,s,r.value,i)});break}default:throw new yn(`FieldType ${r} unrecognized`)}else a_(t,n,i)}catch(s){throw s instanceof yn&&s.addToFieldPath(e),s}}function a_(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new yn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{ts(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),ts(t,o,e[o],a,n);break}}}else throw new yn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function YO(t,e,n=s_){const r=new n;return a_(t,e,r),r.toArray()}var l_=Zt.serialize=YO;function ns(t,e,n,r){try{if(typeof n=="string")return r[`read${o_(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(ns(t,null,n[0],r));return i}else return r.readArray(()=>ns(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?ns(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=ns(t,e,n.key,r),l=ns(t,e,n.value,r);i.set(a,l)}return i}return em(t,n,r)}catch(i){throw i instanceof yn&&i.addToFieldPath(e),i}}function em(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new yn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=ns(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new yn(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=ns(t,s,o,n);return new e({[s]:a})}throw new yn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function QO(t,e,n,r=zn){const i=new r(n),s=em(t,e,i);if(i.offset<n.length)throw new yn(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var c_=Zt.deserialize=QO;function JO(t,e,n,r=zn){const i=new r(n);return em(t,e,i)}r_=Zt.deserializeUnchecked=JO;var G={};Object.defineProperty(G,"__esModule",{value:!0});G.s16=G.s8=G.nu64be=G.u48be=G.u40be=G.u32be=G.u24be=G.u16be=Gt=G.nu64=G.u48=G.u40=ve=G.u32=G.u24=Kn=G.u16=De=G.u8=fs=G.offset=G.greedy=G.Constant=G.UTF8=G.CString=G.Blob=G.Boolean=G.BitField=G.BitStructure=G.VariantLayout=G.Union=G.UnionLayoutDiscriminator=G.UnionDiscriminator=G.Structure=G.Sequence=G.DoubleBE=G.Double=G.FloatBE=G.Float=G.NearInt64BE=G.NearInt64=G.NearUInt64BE=G.NearUInt64=G.IntBE=G.Int=G.UIntBE=G.UInt=G.OffsetLayout=G.GreedyCount=G.ExternalLayout=G.bindConstructorLayout=G.nameWithProperty=G.Layout=G.uint8ArrayToBuffer=G.checkUint8Array=void 0;G.constant=G.utf8=G.cstr=ht=G.blob=G.unionLayoutDiscriminator=G.union=vn=G.seq=G.bits=pe=G.struct=G.f64be=G.f64=G.f32be=G.f32=G.ns64be=G.s48be=G.s40be=G.s32be=G.s24be=G.s16be=Bn=G.ns64=G.s48=G.s40=G.s32=G.s24=void 0;const tm=Ce;function Uo(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}G.checkUint8Array=Uo;function Fe(t){return Uo(t),tm.Buffer.from(t.buffer,t.byteOffset,t.length)}G.uint8ArrayToBuffer=Fe;class He{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}G.Layout=He;function nm(t,e){return e.property?t+"["+e.property+"]":t}G.nameWithProperty=nm;function ZO(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof He))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}G.bindConstructorLayout=ZO;class Nn extends He{isCount(){throw new Error("ExternalLayout is abstract")}}G.ExternalLayout=Nn;class u_ extends Nn{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){Uo(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}G.GreedyCount=u_;class rm extends Nn{constructor(e,n=0,r){if(!(e instanceof He))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof tr||this.layout instanceof vr}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}G.OffsetLayout=rm;class tr extends He{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Fe(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Fe(n).writeUIntLE(e,r,this.span),this.span}}G.UInt=tr;class vr extends He{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Fe(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Fe(n).writeUIntBE(e,r,this.span),this.span}}G.UIntBE=vr;class ks extends He{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Fe(e).readIntLE(n,this.span)}encode(e,n,r=0){return Fe(n).writeIntLE(e,r,this.span),this.span}}G.Int=ks;class Do extends He{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Fe(e).readIntBE(n,this.span)}encode(e,n,r=0){return Fe(n).writeIntBE(e,r,this.span),this.span}}G.IntBE=Do;const yp=Math.pow(2,32);function Hu(t){const e=Math.floor(t/yp),n=t-e*yp;return{hi32:e,lo32:n}}function Ku(t,e){return t*yp+e}class d_ extends He{constructor(e){super(8,e)}decode(e,n=0){const r=Fe(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return Ku(s,i)}encode(e,n,r=0){const i=Hu(e),s=Fe(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}G.NearUInt64=d_;class h_ extends He{constructor(e){super(8,e)}decode(e,n=0){const r=Fe(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return Ku(i,s)}encode(e,n,r=0){const i=Hu(e),s=Fe(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}G.NearUInt64BE=h_;class f_ extends He{constructor(e){super(8,e)}decode(e,n=0){const r=Fe(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return Ku(s,i)}encode(e,n,r=0){const i=Hu(e),s=Fe(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}G.NearInt64=f_;class p_ extends He{constructor(e){super(8,e)}decode(e,n=0){const r=Fe(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return Ku(i,s)}encode(e,n,r=0){const i=Hu(e),s=Fe(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}G.NearInt64BE=p_;class m_ extends He{constructor(e){super(4,e)}decode(e,n=0){return Fe(e).readFloatLE(n)}encode(e,n,r=0){return Fe(n).writeFloatLE(e,r),4}}G.Float=m_;class g_ extends He{constructor(e){super(4,e)}decode(e,n=0){return Fe(e).readFloatBE(n)}encode(e,n,r=0){return Fe(n).writeFloatBE(e,r),4}}G.FloatBE=g_;class y_ extends He{constructor(e){super(8,e)}decode(e,n=0){return Fe(e).readDoubleLE(n)}encode(e,n,r=0){return Fe(n).writeDoubleLE(e,r),8}}G.Double=y_;class v_ extends He{constructor(e){super(8,e)}decode(e,n=0){return Fe(e).readDoubleBE(n)}encode(e,n,r=0){return Fe(n).writeDoubleBE(e,r),8}}G.DoubleBE=v_;class w_ extends He{constructor(e,n,r){if(!(e instanceof He))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Nn&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Nn)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Nn&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof Nn&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof Nn&&this.count.encode(e.length,n,r),s}}G.Sequence=w_;class x_ extends He{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof He,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){Uo(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(o=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}s=r,r+=l}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}G.Structure=x_;class im{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}G.UnionDiscriminator=im;class au extends im{constructor(e,n){if(!(e instanceof Nn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}G.UnionLayoutDiscriminator=au;class sm extends He{constructor(e,n,r){let i;if(e instanceof tr||e instanceof vr)i=new au(new rm(e));else if(e instanceof Nn&&e.isCount())i=new au(e);else if(e instanceof im)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof He))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof tr||e instanceof vr)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof tr||e instanceof vr,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new b_(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}G.Union=sm;class b_ extends He{constructor(e,n,r,i){if(!(e instanceof sm))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof He))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}G.VariantLayout=b_;function $s(t){return 0>t&&(t+=4294967296),t}class om extends He{constructor(e,n,r){if(!(e instanceof tr||e instanceof vr))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=$s(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new am(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new __(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}G.BitStructure=om;class am{constructor(e,n,r){if(!(e instanceof om))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=$s(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return $s(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==$s(e&this.valueMask))throw new TypeError(nm("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=$s(e<<this.start);this.container._packedSetValue($s(n&~this.wordMask)|r)}}G.BitField=am;let __=class extends am{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};G.Boolean=__;let k_=class extends He{constructor(e,n){if(!(e instanceof Nn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Nn||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Fe(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Nn&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(nm("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=Fe(e);return Fe(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof Nn&&this.length.encode(i,n,r),i}};G.Blob=k_;class S_ extends He{constructor(e){super(-1,e)}getSpan(e,n=0){Uo(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Fe(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=tm.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=Fe(n);return i.copy(o,r),o[r+s]=0,s+1}}G.CString=S_;class E_ extends He{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return Uo(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Fe(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=tm.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(Fe(n),r),s}}G.UTF8=E_;class C_ extends He{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}G.Constant=C_;G.greedy=(t,e)=>new u_(t,e);var fs=G.offset=(t,e,n)=>new rm(t,e,n),De=G.u8=t=>new tr(1,t),Kn=G.u16=t=>new tr(2,t);G.u24=t=>new tr(3,t);var ve=G.u32=t=>new tr(4,t);G.u40=t=>new tr(5,t);G.u48=t=>new tr(6,t);var Gt=G.nu64=t=>new d_(t);G.u16be=t=>new vr(2,t);G.u24be=t=>new vr(3,t);G.u32be=t=>new vr(4,t);G.u40be=t=>new vr(5,t);G.u48be=t=>new vr(6,t);G.nu64be=t=>new h_(t);G.s8=t=>new ks(1,t);G.s16=t=>new ks(2,t);G.s24=t=>new ks(3,t);G.s32=t=>new ks(4,t);G.s40=t=>new ks(5,t);G.s48=t=>new ks(6,t);var Bn=G.ns64=t=>new f_(t);G.s16be=t=>new Do(2,t);G.s24be=t=>new Do(3,t);G.s32be=t=>new Do(4,t);G.s40be=t=>new Do(5,t);G.s48be=t=>new Do(6,t);G.ns64be=t=>new p_(t);G.f32=t=>new m_(t);G.f32be=t=>new g_(t);G.f64=t=>new y_(t);G.f64be=t=>new v_(t);var pe=G.struct=(t,e,n)=>new x_(t,e,n);G.bits=(t,e,n)=>new om(t,e,n);var vn=G.seq=(t,e,n)=>new w_(t,e,n);G.union=(t,e,n)=>new sm(t,e,n);G.unionLayoutDiscriminator=(t,e)=>new au(t,e);var ht=G.blob=(t,e)=>new k_(t,e);G.cstr=t=>new S_(t);G.utf8=(t,e)=>new E_(t,e);G.constant=(t,e)=>new C_(t,e);var XO=8078e3,e3=8078001,t3=8078004,n3=8078005,r3=8078006,i3=8078011;function N_(t){return Array.isArray(t)?"%5B"+t.map(N_).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function s3([t,e]){return`${t}=${N_(e)}`}function o3(t){const e=Object.entries(t).map(s3).join("&");return btoa(e)}function a3(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${o3(e)}'`),`${n}\``}}var co=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:o,...a}=n;o&&(i={cause:o}),Object.keys(a).length>0&&(r=a)}const s=a3(e,r);super(s,i);Bt(this,"cause",this.cause);Bt(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function l3(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function c3(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(l3(e,t));return t.write(e,n,0),n}})}function u3(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Fs(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function d3(t,e){if(Fs(t)!==Fs(e))throw new co(t3);if(Fs(t)&&Fs(e)&&t.fixedSize!==e.fixedSize)throw new co(n3,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Fs(t)&&!Fs(e)&&t.maxSize!==e.maxSize)throw new co(r3,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function h3(t,e,n=0){if(e.length-n<=0)throw new co(XO,{codecDescription:t})}function f3(t,e,n,r=0){const i=n.length-r;if(i<e)throw new co(e3,{bytesLength:i,codecDescription:t,expected:e})}function p3(t,e,n,r){if(r<e||r>n)throw new co(i3,{codecDescription:t,max:n,min:e,value:r})}function I_(t){return(t==null?void 0:t.endian)!==1}function m3(t){return c3({fixedSize:t.size,write(e,n,r){t.range&&p3(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,I_(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function g3(t){return u3({fixedSize:t.size,read(e,n=0){h3(t.name,e,n),f3(t.name,t.size,e,n);const r=new DataView(y3(e,n,t.size));return[t.get(r,I_(t.config)),n+t.size]}})}function y3(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var v3=(t={})=>m3({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),w3=(t={})=>g3({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),x3=(t={})=>d3(v3(t),w3(t));class b3 extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function _3(t){return fl(t)&&typeof t[Symbol.iterator]=="function"}function fl(t){return typeof t=="object"&&t!=null}function lu(t){return fl(t)&&!Array.isArray(t)}function xr(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function k3(t){const{done:e,value:n}=t.next();return e?void 0:n}function S3(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${xr(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*dv(t,e,n,r){_3(t)||(t=[t]);for(const i of t){const s=S3(i,e,n,r);s&&(yield s)}}function*lm(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,h]of e.entries(t,a)){const m=lm(u,h,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,u],coerce:s,mask:o,message:n.message});for(const v of m)v[0]?(l=v[0].refinement!=null?"not_refined":"not_valid",yield[v[0],void 0]):s&&(u=v[1],c===void 0?t=u:t instanceof Map?t.set(c,u):t instanceof Set?t.add(u):fl(t)&&(u!==void 0||c in t)&&(t[c]=u))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let Fr=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,c)=>{const u=i(l,c);return dv(u,c,this,l)}:this.validator=()=>[],s?this.refiner=(l,c)=>{const u=s(l,c);return dv(u,c,this,l)}:this.refiner=()=>[]}assert(e,n){return E3(e,this,n)}create(e,n){return ce(e,this,n)}is(e){return A_(e,this)}mask(e,n){return C3(e,this,n)}validate(e,n={}){return pl(e,this,n)}};function E3(t,e,n){const r=pl(t,e,{message:n});if(r[0])throw r[0]}function ce(t,e,n){const r=pl(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function C3(t,e,n){const r=pl(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function A_(t,e){return!pl(t,e)[0]}function pl(t,e,n={}){const r=lm(t,e,n),i=k3(r);return i[0]?[new b3(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Ss(t,e){return new Fr({type:t,schema:null,validator:e})}function N3(){return Ss("any",()=>!0)}function ue(t){return new Fr({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${xr(e)}`}})}function Mr(){return Ss("boolean",t=>typeof t=="boolean")}function cm(t){return Ss("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${xr(e)}`)}function rt(t){const e=xr(t),n=typeof t;return new Fr({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${xr(r)}`}})}function I3(){return Ss("never",()=>!1)}function he(t){return new Fr({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function H(){return Ss("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${xr(t)}`)}function we(t){return new Fr({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function T_(t,e){return new Fr({type:"record",schema:null,*entries(n){if(fl(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return lu(n)||`Expected an object, but received: ${xr(n)}`},coercer(n){return lu(n)?{...n}:n}})}function oe(){return Ss("string",t=>typeof t=="string"||`Expected a string, but received: ${xr(t)}`)}function um(t){const e=I3();return new Fr({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${xr(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function te(t){const e=Object.keys(t);return new Fr({type:"type",schema:t,*entries(n){if(fl(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return lu(n)||`Expected an object, but received: ${xr(n)}`},coercer(n){return lu(n)?{...n}:n}})}function xn(t){const e=t.map(n=>n.type).join(" | ");return new Fr({type:"union",schema:null,coercer(n,r){for(const i of t){const[s,o]=i.validate(n,{coerce:!0,mask:r.mask});if(!s)return o}return n},validator(n,r){const i=[];for(const s of t){const[...o]=lm(n,s,r),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${xr(n)}`,...i]}})}function $o(){return Ss("unknown",()=>!0)}function ml(t,e,n){return new Fr({...t,coercer:(r,i)=>A_(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var Kl,A3=new Uint8Array(16);function R_(){if(!Kl&&(Kl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Kl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Kl(A3)}const T3=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Vu(t){return typeof t=="string"&&T3.test(t)}var Vt=[];for(var Ch=0;Ch<256;++Ch)Vt.push((Ch+256).toString(16).substr(1));function Gu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Vt[t[e+0]]+Vt[t[e+1]]+Vt[t[e+2]]+Vt[t[e+3]]+"-"+Vt[t[e+4]]+Vt[t[e+5]]+"-"+Vt[t[e+6]]+Vt[t[e+7]]+"-"+Vt[t[e+8]]+Vt[t[e+9]]+"-"+Vt[t[e+10]]+Vt[t[e+11]]+Vt[t[e+12]]+Vt[t[e+13]]+Vt[t[e+14]]+Vt[t[e+15]]).toLowerCase();if(!Vu(n))throw TypeError("Stringified UUID is invalid");return n}var hv,Nh,Ih=0,Ah=0;function R3(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||hv,o=t.clockseq!==void 0?t.clockseq:Nh;if(s==null||o==null){var a=t.random||(t.rng||R_)();s==null&&(s=hv=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Nh=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Ah+1,u=l-Ih+(c-Ah)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||l>Ih)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ih=l,Ah=c,Nh=o,l+=122192928e5;var h=((l&268435455)*1e4+c)%4294967296;i[r++]=h>>>24&255,i[r++]=h>>>16&255,i[r++]=h>>>8&255,i[r++]=h&255;var m=l/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=m&255,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var v=0;v<6;++v)i[r+v]=s[v];return e||Gu(i)}function j_(t){if(!Vu(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function j3(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var O3="6ba7b810-9dad-11d1-80b4-00c04fd430c8",P3="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function O_(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=j3(i)),typeof s=="string"&&(s=j_(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=l[c];return o}return Gu(l)}try{r.name=t}catch{}return r.DNS=O3,r.URL=P3,r}function M3(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return B3(L3(F3(t),t.length*8))}function B3(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function P_(t){return(t+64>>>9<<4)+14+1}function L3(t,e){t[e>>5]|=128<<e%32,t[P_(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,l=r,c=i,u=s;n=an(n,r,i,s,t[o],7,-680876936),s=an(s,n,r,i,t[o+1],12,-389564586),i=an(i,s,n,r,t[o+2],17,606105819),r=an(r,i,s,n,t[o+3],22,-1044525330),n=an(n,r,i,s,t[o+4],7,-176418897),s=an(s,n,r,i,t[o+5],12,1200080426),i=an(i,s,n,r,t[o+6],17,-1473231341),r=an(r,i,s,n,t[o+7],22,-45705983),n=an(n,r,i,s,t[o+8],7,1770035416),s=an(s,n,r,i,t[o+9],12,-1958414417),i=an(i,s,n,r,t[o+10],17,-42063),r=an(r,i,s,n,t[o+11],22,-1990404162),n=an(n,r,i,s,t[o+12],7,1804603682),s=an(s,n,r,i,t[o+13],12,-40341101),i=an(i,s,n,r,t[o+14],17,-1502002290),r=an(r,i,s,n,t[o+15],22,1236535329),n=ln(n,r,i,s,t[o+1],5,-165796510),s=ln(s,n,r,i,t[o+6],9,-1069501632),i=ln(i,s,n,r,t[o+11],14,643717713),r=ln(r,i,s,n,t[o],20,-373897302),n=ln(n,r,i,s,t[o+5],5,-701558691),s=ln(s,n,r,i,t[o+10],9,38016083),i=ln(i,s,n,r,t[o+15],14,-660478335),r=ln(r,i,s,n,t[o+4],20,-405537848),n=ln(n,r,i,s,t[o+9],5,568446438),s=ln(s,n,r,i,t[o+14],9,-1019803690),i=ln(i,s,n,r,t[o+3],14,-187363961),r=ln(r,i,s,n,t[o+8],20,1163531501),n=ln(n,r,i,s,t[o+13],5,-1444681467),s=ln(s,n,r,i,t[o+2],9,-51403784),i=ln(i,s,n,r,t[o+7],14,1735328473),r=ln(r,i,s,n,t[o+12],20,-1926607734),n=cn(n,r,i,s,t[o+5],4,-378558),s=cn(s,n,r,i,t[o+8],11,-2022574463),i=cn(i,s,n,r,t[o+11],16,1839030562),r=cn(r,i,s,n,t[o+14],23,-35309556),n=cn(n,r,i,s,t[o+1],4,-1530992060),s=cn(s,n,r,i,t[o+4],11,1272893353),i=cn(i,s,n,r,t[o+7],16,-155497632),r=cn(r,i,s,n,t[o+10],23,-1094730640),n=cn(n,r,i,s,t[o+13],4,681279174),s=cn(s,n,r,i,t[o],11,-358537222),i=cn(i,s,n,r,t[o+3],16,-722521979),r=cn(r,i,s,n,t[o+6],23,76029189),n=cn(n,r,i,s,t[o+9],4,-640364487),s=cn(s,n,r,i,t[o+12],11,-421815835),i=cn(i,s,n,r,t[o+15],16,530742520),r=cn(r,i,s,n,t[o+2],23,-995338651),n=un(n,r,i,s,t[o],6,-198630844),s=un(s,n,r,i,t[o+7],10,1126891415),i=un(i,s,n,r,t[o+14],15,-1416354905),r=un(r,i,s,n,t[o+5],21,-57434055),n=un(n,r,i,s,t[o+12],6,1700485571),s=un(s,n,r,i,t[o+3],10,-1894986606),i=un(i,s,n,r,t[o+10],15,-1051523),r=un(r,i,s,n,t[o+1],21,-2054922799),n=un(n,r,i,s,t[o+8],6,1873313359),s=un(s,n,r,i,t[o+15],10,-30611744),i=un(i,s,n,r,t[o+6],15,-1560198380),r=un(r,i,s,n,t[o+13],21,1309151649),n=un(n,r,i,s,t[o+4],6,-145523070),s=un(s,n,r,i,t[o+11],10,-1120210379),i=un(i,s,n,r,t[o+2],15,718787259),r=un(r,i,s,n,t[o+9],21,-343485551),n=ki(n,a),r=ki(r,l),i=ki(i,c),s=ki(s,u)}return[n,r,i,s]}function F3(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(P_(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function ki(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function U3(t,e){return t<<e|t>>>32-e}function Yu(t,e,n,r,i,s){return ki(U3(ki(ki(e,t),ki(r,s)),i),n)}function an(t,e,n,r,i,s,o){return Yu(e&n|~e&r,t,e,i,s,o)}function ln(t,e,n,r,i,s,o){return Yu(e&r|n&~r,t,e,i,s,o)}function cn(t,e,n,r,i,s,o){return Yu(e^n^r,t,e,i,s,o)}function un(t,e,n,r,i,s,o){return Yu(n^(e|~r),t,e,i,s,o)}var D3=O_("v3",48,M3);function $3(t,e,n){t=t||{};var r=t.random||(t.rng||R_)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Gu(r)}function z3(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function Th(t,e){return t<<e|t>>>32-e}function q3(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=t[l*64+u*4]<<24|t[l*64+u*4+1]<<16|t[l*64+u*4+2]<<8|t[l*64+u*4+3];a[l]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var h=0;h<o;++h){for(var m=new Uint32Array(80),v=0;v<16;++v)m[v]=a[h][v];for(var b=16;b<80;++b)m[b]=Th(m[b-3]^m[b-8]^m[b-14]^m[b-16],1);for(var x=n[0],j=n[1],k=n[2],_=n[3],C=n[4],R=0;R<80;++R){var F=Math.floor(R/20),L=Th(x,5)+z3(F,j,k,_)+C+e[F]+m[R]>>>0;C=_,_=k,k=Th(j,30)>>>0,j=x,x=L}n[0]=n[0]+x>>>0,n[1]=n[1]+j>>>0,n[2]=n[2]+k>>>0,n[3]=n[3]+_>>>0,n[4]=n[4]+C>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var W3=O_("v5",80,q3);const H3="00000000-0000-0000-0000-000000000000";function K3(t){if(!Vu(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const V3=Object.freeze(Object.defineProperty({__proto__:null,NIL:H3,parse:j_,stringify:Gu,v1:R3,v3:D3,v4:$3,v5:W3,validate:Vu,version:K3},Symbol.toStringTag,{value:"Module"})),M_=hu(V3),G3=M_.v4,Y3=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return G3()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var Q3=Y3;const J3=M_.v4,Z3=Q3,Ya=function(t,e){if(!(this instanceof Ya))return new Ya(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return J3()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var X3=Ya;Ya.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{s=Z3(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(c)return r(u);throw u}if(!c)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,u){i._parseResponse(c,u,r)}),s};Ya.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};const eP=No(X3);var B_={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var v=new i(u,h||l,m),b=n?n+c:c;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],v]:l._events[b].push(v):(l._events[b]=v,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,v=h.length,b=new Array(v);m<v;m++)b[m]=h[m].fn;return b},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,m,v,b){var x=n?n+c:c;if(!this._events[x])return!1;var j=this._events[x],k=arguments.length,_,C;if(j.fn){switch(j.once&&this.removeListener(c,j.fn,void 0,!0),k){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,u),!0;case 3:return j.fn.call(j.context,u,h),!0;case 4:return j.fn.call(j.context,u,h,m),!0;case 5:return j.fn.call(j.context,u,h,m,v),!0;case 6:return j.fn.call(j.context,u,h,m,v,b),!0}for(C=1,_=new Array(k-1);C<k;C++)_[C-1]=arguments[C];j.fn.apply(j.context,_)}else{var R=j.length,F;for(C=0;C<R;C++)switch(j[C].once&&this.removeListener(c,j[C].fn,void 0,!0),k){case 1:j[C].fn.call(j[C].context);break;case 2:j[C].fn.call(j[C].context,u);break;case 3:j[C].fn.call(j[C].context,u,h);break;case 4:j[C].fn.call(j[C].context,u,h,m);break;default:if(!_)for(F=1,_=new Array(k-1);F<k;F++)_[F-1]=arguments[F];j[C].fn.apply(j[C].context,_)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,m){var v=n?n+c:c;if(!this._events[v])return this;if(!u)return o(this,v),this;var b=this._events[v];if(b.fn)b.fn===u&&(!m||b.once)&&(!h||b.context===h)&&o(this,v);else{for(var x=0,j=[],k=b.length;x<k;x++)(b[x].fn!==u||m&&!b[x].once||h&&b[x].context!==h)&&j.push(b[x]);j.length?this._events[v]=j.length===1?j[0]:j:o(this,v)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(B_);var tP=B_.exports;const L_=No(tP);var nP=class extends L_{constructor(e,n,r){super();Bt(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,n,r){const i=r||n;try{this.socket.send(e),i()}catch(s){i(s)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function rP(t,e){return new nP(t,e)}var iP=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},sP=class extends L_{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...a}={},l,c){super();Bt(this,"address");Bt(this,"rpc_id");Bt(this,"queue");Bt(this,"options");Bt(this,"autoconnect");Bt(this,"ready");Bt(this,"reconnect");Bt(this,"reconnect_timer_id");Bt(this,"reconnect_interval");Bt(this,"max_reconnects");Bt(this,"rest_options");Bt(this,"current_reconnects");Bt(this,"generate_request_id");Bt(this,"socket");Bt(this,"webSocketFactory");Bt(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new iP,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),i,c=>{if(c)return o(c);this.queue[a]={promise:[s,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(s),o=>{if(o)return i(o);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=Ce.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let s=0;s<r.params.length;s++)i.push(r.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};class F_ extends Mb{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Pj(e);const r=W0(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),bo(s)}update(e){return Xc(this),this.iHash.update(e),this}digestInto(e){Xc(this),ll(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const U_=(t,e,n)=>new F_(t,e).update(n).digest();U_.create=(t,e)=>new F_(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fv(t){t.lowS!==void 0&&Pi("lowS",t.lowS),t.prehash!==void 0&&Pi("prehash",t.prehash)}function oP(t){const e=Y0(t);dl(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class aP extends Error{constructor(e=""){super(e)}}const Hr={Err:aP,_tlv:{encode:(t,e)=>{const{Err:n}=Hr;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Wl(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Wl(i.length/2|128):"";return Wl(t)+s+i+e},decode(t,e){const{Err:n}=Hr;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Hr;if(t<Vr)throw new e("integer: negative integers are not allowed");let n=Wl(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Hr;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return hs(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Hr,i=gt("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,s),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Hr,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function Rh(t,e){return _o(ul(t,e))}const Vr=BigInt(0),qt=BigInt(1);BigInt(2);const jh=BigInt(3),lP=BigInt(4);function cP(t){const e=oP(t),{Fp:n}=e,r=hl(e.n,e.nBitLength),i=e.toBytes||((C,R,F)=>{const L=R.toAffine();return ko(Uint8Array.from([4]),n.toBytes(L.x),n.toBytes(L.y))}),s=e.fromBytes||(C=>{const R=C.subarray(1),F=n.fromBytes(R.subarray(0,n.BYTES)),L=n.fromBytes(R.subarray(n.BYTES,2*n.BYTES));return{x:F,y:L}});function o(C){const{a:R,b:F}=e,L=n.sqr(C),$=n.mul(L,C);return n.add(n.add($,n.mul(C,R)),F)}function a(C,R){const F=n.sqr(R),L=o(C);return n.eql(F,L)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(e.a,jh),lP),c=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(l,c)))throw new Error("bad curve params: a or b");function u(C){return V0(C,qt,e.n)}function h(C){const{allowedPrivateKeyLengths:R,nByteLength:F,wrapPrivateKey:L,n:$}=e;if(R&&typeof C!="bigint"){if(cl(C)&&(C=_o(C)),typeof C!="string"||!R.includes(C.length))throw new Error("invalid private key");C=C.padStart(F*2,"0")}let K;try{K=typeof C=="bigint"?C:hs(gt("private key",C,F))}catch{throw new Error("invalid private key, expected hex or "+F+" bytes, got "+typeof C)}return L&&(K=et(K,$)),fr("private key",K,qt,$),K}function m(C){if(!(C instanceof x))throw new Error("ProjectivePoint expected")}const v=nu((C,R)=>{const{px:F,py:L,pz:$}=C;if(n.eql($,n.ONE))return{x:F,y:L};const K=C.is0();R==null&&(R=K?n.ONE:n.inv($));const ee=n.mul(F,R),V=n.mul(L,R),X=n.mul($,R);if(K)return{x:n.ZERO,y:n.ZERO};if(!n.eql(X,n.ONE))throw new Error("invZ was invalid");return{x:ee,y:V}}),b=nu(C=>{if(C.is0()){if(e.allowInfinityPoint&&!n.is0(C.py))return;throw new Error("bad point: ZERO")}const{x:R,y:F}=C.toAffine();if(!n.isValid(R)||!n.isValid(F))throw new Error("bad point: x or y not FE");if(!a(R,F))throw new Error("bad point: equation left != right");if(!C.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class x{constructor(R,F,L){if(R==null||!n.isValid(R))throw new Error("x required");if(F==null||!n.isValid(F)||n.is0(F))throw new Error("y required");if(L==null||!n.isValid(L))throw new Error("z required");this.px=R,this.py=F,this.pz=L,Object.freeze(this)}static fromAffine(R){const{x:F,y:L}=R||{};if(!R||!n.isValid(F)||!n.isValid(L))throw new Error("invalid affine point");if(R instanceof x)throw new Error("projective point not allowed");const $=K=>n.eql(K,n.ZERO);return $(F)&&$(L)?x.ZERO:new x(F,L,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(R){const F=G0(n,R.map(L=>L.pz));return R.map((L,$)=>L.toAffine(F[$])).map(x.fromAffine)}static fromHex(R){const F=x.fromAffine(s(gt("pointHex",R)));return F.assertValidity(),F}static fromPrivateKey(R){return x.BASE.multiply(h(R))}static msm(R,F){return Xb(x,r,R,F)}_setWindowSize(R){_.setWindowSize(this,R)}assertValidity(){b(this)}hasEvenY(){const{y:R}=this.toAffine();if(n.isOdd)return!n.isOdd(R);throw new Error("Field doesn't support isOdd")}equals(R){m(R);const{px:F,py:L,pz:$}=this,{px:K,py:ee,pz:V}=R,X=n.eql(n.mul(F,V),n.mul(K,$)),le=n.eql(n.mul(L,V),n.mul(ee,$));return X&&le}negate(){return new x(this.px,n.neg(this.py),this.pz)}double(){const{a:R,b:F}=e,L=n.mul(F,jh),{px:$,py:K,pz:ee}=this;let V=n.ZERO,X=n.ZERO,le=n.ZERO,M=n.mul($,$),f=n.mul(K,K),w=n.mul(ee,ee),E=n.mul($,K);return E=n.add(E,E),le=n.mul($,ee),le=n.add(le,le),V=n.mul(R,le),X=n.mul(L,w),X=n.add(V,X),V=n.sub(f,X),X=n.add(f,X),X=n.mul(V,X),V=n.mul(E,V),le=n.mul(L,le),w=n.mul(R,w),E=n.sub(M,w),E=n.mul(R,E),E=n.add(E,le),le=n.add(M,M),M=n.add(le,M),M=n.add(M,w),M=n.mul(M,E),X=n.add(X,M),w=n.mul(K,ee),w=n.add(w,w),M=n.mul(w,E),V=n.sub(V,M),le=n.mul(w,f),le=n.add(le,le),le=n.add(le,le),new x(V,X,le)}add(R){m(R);const{px:F,py:L,pz:$}=this,{px:K,py:ee,pz:V}=R;let X=n.ZERO,le=n.ZERO,M=n.ZERO;const f=e.a,w=n.mul(e.b,jh);let E=n.mul(F,K),I=n.mul(L,ee),S=n.mul($,V),A=n.add(F,L),O=n.add(K,ee);A=n.mul(A,O),O=n.add(E,I),A=n.sub(A,O),O=n.add(F,$);let N=n.add(K,V);return O=n.mul(O,N),N=n.add(E,S),O=n.sub(O,N),N=n.add(L,$),X=n.add(ee,V),N=n.mul(N,X),X=n.add(I,S),N=n.sub(N,X),M=n.mul(f,O),X=n.mul(w,S),M=n.add(X,M),X=n.sub(I,M),M=n.add(I,M),le=n.mul(X,M),I=n.add(E,E),I=n.add(I,E),S=n.mul(f,S),O=n.mul(w,O),I=n.add(I,S),S=n.sub(E,S),S=n.mul(f,S),O=n.add(O,S),E=n.mul(I,O),le=n.add(le,E),E=n.mul(N,O),X=n.mul(A,X),X=n.sub(X,E),E=n.mul(A,I),M=n.mul(N,M),M=n.add(M,E),new x(X,le,M)}subtract(R){return this.add(R.negate())}is0(){return this.equals(x.ZERO)}wNAF(R){return _.wNAFCached(this,R,x.normalizeZ)}multiplyUnsafe(R){const{endo:F,n:L}=e;fr("scalar",R,Vr,L);const $=x.ZERO;if(R===Vr)return $;if(this.is0()||R===qt)return this;if(!F||_.hasPrecomputes(this))return _.wNAFCachedUnsafe(this,R,x.normalizeZ);let{k1neg:K,k1:ee,k2neg:V,k2:X}=F.splitScalar(R),le=$,M=$,f=this;for(;ee>Vr||X>Vr;)ee&qt&&(le=le.add(f)),X&qt&&(M=M.add(f)),f=f.double(),ee>>=qt,X>>=qt;return K&&(le=le.negate()),V&&(M=M.negate()),M=new x(n.mul(M.px,F.beta),M.py,M.pz),le.add(M)}multiply(R){const{endo:F,n:L}=e;fr("scalar",R,qt,L);let $,K;if(F){const{k1neg:ee,k1:V,k2neg:X,k2:le}=F.splitScalar(R);let{p:M,f}=this.wNAF(V),{p:w,f:E}=this.wNAF(le);M=_.constTimeNegate(ee,M),w=_.constTimeNegate(X,w),w=new x(n.mul(w.px,F.beta),w.py,w.pz),$=M.add(w),K=f.add(E)}else{const{p:ee,f:V}=this.wNAF(R);$=ee,K=V}return x.normalizeZ([$,K])[0]}multiplyAndAddUnsafe(R,F,L){const $=x.BASE,K=(V,X)=>X===Vr||X===qt||!V.equals($)?V.multiplyUnsafe(X):V.multiply(X),ee=K(this,F).add(K(R,L));return ee.is0()?void 0:ee}toAffine(R){return v(this,R)}isTorsionFree(){const{h:R,isTorsionFree:F}=e;if(R===qt)return!0;if(F)return F(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:R,clearCofactor:F}=e;return R===qt?this:F?F(x,this):this.multiplyUnsafe(e.h)}toRawBytes(R=!0){return Pi("isCompressed",R),this.assertValidity(),i(x,this,R)}toHex(R=!0){return Pi("isCompressed",R),_o(this.toRawBytes(R))}}x.BASE=new x(e.Gx,e.Gy,n.ONE),x.ZERO=new x(n.ZERO,n.ONE,n.ZERO);const{endo:j,nBitLength:k}=e,_=Zb(x,j?Math.ceil(k/2):k);return{CURVE:e,ProjectivePoint:x,normPrivateKeyToScalar:h,weierstrassEquation:o,isWithinCurveOrder:u}}function uP(t){const e=Y0(t);return dl(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function dP(t){const e=uP(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function l(w){return et(w,r)}function c(w){return pp(w,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:h,weierstrassEquation:m,isWithinCurveOrder:v}=cP({...e,toBytes(w,E,I){const S=E.toAffine(),A=n.toBytes(S.x),O=ko;return Pi("isCompressed",I),I?O(Uint8Array.from([E.hasEvenY()?2:3]),A):O(Uint8Array.from([4]),A,n.toBytes(S.y))},fromBytes(w){const E=w.length,I=w[0],S=w.subarray(1);if(E===o&&(I===2||I===3)){const A=hs(S);if(!V0(A,qt,n.ORDER))throw new Error("Point is not on curve");const O=m(A);let N;try{N=n.sqrt(O)}catch(ne){const re=ne instanceof Error?": "+ne.message:"";throw new Error("Point is not on curve"+re)}const p=(N&qt)===qt;return(I&1)===1!==p&&(N=n.neg(N)),{x:A,y:N}}else if(E===a&&I===4){const A=n.fromBytes(S.subarray(0,n.BYTES)),O=n.fromBytes(S.subarray(n.BYTES,2*n.BYTES));return{x:A,y:O}}else{const A=o,O=a;throw new Error("invalid Point, expected length of "+A+", or uncompressed "+O+", got "+E)}}});function b(w){const E=r>>qt;return w>E}function x(w){return b(w)?l(-w):w}const j=(w,E,I)=>hs(w.slice(E,I));class k{constructor(E,I,S){fr("r",E,qt,r),fr("s",I,qt,r),this.r=E,this.s=I,S!=null&&(this.recovery=S),Object.freeze(this)}static fromCompact(E){const I=i;return E=gt("compactSignature",E,I*2),new k(j(E,0,I),j(E,I,2*I))}static fromDER(E){const{r:I,s:S}=Hr.toSig(gt("DER",E));return new k(I,S)}assertValidity(){}addRecoveryBit(E){return new k(this.r,this.s,E)}recoverPublicKey(E){const{r:I,s:S,recovery:A}=this,O=$(gt("msgHash",E));if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");const N=A===2||A===3?I+e.n:I;if(N>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const p=A&1?"03":"02",P=u.fromHex(p+Rh(N,n.BYTES)),ne=c(N),re=l(-O*ne),se=l(S*ne),me=u.BASE.multiplyAndAddUnsafe(P,re,se);if(!me)throw new Error("point at infinify");return me.assertValidity(),me}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return eu(this.toDERHex())}toDERHex(){return Hr.hexFromSig(this)}toCompactRawBytes(){return eu(this.toCompactHex())}toCompactHex(){const E=i;return Rh(this.r,E)+Rh(this.s,E)}}const _={isValidPrivateKey(w){try{return h(w),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const w=Yb(e.n);return fO(e.randomBytes(w),e.n)},precompute(w=8,E=u.BASE){return E._setWindowSize(w),E.multiply(BigInt(3)),E}};function C(w,E=!0){return u.fromPrivateKey(w).toRawBytes(E)}function R(w){if(typeof w=="bigint")return!1;if(w instanceof u)return!0;const I=gt("key",w).length,S=n.BYTES,A=S+1,O=2*S+1;if(!(e.allowedPrivateKeyLengths||i===A))return I===A||I===O}function F(w,E,I=!0){if(R(w)===!0)throw new Error("first arg must be private key");if(R(E)===!1)throw new Error("second arg must be public key");return u.fromHex(E).multiply(h(w)).toRawBytes(I)}const L=e.bits2int||function(w){if(w.length>8192)throw new Error("input is too large");const E=hs(w),I=w.length*8-s;return I>0?E>>BigInt(I):E},$=e.bits2int_modN||function(w){return l(L(w))},K=qu(s);function ee(w){return fr("num < 2^"+s,w,Vr,K),ul(w,i)}function V(w,E,I=X){if(["recovered","canonical"].some(q=>q in I))throw new Error("sign() legacy options not supported");const{hash:S,randomBytes:A}=e;let{lowS:O,prehash:N,extraEntropy:p}=I;O==null&&(O=!0),w=gt("msgHash",w),fv(I),N&&(w=gt("prehashed msgHash",S(w)));const P=$(w),ne=h(E),re=[ee(ne),ee(P)];if(p!=null&&p!==!1){const q=p===!0?A(n.BYTES):p;re.push(gt("extraEntropy",q))}const se=ko(...re),me=P;function ge(q){const D=L(q);if(!v(D))return;const Q=c(D),Y=u.BASE.multiply(D).toAffine(),Z=l(Y.x);if(Z===Vr)return;const ae=l(Q*l(me+Z*ne));if(ae===Vr)return;let de=(Y.x===Z?0:2)|Number(Y.y&qt),$e=ae;return O&&b(ae)&&($e=x(ae),de^=1),new k(Z,$e,de)}return{seed:se,k2sig:ge}}const X={lowS:e.lowS,prehash:!1},le={lowS:e.lowS,prehash:!1};function M(w,E,I=X){const{seed:S,k2sig:A}=V(w,E,I),O=e;return rO(O.hash.outputLen,O.nByteLength,O.hmac)(S,A)}u.BASE._setWindowSize(8);function f(w,E,I,S=le){var de;const A=w;E=gt("msgHash",E),I=gt("publicKey",I);const{lowS:O,prehash:N,format:p}=S;if(fv(S),"strict"in S)throw new Error("options.strict was renamed to lowS");if(p!==void 0&&p!=="compact"&&p!=="der")throw new Error("format must be compact or der");const P=typeof A=="string"||cl(A),ne=!P&&!p&&typeof A=="object"&&A!==null&&typeof A.r=="bigint"&&typeof A.s=="bigint";if(!P&&!ne)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let re,se;try{if(ne&&(re=new k(A.r,A.s)),P){try{p!=="compact"&&(re=k.fromDER(A))}catch($e){if(!($e instanceof Hr.Err))throw $e}!re&&p!=="der"&&(re=k.fromCompact(A))}se=u.fromHex(I)}catch{return!1}if(!re||O&&re.hasHighS())return!1;N&&(E=e.hash(E));const{r:me,s:ge}=re,q=$(E),D=c(ge),Q=l(q*D),Y=l(me*D),Z=(de=u.BASE.multiplyAndAddUnsafe(se,Q,Y))==null?void 0:de.toAffine();return Z?l(Z.x)===me:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:F,sign:M,verify:f,ProjectivePoint:u,Signature:k,utils:_}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function hP(t){return{hash:t,hmac:(e,...n)=>U_(t,e,Lj(...n)),randomBytes:Lb}}function fP(t,e){const n=r=>dP({...t,...hP(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const D_=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),pv=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),pP=BigInt(0),mP=BigInt(1),vp=BigInt(2),mv=(t,e)=>(t+e/vp)/e;function gP(t){const e=D_,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=dt(u,n,e)*u%e,m=dt(h,n,e)*u%e,v=dt(m,vp,e)*c%e,b=dt(v,i,e)*v%e,x=dt(b,s,e)*b%e,j=dt(x,a,e)*x%e,k=dt(j,l,e)*j%e,_=dt(k,a,e)*x%e,C=dt(_,n,e)*u%e,R=dt(C,o,e)*b%e,F=dt(R,r,e)*c%e,L=dt(F,vp,e);if(!wp.eql(wp.sqr(L),t))throw new Error("Cannot find square root");return L}const wp=hl(D_,void 0,void 0,{sqrt:gP}),yP=fP({a:pP,b:BigInt(7),Fp:wp,n:pv,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=pv,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-mP*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=mv(s*t,e),l=mv(-r*t,e);let c=et(t-a*n-l*i,e),u=et(-a*r-l*s,e);const h=c>o,m=u>o;if(h&&(c=e-c),m&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:m,k2:u}}}},Db);function gv(t){try{return J0.ExtendedPoint.fromHex(t),!0}catch{return!1}}const vP=(t,e)=>J0.sign(t,e.slice(0,32)),wP=J0.verify,Qt=t=>Ce.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Ce.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Ce.Buffer.from(t);class xP{constructor(e){Object.assign(this,e)}encode(){return Ce.Buffer.from(l_(yc,this))}static decode(e){return c_(yc,this,e)}static decodeUnchecked(e){return r_(yc,this,e)}}const yc=new Map;var $_;const bP=32,Mi=32;function _P(t){return t._bn!==void 0}let yv=1;class xe extends xP{constructor(e){if(super({}),this._bn=void 0,_P(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Xt.decode(e);if(n.length!=Mi)throw new Error("Invalid public key input");this._bn=new cv(n)}else this._bn=new cv(e);if(this._bn.byteLength()>Mi)throw new Error("Invalid public key input")}}static unique(){const e=new xe(yv);return yv+=1,new xe(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Xt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Ce.Buffer);if(e.length===Mi)return e;const n=Ce.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=Ce.Buffer.concat([e.toBuffer(),Ce.Buffer.from(n),r.toBuffer()]),s=uv(i);return new xe(s)}static createProgramAddressSync(e,n){let r=Ce.Buffer.alloc(0);e.forEach(function(s){if(s.length>bP)throw new TypeError("Max seed length exceeded");r=Ce.Buffer.concat([r,Qt(s)])}),r=Ce.Buffer.concat([r,n.toBuffer(),Ce.Buffer.from("ProgramDerivedAddress")]);const i=uv(r);if(gv(i))throw new Error("Invalid seeds, address must fall off the curve");return new xe(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(Ce.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new xe(e);return gv(n.toBytes())}}$_=xe;xe.default=new $_("11111111111111111111111111111111");yc.set(xe,{kind:"struct",fields:[["_bn","u256"]]});new xe("BPFLoader1111111111111111111111111111111111");const uo=1232,z_=127,q_=64;class W_ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(W_.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class H_ extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(H_.prototype,"name",{value:"TransactionExpiredTimeoutError"});class da extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(da.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class cu{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Oe=(t="publicKey")=>ht(32,t),to=(t="string")=>{const e=pe([ve("length"),ve("lengthPadding"),ht(fs(ve(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const l={chars:Ce.Buffer.from(s,"utf8")};return r(l,o,a)},i.alloc=s=>ve().span+ve().span+Ce.Buffer.from(s,"utf8").length,i},kP=(t="authorized")=>pe([Oe("staker"),Oe("withdrawer")],t),SP=(t="lockup")=>pe([Bn("unixTimestamp"),Bn("epoch"),Oe("custodian")],t),EP=(t="voteInit")=>pe([Oe("nodePubkey"),Oe("authorizedVoter"),Oe("authorizedWithdrawer"),De("commission")],t),CP=(t="voteAuthorizeWithSeedArgs")=>pe([ve("voteAuthorizationType"),Oe("currentAuthorityDerivedKeyOwnerPubkey"),to("currentAuthorityDerivedKeySeed"),Oe("newAuthorized")],t);function K_(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*n(i.elementLayout)}else if("fields"in i)return K_({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function Vn(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function Gn(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function Lt(t,e){if(!t)throw new Error(e||"Assertion failed")}class Qu{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new Qu(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Lt(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{Lt(n.length>0,"Expected at least one writable signer key");const[l]=n[0];Lt(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new xe(l)),...r.map(([l])=>new xe(l)),...i.map(([l])=>new xe(l)),...s.map(([l])=>new xe(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new xe(s),l=e.findIndex(c=>c.equals(a));l>=0&&(Lt(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}const V_="Reached end of buffer unexpectedly";function Gr(t){if(t.length===0)throw new Error(V_);return t.shift()}function Yn(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(V_);return t.splice(...e)}class Di{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new xe(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Xt.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new cu(this.staticAccountKeys)}static compile(e){const n=Qu.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new cu(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Xt.encode(a.data)}));return new Di({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Gn(n,e);const r=this.instructions.map(h=>{const{accounts:m,programIdIndex:v}=h,b=Array.from(Xt.decode(h.data));let x=[];Gn(x,m.length);let j=[];return Gn(j,b.length),{programIdIndex:v,keyIndicesCount:Ce.Buffer.from(x),keyIndices:m,dataLength:Ce.Buffer.from(j),data:b}});let i=[];Gn(i,r.length);let s=Ce.Buffer.alloc(uo);Ce.Buffer.from(i).copy(s);let o=i.length;r.forEach(h=>{const v=pe([De("programIdIndex"),ht(h.keyIndicesCount.length,"keyIndicesCount"),vn(De("keyIndex"),h.keyIndices.length,"keyIndices"),ht(h.dataLength.length,"dataLength"),vn(De("userdatum"),h.data.length,"data")]).encode(h,s,o);o+=v}),s=s.slice(0,o);const a=pe([ht(1,"numRequiredSignatures"),ht(1,"numReadonlySignedAccounts"),ht(1,"numReadonlyUnsignedAccounts"),ht(n.length,"keyCount"),vn(Oe("key"),e,"keys"),Oe("recentBlockhash")]),l={numRequiredSignatures:Ce.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ce.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ce.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ce.Buffer.from(n),keys:this.accountKeys.map(h=>Qt(h.toBytes())),recentBlockhash:Xt.decode(this.recentBlockhash)};let c=Ce.Buffer.alloc(2048);const u=a.encode(l,c);return s.copy(c,u),c.slice(0,u+s.length)}static from(e){let n=[...e];const r=Gr(n);if(r!==(r&z_))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Gr(n),s=Gr(n),o=Vn(n);let a=[];for(let m=0;m<o;m++){const v=Yn(n,0,Mi);a.push(new xe(Ce.Buffer.from(v)))}const l=Yn(n,0,Mi),c=Vn(n);let u=[];for(let m=0;m<c;m++){const v=Gr(n),b=Vn(n),x=Yn(n,0,b),j=Vn(n),k=Yn(n,0,j),_=Xt.encode(Ce.Buffer.from(k));u.push({programIdIndex:v,accounts:x,data:_})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Xt.encode(Ce.Buffer.from(l)),accountKeys:a,instructions:u};return new Di(h)}}class uu{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new cu(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=Qu.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const u of s){const h=n.extractTableLookup(u);if(h!==void 0){const[m,{writable:v,readonly:b}]=h;r.push(m),i.writable.push(...v),i.readonly.push(...b)}}const[o,a]=n.getMessageComponents(),c=new cu(a,i).compileInstructions(e.instructions);return new uu({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();Gn(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Gn(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Gn(s,this.addressTableLookups.length);const o=pe([De("prefix"),pe([De("numRequiredSignatures"),De("numReadonlySignedAccounts"),De("numReadonlyUnsignedAccounts")],"header"),ht(e.length,"staticAccountKeysLength"),vn(Oe(),this.staticAccountKeys.length,"staticAccountKeys"),Oe("recentBlockhash"),ht(r.length,"instructionsLength"),ht(n.length,"serializedInstructions"),ht(s.length,"addressTableLookupsLength"),ht(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(uo),c=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:Xt.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(uo);for(const r of this.compiledInstructions){const i=Array();Gn(i,r.accountKeyIndexes.length);const s=Array();Gn(s,r.data.length);const o=pe([De("programIdIndex"),ht(i.length,"encodedAccountKeyIndexesLength"),vn(De(),r.accountKeyIndexes.length,"accountKeyIndexes"),ht(s.length,"encodedDataLength"),ht(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(uo);for(const r of this.addressTableLookups){const i=Array();Gn(i,r.writableIndexes.length);const s=Array();Gn(s,r.readonlyIndexes.length);const o=pe([Oe("accountKey"),ht(i.length,"encodedWritableIndexesLength"),vn(De(),r.writableIndexes.length,"writableIndexes"),ht(s.length,"encodedReadonlyIndexesLength"),vn(De(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=Gr(n),i=r&z_;Lt(r!==i,"Expected versioned message but received legacy message");const s=i;Lt(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Gr(n),numReadonlySignedAccounts:Gr(n),numReadonlyUnsignedAccounts:Gr(n)},a=[],l=Vn(n);for(let b=0;b<l;b++)a.push(new xe(Yn(n,0,Mi)));const c=Xt.encode(Yn(n,0,Mi)),u=Vn(n),h=[];for(let b=0;b<u;b++){const x=Gr(n),j=Vn(n),k=Yn(n,0,j),_=Vn(n),C=new Uint8Array(Yn(n,0,_));h.push({programIdIndex:x,accountKeyIndexes:k,data:C})}const m=Vn(n),v=[];for(let b=0;b<m;b++){const x=new xe(Yn(n,0,Mi)),j=Vn(n),k=Yn(n,0,j),_=Vn(n),C=Yn(n,0,_);v.push({accountKey:x,writableIndexes:k,readonlyIndexes:C})}return new uu({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:h,addressTableLookups:v})}}let ci=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const NP=Ce.Buffer.alloc(q_).fill(0);class ar{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ce.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Tr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new ar(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<n.length;x++)if(n[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const i=[],s=[];n.forEach(x=>{x.keys.forEach(k=>{s.push({...k})});const j=x.programId.toString();i.includes(j)||i.push(j)}),i.forEach(x=>{s.push({pubkey:new xe(x),isSigner:!1,isWritable:!1})});const o=[];s.forEach(x=>{const j=x.pubkey.toString(),k=o.findIndex(_=>_.pubkey.toString()===j);k>-1?(o[k].isWritable=o[k].isWritable||x.isWritable,o[k].isSigner=o[k].isSigner||x.isSigner):o.push(x)}),o.sort(function(x,j){if(x.isSigner!==j.isSigner)return x.isSigner?-1:1;if(x.isWritable!==j.isWritable)return x.isWritable?-1:1;const k={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(j.pubkey.toBase58(),"en",k)});const a=o.findIndex(x=>x.pubkey.equals(r));if(a>-1){const[x]=o.splice(a,1);x.isSigner=!0,x.isWritable=!0,o.unshift(x)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const x of this.signatures){const j=o.findIndex(k=>k.pubkey.equals(x.publicKey));if(j>-1)o[j].isSigner||(o[j].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let l=0,c=0,u=0;const h=[],m=[];o.forEach(({pubkey:x,isSigner:j,isWritable:k})=>{j?(h.push(x.toString()),l+=1,k||(c+=1)):(m.push(x.toString()),k||(u+=1))});const v=h.concat(m),b=n.map(x=>{const{data:j,programId:k}=x;return{programIdIndex:v.indexOf(k.toString()),accounts:x.keys.map(_=>v.indexOf(_.pubkey.toString())),data:Xt.encode(j)}});return b.forEach(x=>{Lt(x.programIdIndex>=0),x.accounts.forEach(j=>Lt(j>=0))}),new Di({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:v,recentBlockhash:e,instructions:b})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=vP(r,i.secretKey);this._addSignature(i.publicKey,Qt(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){Lt(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Ce.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(s):wP(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,n);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];Gn(r,n.length);const i=r.length+n.length*64+e.length,s=Ce.Buffer.alloc(i);return Lt(n.length<256),Ce.Buffer.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&(Lt(o.length===64,"signature has invalid length"),Ce.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),Lt(s.length<=uo,`Transaction too large: ${s.length} > ${uo}`),s}get keys(){return Lt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Lt(this.instructions.length===1),this.instructions[0].programId}get data(){return Lt(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Vn(n);let i=[];for(let s=0;s<r;s++){const o=Yn(n,0,q_);i.push(Xt.encode(Ce.Buffer.from(o)))}return Tr.populate(Di.from(n),i)}static populate(e,n=[]){const r=new Tr;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==Xt.encode(NP)?null:Xt.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ar({keys:s,programId:e.accountKeys[i.programIdIndex],data:Xt.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}const IP=160,AP=64,TP=IP/AP,RP=1e3/TP;new xe("SysvarC1ock11111111111111111111111111111111");new xe("SysvarEpochSchedu1e111111111111111111111111");new xe("Sysvar1nstructions1111111111111111111111111");const Oh=new xe("SysvarRecentB1ockHashes11111111111111111111"),vv=new xe("SysvarRent111111111111111111111111111111111");new xe("SysvarRewards111111111111111111111111111111");new xe("SysvarS1otHashes111111111111111111111111111");new xe("SysvarS1otHistory11111111111111111111111111");new xe("SysvarStakeHistory1111111111111111111111111");class wv extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,n(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class ye extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function zs(t){return new Promise(e=>setTimeout(e,t))}function qn(t,e){const n=t.layout.span>=0?t.layout.span:K_(t,e),r=Ce.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}const jP=Gt("lamportsPerSignature"),G_=pe([ve("version"),ve("state"),Oe("authorizedPubkey"),Oe("nonce"),pe([jP],"feeCalculator")]),xv=G_.span;class dm{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=G_.decode(Qt(e),0);return new dm({authorizedPubkey:new xe(n.authorizedPubkey),nonce:new xe(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Eo(t){const e=ht(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,s=x3();return i.decode=(o,a)=>{const l=n(o,a);return s.decode(l)},i.encode=(o,a,l)=>{const c=s.encode(o);return r(c,a,l)},i}const Wn=Object.freeze({Create:{index:0,layout:pe([ve("instruction"),Bn("lamports"),Bn("space"),Oe("programId")])},Assign:{index:1,layout:pe([ve("instruction"),Oe("programId")])},Transfer:{index:2,layout:pe([ve("instruction"),Eo("lamports")])},CreateWithSeed:{index:3,layout:pe([ve("instruction"),Oe("base"),to("seed"),Bn("lamports"),Bn("space"),Oe("programId")])},AdvanceNonceAccount:{index:4,layout:pe([ve("instruction")])},WithdrawNonceAccount:{index:5,layout:pe([ve("instruction"),Bn("lamports")])},InitializeNonceAccount:{index:6,layout:pe([ve("instruction"),Oe("authorized")])},AuthorizeNonceAccount:{index:7,layout:pe([ve("instruction"),Oe("authorized")])},Allocate:{index:8,layout:pe([ve("instruction"),Bn("space")])},AllocateWithSeed:{index:9,layout:pe([ve("instruction"),Oe("base"),to("seed"),Bn("space"),Oe("programId")])},AssignWithSeed:{index:10,layout:pe([ve("instruction"),Oe("base"),to("seed"),Oe("programId")])},TransferWithSeed:{index:11,layout:pe([ve("instruction"),Eo("lamports"),to("seed"),Oe("programId")])},UpgradeNonceAccount:{index:12,layout:pe([ve("instruction")])}});class Qa{constructor(){}static createAccount(e){const n=Wn.Create,r=qn(n,{lamports:e.lamports,space:e.space,programId:Qt(e.programId.toBuffer())});return new ar({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=Wn.TransferWithSeed;n=qn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Qt(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Wn.Transfer;n=qn(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ar({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=Wn.AssignWithSeed;n=qn(i,{base:Qt(e.basePubkey.toBuffer()),seed:e.seed,programId:Qt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Wn.Assign;n=qn(i,{programId:Qt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ar({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=Wn.CreateWithSeed,r=qn(n,{base:Qt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Qt(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ar({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new Tr;"basePubkey"in e&&"seed"in e?n.add(Qa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:xv,programId:this.programId})):n.add(Qa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:xv,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=Wn.InitializeNonceAccount,r=qn(n,{authorized:Qt(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Oh,isSigner:!1,isWritable:!1},{pubkey:vv,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ar(i)}static nonceAdvance(e){const n=Wn.AdvanceNonceAccount,r=qn(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Oh,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ar(i)}static nonceWithdraw(e){const n=Wn.WithdrawNonceAccount,r=qn(n,{lamports:e.lamports});return new ar({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Oh,isSigner:!1,isWritable:!1},{pubkey:vv,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=Wn.AuthorizeNonceAccount,r=qn(n,{authorized:Qt(e.newAuthorizedPubkey.toBuffer())});return new ar({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=Wn.AllocateWithSeed;n=qn(i,{base:Qt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Qt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Wn.Allocate;n=qn(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ar({keys:r,programId:this.programId,data:n})}}Qa.programId=new xe("11111111111111111111111111111111");new xe("BPFLoader2111111111111111111111111111111111");function OP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ph,bv;function PP(){if(bv)return Ph;bv=1;var t=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var s in r)i.push(s);return i};function n(r,i){var s,o,a,l,c,u,h;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(h=t.call(r),h==="[object Array]"){for(a="[",o=r.length-1,s=0;s<o;s++)a+=n(r[s],!0)+",";return o>-1&&(a+=n(r[s],!0)),a+"]"}else if(h==="[object Object]"){for(l=e(r).sort(),o=l.length,a="",s=0;s<o;)c=l[s],u=n(r[c],!1),u!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+u),s++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Ph=function(r){var i=n(r,!1);if(i!==void 0)return""+i},Ph}var MP=PP(),_v=OP(MP);const ra=32;function Mh(t){let e=0;for(;t>1;)t/=2,e++;return e}function BP(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class LP{constructor(e,n,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Mh(BP(e+ra+1))-Mh(ra)-1,r=this.getSlotsInEpoch(n),i=e-(r-ra);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=n%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*ra:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Mh(ra)):this.slotsPerEpoch}}var FP=globalThis.fetch;class UP extends sP{constructor(e,n,r){const i=s=>{const o=rP(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function DP(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const kv=56;class Sv{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=DP($P,e),r=e.length-kv;Lt(r>=0,"lookup table is invalid"),Lt(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=pe([vn(Oe(),i,"addresses")]).decode(e.slice(kv));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new xe(n.authority[0]):void 0,addresses:s.map(o=>new xe(o))}}}const $P={index:1,layout:pe([ve("typeIndex"),Eo("deactivationSlot"),Gt("lastExtendedSlot"),De("lastExtendedStartIndex"),De(),vn(Oe(),fs(De(),-1),"authority")])},zP=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function qP(t){const e=t.match(zP);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${o}//${r}${l}${s}`}const lt=ml(cm(xe),oe(),t=>new xe(t)),Y_=um([oe(),rt("base64")]),hm=ml(cm(Ce.Buffer),Y_,t=>Ce.Buffer.from(t[0],"base64")),WP=30*1e3;function HP(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Ve(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function Ev(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function Q_(t){return xn([te({jsonrpc:rt("2.0"),id:oe(),result:t}),te({jsonrpc:rt("2.0"),id:oe(),error:te({code:$o(),message:oe(),data:we(N3())})})])}const KP=Q_($o());function Ae(t){return ml(Q_(t),KP,e=>"error"in e?e:{...e,result:ce(e.result,t)})}function mt(t){return Ae(te({context:te({slot:H()}),value:t}))}function Ju(t){return te({context:te({slot:H()}),value:t})}function Bh(t,e){return t===0?new uu({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new xe(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Xt.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Di(e)}const VP=te({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()}),GP=Ae(ue(he(te({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:we(he(H()))})))),YP=ue(te({slot:H(),prioritizationFee:H()})),QP=te({total:H(),validator:H(),foundation:H(),epoch:H()}),JP=te({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:we(H()),transactionCount:we(H())}),ZP=te({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:Mr(),firstNormalEpoch:H(),firstNormalSlot:H()}),XP=T_(oe(),ue(H())),Es=he(xn([te({}),oe()])),e4=te({err:Es}),t4=rt("receivedSignature"),n4=te({"solana-core":oe(),"feature-set":we(H())}),r4=te({program:oe(),programId:lt,parsed:$o()}),i4=te({programId:lt,accounts:ue(lt),data:oe()}),Cv=mt(te({err:he(xn([te({}),oe()])),logs:he(ue(oe())),accounts:we(he(ue(he(te({executable:Mr(),owner:oe(),lamports:H(),data:ue(oe()),rentEpoch:we(H())}))))),unitsConsumed:we(H()),returnData:we(he(te({programId:oe(),data:um([oe(),rt("base64")])}))),innerInstructions:we(he(ue(te({index:H(),instructions:ue(xn([r4,i4]))}))))})),s4=mt(te({byIdentity:T_(oe(),ue(H())),range:te({firstSlot:H(),lastSlot:H()})}));function o4(t,e,n,r,i,s){const o=n||FP;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(u,h)=>{const m=await new Promise((v,b)=>{try{r(u,h,(x,j)=>v([x,j]))}catch(x){b(x)}});return await o(...m)}),new eP(async(u,h)=>{const m={method:"POST",body:u,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},oM)};try{let v=5,b,x=500;for(;l?b=await l(t,m):b=await o(t,m),!(b.status!==429||i===!0||(v-=1,v===0));)console.error(`Server responded with ${b.status} ${b.statusText}.  Retrying after ${x}ms delay...`),await zs(x),x*=2;const j=await b.text();b.ok?h(null,j):h(new Error(`${b.status} ${b.statusText}: ${j}`))}catch(v){v instanceof Error&&h(v)}},{})}function a4(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(s,o)=>{if(s){i(s);return}r(o)})})}function l4(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){r(s);return}n(o)})})}const c4=Ae(VP),u4=Ae(QP),d4=Ae(YP),h4=Ae(JP),f4=Ae(ZP),p4=Ae(XP),m4=Ae(H()),g4=mt(te({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:ue(lt)})),xp=te({amount:oe(),uiAmount:he(H()),decimals:H(),uiAmountString:we(oe())}),y4=mt(ue(te({address:lt,amount:oe(),uiAmount:he(H()),decimals:H(),uiAmountString:we(oe())}))),v4=mt(ue(te({pubkey:lt,account:te({executable:Mr(),owner:lt,lamports:H(),data:hm,rentEpoch:H()})}))),bp=te({program:oe(),parsed:$o(),space:H()}),w4=mt(ue(te({pubkey:lt,account:te({executable:Mr(),owner:lt,lamports:H(),data:bp,rentEpoch:H()})}))),x4=mt(ue(te({lamports:H(),address:lt}))),Ja=te({executable:Mr(),owner:lt,lamports:H(),data:hm,rentEpoch:H()}),b4=te({pubkey:lt,account:Ja}),_4=ml(xn([cm(Ce.Buffer),bp]),xn([Y_,bp]),t=>Array.isArray(t)?ce(t,hm):t),_p=te({executable:Mr(),owner:lt,lamports:H(),data:_4,rentEpoch:H()}),k4=te({pubkey:lt,account:_p}),S4=te({state:xn([rt("active"),rt("inactive"),rt("activating"),rt("deactivating")]),active:H(),inactive:H()}),E4=Ae(ue(te({signature:oe(),slot:H(),err:Es,memo:he(oe()),blockTime:we(he(H()))}))),C4=Ae(ue(te({signature:oe(),slot:H(),err:Es,memo:he(oe()),blockTime:we(he(H()))}))),N4=te({subscription:H(),result:Ju(Ja)}),I4=te({pubkey:lt,account:Ja}),A4=te({subscription:H(),result:Ju(I4)}),T4=te({parent:H(),slot:H(),root:H()}),R4=te({subscription:H(),result:T4}),j4=xn([te({type:xn([rt("firstShredReceived"),rt("completed"),rt("optimisticConfirmation"),rt("root")]),slot:H(),timestamp:H()}),te({type:rt("createdBank"),parent:H(),slot:H(),timestamp:H()}),te({type:rt("frozen"),slot:H(),timestamp:H(),stats:te({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),te({type:rt("dead"),slot:H(),timestamp:H(),err:oe()})]),O4=te({subscription:H(),result:j4}),P4=te({subscription:H(),result:Ju(xn([e4,t4]))}),M4=te({subscription:H(),result:H()}),B4=te({pubkey:oe(),gossip:he(oe()),tpu:he(oe()),rpc:he(oe()),version:he(oe())}),Nv=te({votePubkey:oe(),nodePubkey:oe(),activatedStake:H(),epochVoteAccount:Mr(),epochCredits:ue(um([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:he(H())}),L4=Ae(te({current:ue(Nv),delinquent:ue(Nv)})),F4=xn([rt("processed"),rt("confirmed"),rt("finalized")]),U4=te({slot:H(),confirmations:he(H()),err:Es,confirmationStatus:we(F4)}),D4=mt(ue(he(U4))),$4=Ae(H()),J_=te({accountKey:lt,writableIndexes:ue(H()),readonlyIndexes:ue(H())}),fm=te({signatures:ue(oe()),message:te({accountKeys:ue(oe()),header:te({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:ue(te({accounts:ue(H()),data:oe(),programIdIndex:H()})),recentBlockhash:oe(),addressTableLookups:we(ue(J_))})}),Z_=te({pubkey:lt,signer:Mr(),writable:Mr(),source:we(xn([rt("transaction"),rt("lookupTable")]))}),X_=te({accountKeys:ue(Z_),signatures:ue(oe())}),ek=te({parsed:$o(),program:oe(),programId:lt}),tk=te({accounts:ue(lt),data:oe(),programId:lt}),z4=xn([tk,ek]),q4=xn([te({parsed:$o(),program:oe(),programId:oe()}),te({accounts:ue(oe()),data:oe(),programId:oe()})]),nk=ml(z4,q4,t=>"accounts"in t?ce(t,tk):ce(t,ek)),rk=te({signatures:ue(oe()),message:te({accountKeys:ue(Z_),instructions:ue(nk),recentBlockhash:oe(),addressTableLookups:we(he(ue(J_)))})}),du=te({accountIndex:H(),mint:oe(),owner:we(oe()),programId:we(oe()),uiTokenAmount:xp}),ik=te({writable:ue(lt),readonly:ue(lt)}),Zu=te({err:Es,fee:H(),innerInstructions:we(he(ue(te({index:H(),instructions:ue(te({accounts:ue(H()),data:oe(),programIdIndex:H()}))})))),preBalances:ue(H()),postBalances:ue(H()),logMessages:we(he(ue(oe()))),preTokenBalances:we(he(ue(du))),postTokenBalances:we(he(ue(du))),loadedAddresses:we(ik),computeUnitsConsumed:we(H())}),pm=te({err:Es,fee:H(),innerInstructions:we(he(ue(te({index:H(),instructions:ue(nk)})))),preBalances:ue(H()),postBalances:ue(H()),logMessages:we(he(ue(oe()))),preTokenBalances:we(he(ue(du))),postTokenBalances:we(he(ue(du))),loadedAddresses:we(ik),computeUnitsConsumed:we(H())}),zo=xn([rt(0),rt("legacy")]),Cs=te({pubkey:oe(),lamports:H(),postBalance:he(H()),rewardType:he(oe()),commission:we(he(H()))}),W4=Ae(he(te({blockhash:oe(),previousBlockhash:oe(),parentSlot:H(),transactions:ue(te({transaction:fm,meta:he(Zu),version:we(zo)})),rewards:we(ue(Cs)),blockTime:he(H()),blockHeight:he(H())}))),H4=Ae(he(te({blockhash:oe(),previousBlockhash:oe(),parentSlot:H(),rewards:we(ue(Cs)),blockTime:he(H()),blockHeight:he(H())}))),K4=Ae(he(te({blockhash:oe(),previousBlockhash:oe(),parentSlot:H(),transactions:ue(te({transaction:X_,meta:he(Zu),version:we(zo)})),rewards:we(ue(Cs)),blockTime:he(H()),blockHeight:he(H())}))),V4=Ae(he(te({blockhash:oe(),previousBlockhash:oe(),parentSlot:H(),transactions:ue(te({transaction:rk,meta:he(pm),version:we(zo)})),rewards:we(ue(Cs)),blockTime:he(H()),blockHeight:he(H())}))),G4=Ae(he(te({blockhash:oe(),previousBlockhash:oe(),parentSlot:H(),transactions:ue(te({transaction:X_,meta:he(pm),version:we(zo)})),rewards:we(ue(Cs)),blockTime:he(H()),blockHeight:he(H())}))),Y4=Ae(he(te({blockhash:oe(),previousBlockhash:oe(),parentSlot:H(),rewards:we(ue(Cs)),blockTime:he(H()),blockHeight:he(H())}))),Q4=Ae(he(te({blockhash:oe(),previousBlockhash:oe(),parentSlot:H(),transactions:ue(te({transaction:fm,meta:he(Zu)})),rewards:we(ue(Cs)),blockTime:he(H())}))),Iv=Ae(he(te({blockhash:oe(),previousBlockhash:oe(),parentSlot:H(),signatures:ue(oe()),blockTime:he(H())}))),Lh=Ae(he(te({slot:H(),meta:he(Zu),blockTime:we(he(H())),transaction:fm,version:we(zo)}))),Vl=Ae(he(te({slot:H(),transaction:rk,meta:he(pm),blockTime:we(he(H())),version:we(zo)}))),J4=mt(te({blockhash:oe(),lastValidBlockHeight:H()})),Z4=mt(Mr()),X4=te({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()}),eM=Ae(ue(X4)),tM=mt(he(te({feeCalculator:te({lamportsPerSignature:H()})}))),nM=Ae(oe()),rM=Ae(oe()),iM=te({err:Es,logs:ue(oe()),signature:oe()}),sM=te({result:Ju(iM),subscription:H()}),oM={"solana-client":"js/1.0.0-maintenance"};class aM{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async u=>{const{commitment:h,config:m}=Ve(u),v=this._buildArgs([],h,void 0,m),b=_v(v);return c[b]=c[b]??(async()=>{try{const x=await this._rpcRequest("getBlockHeight",v),j=ce(x,Ae(H()));if("error"in j)throw new ye(j.error,"failed to get block height information");return j.result}finally{delete c[b]}})(),await c[b]}})();let r,i,s,o,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,s=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=HP(e),this._rpcWsEndpoint=r||qP(e),this._rpcClient=o4(e,i,s,o,a,l),this._rpcRequest=a4(this._rpcClient),this._rpcBatchRequest=l4(this._rpcClient),this._rpcWebSocket=new UP(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=Ve(n),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=ce(o,mt(H()));if("error"in a)throw new ye(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=ce(n,Ae(he(H())));if("error"in r)throw new ye(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=ce(e,Ae(H()));if("error"in n)throw new ye(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=ce(e,m4);if("error"in n)throw new ye(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=ce(r,g4);if("error"in i)throw new ye(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),s=ce(i,mt(xp));if("error"in s)throw new ye(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),s=ce(i,mt(xp));if("error"in s)throw new ye(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:s}=Ve(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=ce(l,v4);if("error"in c)throw new ye(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=ce(o,w4);if("error"in a)throw new ye(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),s=ce(i,x4);if("error"in s)throw new ye(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),s=ce(i,y4);if("error"in s)throw new ye(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=Ve(n),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=ce(o,mt(he(Ja)));if("error"in a)throw new ye(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=Ve(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=ce(o,mt(he(_p)));if("error"in a)throw new ye(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=Ve(n),s=e.map(c=>c.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),l=ce(a,mt(ue(he(_p))));if("error"in l)throw new ye(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=Ve(n),s=e.map(c=>c.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),l=ce(a,mt(ue(he(Ja))));if("error"in l)throw new ye(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:s}=Ve(n),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),l=ce(a,Ae(S4));if("error"in l)throw new ye(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=Ve(n),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",{...o,...o.filters?{filters:Ev(o.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=ue(b4),u=o.withContext===!0?ce(l,mt(c)):ce(l,Ae(c));if("error"in u)throw new ye(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=Ve(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=ce(o,Ae(ue(k4)));if("error"in a)throw new ye(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=Xt.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Lt(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,s=!1;const o=new Promise((l,c)=>{try{r=this.onSignature(n,(h,m)=>{r=void 0;const v={context:m,value:h};l({__type:ci.PROCESSED,response:v})},e);const u=new Promise(h=>{r==null?h():i=this._onSubscriptionStateChange(r,m=>{m==="subscribed"&&h()})});(async()=>{if(await u,s)return;const h=await this.getSignatureStatus(n);if(s||h==null)return;const{context:m,value:v}=h;if(v!=null)if(v!=null&&v.err)c(v.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(v.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(v.confirmationStatus==="processed"||v.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,l({__type:ci.PROCESSED,response:{context:m,value:v}})}})()}catch(u){c(u)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(h=>{const m=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let v=await m();if(!s){for(;v<=r;)if(await zs(1e3),s||(v=await m(),s))return;h({__type:ci.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),c=this.getCancellationPromise(n);let u;try{const h=await Promise.race([c,l,o]);if(h.__type===ci.PROCESSED)u=h.response;else throw new W_(i)}finally{s=!0,a()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const l=new Promise(v=>{let b=s,x=null;const j=async()=>{try{const{context:k,value:_}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return x=k.slot,_==null?void 0:_.nonce}catch{return b}};(async()=>{if(b=await j(),!a)for(;;){if(s!==b){v({__type:ci.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await zs(2e3),a||(b=await j(),a))return}})()}),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),h=this.getCancellationPromise(n);let m;try{const v=await Promise.race([h,u,l]);if(v.__type===ci.PROCESSED)m=v.response;else{let b;for(;;){const x=await this.getSignatureStatus(o);if(x==null)break;if(x.context.slot<(v.slotInWhichNonceDidAdvance??r)){await zs(400);continue}b=x;break}if(b!=null&&b.value){const x=e||"finalized",{confirmationStatus:j}=b.value;switch(x){case"processed":case"recent":if(j!=="processed"&&j!=="confirmed"&&j!=="finalized")throw new da(o);break;case"confirmed":case"single":case"singleGossip":if(j!=="confirmed"&&j!=="finalized")throw new da(o);break;case"finalized":case"max":case"root":if(j!=="finalized")throw new da(o);break;default:}m={context:b.context,value:{err:b.value.err}}}else throw new da(o)}}finally{a=!0,c()}return m}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:ci.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([o,i]);if(l.__type===ci.PROCESSED)a=l.response;else throw new H_(n,l.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=ce(e,Ae(ue(B4)));if("error"in n)throw new ye(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=ce(r,L4);if("error"in i)throw new ye(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=Ve(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlot",i),o=ce(s,Ae(H()));if("error"in o)throw new ye(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=Ve(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=ce(s,Ae(oe()));if("error"in o)throw new ye(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),s=ce(i,Ae(ue(lt)));if("error"in s)throw new ye(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);Lt(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),s=ce(i,D4);if("error"in s)throw new ye(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:n,config:r}=Ve(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=ce(s,Ae(H()));if("error"in o)throw new ye(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=ce(r,c4);if("error"in i)throw new ye(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:s}=Ve(r),o=this._buildArgs([e.map(c=>c.toBase58())],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),l=ce(a,GP);if("error"in l)throw new ye(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=ce(e,u4);if("error"in n)throw new ye(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=Ve(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=ce(s,h4);if("error"in o)throw new ye(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=ce(e,f4);if("error"in n)throw new ye(n.error,"failed to get epoch schedule");const r=n.result;return new LP(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=ce(e,p4);if("error"in n)throw new ye(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=ce(i,$4);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=ce(n,eM);if("error"in r)throw new ye(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=ce(i,tM);if("error"in s)throw new ye(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=Qt(e.serialize()).toString("base64"),i=this._buildArgs([r],n),s=await this._rpcRequest("getFeeForMessage",i),o=ce(s,mt(he(H())));if("error"in o)throw new ye(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=ce(i,d4);if("error"in s)throw new ye(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=Ve(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=ce(s,J4);if("error"in o)throw new ye(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=Ve(n),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=ce(o,Z4);if("error"in a)throw new ye(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=ce(e,Ae(n4));if("error"in n)throw new ye(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=ce(e,Ae(oe()));if("error"in n)throw new ye(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=Ve(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ce(o,K4);if("error"in a)throw a.error;return a.result}case"none":{const a=ce(o,H4);if("error"in a)throw a.error;return a.result}default:{const a=ce(o,W4);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:u,version:h})=>({meta:u,transaction:{...c,message:Bh(h,c.message)},version:h}))}:null}}}catch(a){throw new ye(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=Ve(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ce(o,G4);if("error"in a)throw a.error;return a.result}case"none":{const a=ce(o,Y4);if("error"in a)throw a.error;return a.result}default:{const a=ce(o,V4);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ye(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getBlockProduction",i),o=ce(s,s4);if("error"in o)throw new ye(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:i}=Ve(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=ce(o,Lh);if("error"in a)throw new ye(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:Bh(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=Ve(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=ce(o,Vl);if("error"in a)throw new ye(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=Ve(n),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(l=>{const c=ce(l,Vl);if("error"in c)throw new ye(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:i}=Ve(n),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(l=>{const c=ce(l,Lh);if("error"in c)throw new ye(c.error,"failed to get transactions");const u=c.result;return u&&{...u,transaction:{...u.transaction,message:Bh(u.version,u.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getBlock",r),s=ce(i,Q4);if("error"in s)throw new ye(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:l,meta:c})=>{const u=new Di(l.message);return{meta:c,transaction:{...l,message:u}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Tr.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),s=await this._rpcRequest("getBlocks",i),o=ce(s,Ae(ue(H())));if("error"in o)throw new ye(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=ce(i,Iv);if("error"in s)throw new ye(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=ce(i,Iv);if("error"in s)throw new ye(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getTransaction",r),s=ce(i,Lh);if("error"in s)throw new ye(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Di(o.transaction.message),l=o.transaction.signatures;return{...o,transaction:Tr.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),s=ce(i,Vl);if("error"in s)throw new ye(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=ce(o,Vl);if("error"in a)throw new ye(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<s));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=ce(s,E4);if("error"in o)throw new ye(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getSignaturesForAddress",i),o=ce(s,C4);if("error"in o)throw new ye(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=new Sv({key:e,state:Sv.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=dm.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=ce(r,nM);if("error"in i)throw new ye(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await zs(100);const r=Date.now()-this._blockhashInfo.lastFetch>=WP;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await zs(RP/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=Ve(e),i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=ce(s,mt(H()));if("error"in o)throw new ye(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const x=e.serialize(),j=Ce.Buffer.from(x).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const k=n||{};k.encoding="base64","commitment"in k||(k.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(k.innerInstructions=n.innerInstructions);const _=[j,k],C=await this._rpcRequest("simulateTransaction",_),R=ce(C,Cv);if("error"in R)throw new Error("failed to simulate transaction: "+R.error.message);return R.result}let i;if(e instanceof Tr){let b=e;i=new Tr,i.feePayer=b.feePayer,i.instructions=e.instructions,i.nonceInfo=b.nonceInfo,i.signatures=b.signatures}else i=Tr.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(i.nonceInfo&&s)i.sign(...s);else{let b=this._disableBlockhashCaching;for(;;){const x=await this._blockhashWithExpiryBlockHeight(b);if(i.lastValidBlockHeight=x.lastValidBlockHeight,i.recentBlockhash=x.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const j=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(j)&&!this._blockhashInfo.transactionSignatures.includes(j)){this._blockhashInfo.simulatedSignatures.push(j);break}else b=!0}}const o=i._compile(),a=o.serialize(),c=i._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const b=(Array.isArray(r)?r:o.nonProgramIds()).map(x=>x.toBase58());u.accounts={encoding:"base64",addresses:b}}s&&(u.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(u.innerInstructions=n.innerInstructions);const h=[c,u],m=await this._rpcRequest("simulateTransaction",h),v=ce(m,Cv);if("error"in v){let b;if("data"in v.error&&(b=v.error.data.logs,b&&Array.isArray(b))){const x=`
    `,j=x+b.join(x);console.error(v.error.message,j)}throw new wv({action:"simulate",signature:"",transactionMessage:v.error.message,logs:b})}return v.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))o=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,n){const r=Qt(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,s=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),l=ce(a,rM);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new wv({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=ce(e,N4);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=_v([e.method,n]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];Lt(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:i,config:s}=Ve(r),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=ce(e,A4);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const{commitment:s,config:o}=Ve(r),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:Ev(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=ce(e,sM);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=ce(e,R4);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=ce(e,O4);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const s=n||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const s=n||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=ce(e,P4);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,n,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=ce(e,M4);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:pe([ve("instruction"),Eo("recentSlot"),De("bumpSeed")])},FreezeLookupTable:{index:1,layout:pe([ve("instruction")])},ExtendLookupTable:{index:2,layout:pe([ve("instruction"),Eo(),vn(Oe(),fs(ve(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:pe([ve("instruction")])},CloseLookupTable:{index:4,layout:pe([ve("instruction")])}});new xe("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:pe([De("instruction"),ve("units"),ve("additionalFee")])},RequestHeapFrame:{index:1,layout:pe([De("instruction"),ve("bytes")])},SetComputeUnitLimit:{index:2,layout:pe([De("instruction"),ve("units")])},SetComputeUnitPrice:{index:3,layout:pe([De("instruction"),Eo("microLamports")])}});new xe("ComputeBudget111111111111111111111111111111");pe([De("numSignatures"),De("padding"),Kn("signatureOffset"),Kn("signatureInstructionIndex"),Kn("publicKeyOffset"),Kn("publicKeyInstructionIndex"),Kn("messageDataOffset"),Kn("messageDataSize"),Kn("messageInstructionIndex")]);new xe("Ed25519SigVerify111111111111111111111111111");yP.utils.isValidPrivateKey;pe([De("numSignatures"),Kn("signatureOffset"),De("signatureInstructionIndex"),Kn("ethAddressOffset"),De("ethAddressInstructionIndex"),Kn("messageDataOffset"),Kn("messageDataSize"),De("messageInstructionIndex"),ht(20,"ethAddress"),ht(64,"signature"),De("recoveryId")]);new xe("KeccakSecp256k11111111111111111111111111111");var sk;new xe("StakeConfig11111111111111111111111111111111");class ok{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}sk=ok;ok.default=new sk(0,0,xe.default);Object.freeze({Initialize:{index:0,layout:pe([ve("instruction"),kP(),SP()])},Authorize:{index:1,layout:pe([ve("instruction"),Oe("newAuthorized"),ve("stakeAuthorizationType")])},Delegate:{index:2,layout:pe([ve("instruction")])},Split:{index:3,layout:pe([ve("instruction"),Bn("lamports")])},Withdraw:{index:4,layout:pe([ve("instruction"),Bn("lamports")])},Deactivate:{index:5,layout:pe([ve("instruction")])},Merge:{index:7,layout:pe([ve("instruction")])},AuthorizeWithSeed:{index:8,layout:pe([ve("instruction"),Oe("newAuthorized"),ve("stakeAuthorizationType"),to("authoritySeed"),Oe("authorityOwner")])}});new xe("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:pe([ve("instruction"),EP()])},Authorize:{index:1,layout:pe([ve("instruction"),Oe("newAuthorized"),ve("voteAuthorizationType")])},Withdraw:{index:3,layout:pe([ve("instruction"),Bn("lamports")])},UpdateValidatorIdentity:{index:4,layout:pe([ve("instruction")])},AuthorizeWithSeed:{index:10,layout:pe([ve("instruction"),CP()])}});new xe("Vote111111111111111111111111111111111111111");new xe("Va1idator1nfo111111111111111111111111111111");te({name:oe(),website:we(oe()),details:we(oe()),iconUrl:we(oe()),keybaseUsername:we(oe())});new xe("Vote111111111111111111111111111111111111111");pe([Oe("nodePubkey"),Oe("authorizedWithdrawer"),De("commission"),Gt(),vn(pe([Gt("slot"),ve("confirmationCount")]),fs(ve(),-8),"votes"),De("rootSlotValid"),Gt("rootSlot"),Gt(),vn(pe([Gt("epoch"),Oe("authorizedVoter")]),fs(ve(),-8),"authorizedVoters"),pe([vn(pe([Oe("authorizedPubkey"),Gt("epochOfLastAuthorizedSwitch"),Gt("targetEpoch")]),32,"buf"),Gt("idx"),De("isEmpty")],"priorVoters"),Gt(),vn(pe([Gt("epoch"),Gt("credits"),Gt("prevCredits")]),fs(ve(),-8),"epochCredits"),pe([Gt("slot"),Gt("timestamp")],"lastTimestamp")]);const lM=1e9,Fh=[{duration:"1 Month",solana:.3,features:["Basic support","Standard features","30 days access"],days:30},{duration:"3 Months",solana:.7,features:["Priority support","All features","90 days access","20% savings"],popular:!0,days:90},{duration:"6 Months",solana:1.2,features:["Premium support","All features","180 days access","30% savings"],days:180},{duration:"1 Year",solana:2,features:["24/7 VIP support","All features + early access","365 days access","40% savings"],days:365}],cM=({isOpen:t,onClose:e,onPay:n,contractId:r,fetchContracts:i})=>{const[s,o]=U.useState(null),[a,l]=U.useState(null),[c,u]=U.useState(null);if(U.useEffect(()=>{t&&fetch("http://localhost:3000/api/solana-payment-info").then(x=>x.json()).then(x=>u(x)).catch(()=>u(null))},[t]),!t)return null;const h=[30,70,120,200],m=Fh.map((x,j)=>({...x,solana:c?+(h[j]/c.solPrice).toFixed(3):x.solana}));let v=null;if(c!=null&&c.solReceiver)try{v=new xe(c.solReceiver)}catch{v=null}const b=async x=>{const j=window.solana;if(j&&j.isPhantom)try{const k=await j.connect(),_=k.publicKey.toString();if(!v){alert("Invalid Solana receiver address.");return}const C=new aM("https://api.devnet.solana.com"),R=new Tr().add(Qa.transfer({fromPubkey:k.publicKey,toPubkey:v,lamports:m[x].solana*lM}));R.feePayer=k.publicKey;const{blockhash:F}=await C.getLatestBlockhash();R.recentBlockhash=F;const L=await j.signTransaction(R),$=await C.sendRawTransaction(L.serialize());await C.confirmTransaction($,"confirmed"),n("phantom",_,$),await fetch("http://localhost:3000/api/companies/extend-subscription",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({contractId:r,txSignature:$,wallet:_,plan:Fh[x].duration,days:Fh[x].days})}),i&&i()}catch(k){alert("Error Phantom: "+(k==null?void 0:k.message))}else window.open("https://phantom.app/","_blank")};return d.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl overflow-hidden",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"Choose Your Plan"}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:d.jsx(Mo,{className:"w-6 h-6 text-gray-500"})})]}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[d.jsx("div",{onClick:()=>l("card"),className:Xe("border rounded-xl p-6 cursor-pointer transition-all hover:shadow-md",a==="card"?"border-blue-500 bg-blue-50":"border-gray-200"),children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(gx,{className:"w-6 h-6 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg",children:"Credit Card"}),d.jsx("p",{className:"text-gray-600",children:"Pay with Visa, Mastercard, or American Express"})]})]})}),d.jsx("div",{onClick:()=>l("crypto"),className:Xe("border rounded-xl p-6 cursor-pointer transition-all hover:shadow-md",a==="crypto"?"border-purple-500 bg-purple-50":"border-gray-200"),children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:d.jsx(QC,{className:"w-6 h-6 text-purple-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg",children:"Crypto Payment"}),d.jsx("p",{className:"text-gray-600",children:"Pay with Solana and get 10% discount"})]})]})})]}),a==="crypto"&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((x,j)=>d.jsxs("div",{onClick:()=>o(j),className:Xe("border rounded-xl p-6 cursor-pointer transition-all relative",s===j?"border-purple-500 bg-purple-50":"border-gray-200",x.popular&&"shadow-lg"),children:[x.popular&&d.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-16 py-2 rounded-full text-lg font-bold shadow-lg tracking-wide z-10",children:"Most Popular"}),d.jsxs("div",{className:"text-center mb-4",children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:x.duration}),d.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:[x.solana," SOL"]}),d.jsxs("div",{className:"text-sm text-gray-500",children:["≈ $",(x.solana*((c==null?void 0:c.solPrice)??0)).toFixed(2)]})]}),d.jsx("ul",{className:"space-y-3 mb-6",children:x.features.map((k,_)=>d.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(AC,{className:"w-4 h-4 text-green-500"}),k]},_))}),d.jsx("button",{onClick:()=>b(j),className:Xe("w-full py-2 rounded-lg font-medium transition-colors",s===j?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Select Plan"})]},x.duration))}),a==="card"&&d.jsx("div",{className:"text-center py-8",children:d.jsx("button",{onClick:()=>n("card"),className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Proceed with Card Payment"})})]})]})})};function uM(){var se,me,ge;const t=Po(),e=Du(),[n,r]=U.useState(null),{showToast:i}=Ob(),{isAuthenticated:s,isLoading:o,user:a}=L0(),[l,c]=U.useState("chat"),[u]=KE(),h=u.get("chatId"),[m,v]=U.useState(h),[b,x]=U.useState(""),[j,k]=U.useState([]),[_,C]=U.useState(!0),[R,F]=U.useState(!1),[L,$]=U.useState({}),[K,ee]=U.useState([]),[V,X]=U.useState(null),le=U.useRef(null);U.useEffect(()=>{m!==null&&le.current&&le.current.scrollIntoView({behavior:"smooth"})},[m,(se=L[m??""])==null?void 0:se.length]),U.useEffect(()=>{s&&w()},[s]),U.useEffect(()=>{l==="contracts"&&E()},[l]),U.useEffect(()=>{l==="chat"&&I()},[l]),U.useEffect(()=>{var q;h&&V&&K.length>0&&!L[h]&&(v(h),p(h),console.log("Initial chat ID from URL:",h,"Selected chat:",m,"User data:",V,"user list:",K,"chat name:",(q=K.find(D=>D.id.toString()===h))==null?void 0:q.companyName))},[h,V,K]);const M=q=>{console.log("Получено новое сообщение",q),$(D=>({...D,[String(q.chatId)]:[...D[String(q.chatId)]||[],{id:q.id,sender:q.sender_name,content:q.content,timestamp:q.timestamp,isOwn:q.sender_id===(V==null?void 0:V.id)}]})),String(m)===String(q.chatId)?ee(D=>D.map(Q=>String(Q.id)===String(q.chatId)?{...Q,lastMessage:q.content,timestamp:q.timestamp,unread:0}:Q)):(i(q.content,`Новое сообщение от ${q.sender_name}`),ee(D=>D.map(Q=>String(Q.id)===String(q.chatId)?{...Q,lastMessage:q.content,timestamp:q.timestamp,unread:Q.unread+1}:Q)))},f=(q,D)=>{q==="phantom"&&D||q==="card"&&alert("Pay Card"),r(null)},w=async()=>{try{const q=localStorage.getItem("auth_token");if(!q){console.error("Authorization token is missing");return}const D=await fetch("http://localhost:3000/api/users/me",{method:"GET",headers:{Authorization:`Bearer ${q}`}});if(!D.ok){const Y=await D.json();throw new Error(Y.message||"Failed to fetch user data")}const Q=await D.json();X(Q)}catch(q){console.error("Error fetching user data:",q)}},E=async()=>{try{const q=localStorage.getItem("auth_token");if(!q){console.error("Authorization token is missing");return}const D=await fetch("http://localhost:3000/api/companies/user",{method:"GET",headers:{Authorization:`Bearer ${q}`}});if(!D.ok){const Z=await D.json();throw new Error(Z.message||"Failed to fetch contracts")}const Y=(await D.json()).map(Z=>({...Z,created_at:A(Z.created_at)}));k(Y),C(!1)}catch(q){console.error("Error fetching contracts:",q),C(!1)}},I=async()=>{try{const q=localStorage.getItem("auth_token");if(!q){console.error("Authorization token is missing");return}const D=await fetch("http://localhost:3000/api/chats",{method:"GET",headers:{Authorization:`Bearer ${q}`}});if(!D.ok){const Z=await D.json();throw new Error(Z.message||"Failed to fetch chats")}const Y=(await D.json()).chats.map(Z=>({id:Z.chat_id,companyName:Z.participant.username,lastMessage:Z.last_message||"",timestamp:Z.last_message_time||Z.created_at,unread:Z.unread_count||0,avatar:Z.participant.picture||"https://via.placeholder.com/100"}));ee(Y)}catch(q){console.error("Error fetching chats:",q)}};if(o)return d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx(pr,{className:"w-8 h-8 animate-spin text-blue-600"})});if(!s)return d.jsx(jE,{to:"/",replace:!0});const S=q=>{switch(q){case"active":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},A=q=>new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),O=q=>{try{if(!q||typeof q!="string")return console.warn("formatTime: Invalid timestamp input",q),"";const D=q.endsWith("Z")?q:q+"Z",Q=new Date(D);if(isNaN(Q.getTime()))return console.warn("formatTime: Invalid Date from timestamp",q),"";const Y=Intl.DateTimeFormat().resolvedOptions().timeZone,Z=Qy(Q,Y),ae=Qy(new Date,Y),de=Math.floor((ae.getTime()-Z.getTime())/(1e3*60*60*24));return de===0?dh(Z,"p"):de===1?"Yesterday":de<7?dh(Z,"EEEE"):dh(Z,"MMM d")}catch(D){return console.error("formatTime error:",D,"timestamp:",q),""}},N=async()=>{if(!b.trim()||!m||!V)return;console.log("Sending message:",b,"to chat:",m,"socket:",e==null?void 0:e.id);const q=`temp-${Date.now()}`,D={chatId:m,text:b};$(Q=>({...Q,[m]:[...Q[m]||[],{id:q,sender:(V==null?void 0:V.username)||"You",content:b,timestamp:new Date().toISOString(),isOwn:!0,isTemporary:!0}]})),x("");try{const Q=localStorage.getItem("auth_token"),Y=await fetch("http://localhost:3000/api/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`,"x-socket-id":(e==null?void 0:e.id)||""},body:JSON.stringify(D)});if(!Y.ok){const ae=await Y.json();throw new Error(ae.message||"Failed to send message")}const Z=await Y.json();$(ae=>({...ae,[m]:ae[m].map(de=>de.id===q?{...de,id:Z.data.message_id.toString(),isTemporary:!1}:de)}))}catch(Q){console.error("Error sending message:",Q),$(Y=>({...Y,[m]:Y[m].filter(Z=>Z.id!==q)}))}},p=async q=>{try{const D=localStorage.getItem("auth_token");if(!D){console.error("Authorization token is missing");return}const Q=await fetch(`http://localhost:3000/api/messages/${q}`,{method:"GET",headers:{Authorization:`Bearer ${D}`}});if(!Q.ok){const ae=await Q.json();throw new Error(ae.message||"Failed to fetch messages")}const Y=await Q.json(),Z=Y.messages.map(ae=>{var de,$e;return{id:ae.message_id,sender:ae.sender_id===Y.user_id?(V==null?void 0:V.username)||"You":((de=K.find(Se=>Se.id===q))==null?void 0:de.companyName)||(($e=K.find(Se=>Se.id.toString()===h))==null?void 0:$e.companyName),content:ae.message_text,timestamp:ae.sent_at,isOwn:ae.sender_id===Y.user_id}});$(ae=>({...ae,[q]:Z})),ee(ae=>ae.map(de=>de.id===q?{...de,unread:0}:de))}catch(D){console.error("Error fetching messages:",D)}},P=q=>{console.log("Selected chat:",q),v(q),w(),p(q),t(`/account?tab=chat&chatId=${q}`,{replace:!0})},ne=()=>d.jsxs("div",{className:"h-[calc(100vh-16rem)] flex flex-col",children:[d.jsx("div",{className:"p-4 border-b",children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search conversations...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.jsx(wx,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:K.map(q=>d.jsxs("button",{onClick:()=>P(q.id),className:Xe("w-full p-4 flex items-center gap-4 hover:bg-gray-50 transition-colors border-b",m===q.id&&"bg-blue-50"),children:[d.jsx("img",{src:q.avatar,alt:q.companyName,className:"w-12 h-12 rounded-full object-cover"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex justify-between items-baseline",children:[d.jsx("h3",{className:"font-semibold truncate",children:q.companyName}),d.jsx("span",{className:"text-sm text-gray-500 flex-shrink-0",children:O(q.timestamp)})]}),d.jsx("p",{className:"text-sm text-gray-600 truncate",children:q.lastMessage})]}),q.unread>0&&d.jsx("span",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm",children:q.unread})]},`${q.id}-${q.timestamp}`))})]}),re=()=>{var Q,Y;if(!m)return null;const q=K.find(Z=>Z.id===m),D=L[m]||[];return d.jsxs("div",{className:"h-[calc(100vh-16rem)] flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b flex items-center gap-4",children:[d.jsx("button",{onClick:()=>v(null),className:"p-2 hover:bg-gray-100 rounded-full lg:hidden",children:d.jsx(NC,{className:"w-5 h-5"})}),d.jsx("img",{src:(q==null?void 0:q.avatar)||((Q=K.find(Z=>Z.id.toString()===h))==null?void 0:Q.avatar),alt:q==null?void 0:q.companyName,className:"w-10 h-10 rounded-full object-cover"}),d.jsx("div",{children:d.jsx("h3",{className:"font-semibold",children:(q==null?void 0:q.companyName)||((Y=K.find(Z=>Z.id.toString()===h))==null?void 0:Y.companyName)})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[D.map(Z=>{var ae;return d.jsxs("div",{className:Xe("flex gap-4",Z.isOwn?"flex-row-reverse":"flex-row"),children:[d.jsx("img",{src:Z.isOwn?V==null?void 0:V.picture:(q==null?void 0:q.avatar)||((ae=K.find(de=>de.id.toString()===h))==null?void 0:ae.avatar),alt:Z.sender,className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}),d.jsxs("div",{className:Xe("rounded-lg p-4 max-w-[70%]",Z.isOwn?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"),children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:Xe("font-medium",Z.isOwn?"text-blue-100":"text-gray-600"),children:Z.sender}),d.jsx("span",{className:Xe("text-sm",Z.isOwn?"text-blue-100":"text-gray-500"),children:O(Z.timestamp)})]}),d.jsx("p",{children:Z.content})]})]},`${Z.id}-${Z.timestamp}`)}),d.jsx("div",{ref:le})]}),d.jsx("div",{className:"p-4 border-t",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:b,onChange:Z=>x(Z.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:Z=>Z.key==="Enter"&&N()}),d.jsx("button",{onClick:N,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Send"})]})})]})};return d.jsxs(d.Fragment,{children:[d.jsx(Rb,{onNewMessage:M}),d.jsxs("div",{className:"container mx-auto px-4 py-12",children:[d.jsx("div",{className:"max-w-6xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[d.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-12",children:d.jsxs("div",{className:"flex items-center gap-6",children:[V!=null&&V.picture?d.jsx("img",{src:V.picture,alt:V.username,className:"w-24 h-24 rounded-full border-4 border-white shadow-lg"}):d.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 flex items-center justify-center",children:d.jsx("span",{className:"text-3xl font-bold text-white",children:(me=V==null?void 0:V.username)==null?void 0:me.charAt(0).toUpperCase()})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:(V==null?void 0:V.username)||"Anonymous"}),d.jsxs("p",{className:"text-blue-100",children:["Member since ",(ge=V==null?void 0:V.created_at)==null?void 0:ge.slice(0,10)]})]})]})}),d.jsx("div",{className:"border-b",children:d.jsxs("div",{className:"flex gap-4 px-8",children:[d.jsx("button",{onClick:()=>{c("contracts"),v(null)},className:Xe("px-4 py-4 font-medium transition-colors relative",l==="contracts"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"),children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(yx,{className:"w-5 h-5"}),"My Contracts"]})}),d.jsx("button",{onClick:()=>c("chat"),className:Xe("px-4 py-4 font-medium transition-colors relative",l==="chat"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"),children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ka,{className:"w-5 h-5"}),"Messages"]})})]})}),d.jsx("div",{className:"p-8",children:l==="contracts"?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"My Contracts"}),d.jsxs("button",{onClick:()=>F(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(_a,{className:"w-5 h-5"}),"Add Contract"]})]}),_?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx(pr,{className:"w-8 h-8 animate-spin text-blue-600"})}):j.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("p",{className:"text-gray-500 mb-4",children:"No contracts found"}),d.jsxs("button",{onClick:()=>F(!0),className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors mx-auto",children:[d.jsx(_a,{className:"w-5 h-5"}),"Add Your First Contract"]})]}):j.map(q=>{var D,Q,Y,Z,ae,de,$e,Se,Re,ir,Ke,ze;return d.jsxs("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold mb-2",children:q.company_name}),d.jsx("p",{className:"text-gray-600",children:q.services})]}),d.jsx("span",{className:Xe("px-3 py-1 rounded-full text-sm font-medium capitalize",S(q.status)),children:q.status==="payment"?d.jsx("button",{onClick:()=>r(q.id),className:"px-8 py-3 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-full text-lg shadow-lg transition-all duration-200 border-2 border-blue-600",style:{minWidth:160},children:"Pay for a Subscription"}):q.status})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[d.jsx(C0,{className:"w-4 h-4"}),d.jsxs("span",{children:["Owner: ",q.owner_name]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[d.jsx(vx,{className:"w-4 h-4"}),d.jsx("span",{children:q.selected_locations[0]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[d.jsx(Wf,{className:"w-4 h-4"}),d.jsxs("span",{children:["Submitted: ",A(q.created_at)]})]}),d.jsxs("div",{className:"text-gray-600",children:["Experience: ",q.experience," years"]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[d.jsx(Wf,{className:"w-4 h-4"}),d.jsxs("span",{children:["Subscription until:"," ",q.subscription_until?new Date(q.subscription_until).toLocaleDateString("en-En",{year:"numeric",month:"long",day:"numeric"}):"Нет подписки"]})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Description"}),d.jsx("p",{className:"text-gray-600",children:q.description})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[((D=q.selected_actions)==null?void 0:D.length)>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Actions"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:q.selected_actions.map((je,be)=>d.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-sm",children:je},be))})]}),((Q=q.selected_objects)==null?void 0:Q.length)>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Objects"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:q.selected_objects.map((je,be)=>d.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-sm",children:je},be))})]}),((Y=q.selected_locations)==null?void 0:Y.length)>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Locations"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:q.selected_locations.map((je,be)=>d.jsx("span",{className:"px-2 py-1 bg-yellow-50 text-yellow-700 rounded text-sm",children:je},be))})]}),((Z=q.selected_sizes)==null?void 0:Z.length)>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Sizes"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:q.selected_sizes.map((je,be)=>d.jsx("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 rounded text-sm",children:je},be))})]}),((ae=q.selected_times)==null?void 0:ae.length)>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Times"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:q.selected_times.map((je,be)=>d.jsx("span",{className:"px-2 py-1 bg-red-50 text-red-700 rounded text-sm",children:je},be))})]}),((de=q.selected_builds)==null?void 0:de.length)>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Builds"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:q.selected_builds.map((je,be)=>d.jsx("span",{className:"px-2 py-1 bg-teal-50 text-teal-700 rounded text-sm",children:je},be))})]}),(($e=q.selected_installs)==null?void 0:$e.length)>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Installs"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:q.selected_installs.map((je,be)=>d.jsx("span",{className:"px-2 py-1 bg-orange-50 text-orange-700 rounded text-sm",children:je},be))})]}),((Se=q.selected_replaces)==null?void 0:Se.length)>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Replaces"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:q.selected_replaces.map((je,be)=>d.jsx("span",{className:"px-2 py-1 bg-pink-50 text-pink-700 rounded text-sm",children:je},be))})]}),((Re=q.selected_removes)==null?void 0:Re.length)>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Removes"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:q.selected_removes.map((je,be)=>d.jsx("span",{className:"px-2 py-1 bg-gray-50 text-gray-700 rounded text-sm",children:je},be))})]}),((ir=q.selected_repairs)==null?void 0:ir.length)>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Repairs"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:q.selected_repairs.map((je,be)=>d.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 rounded text-sm",children:je},be))})]}),((Ke=q.selected_cleans)==null?void 0:Ke.length)>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Cleans"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:q.selected_cleans.map((je,be)=>d.jsx("span",{className:"px-2 py-1 bg-lime-50 text-lime-700 rounded text-sm",children:je},be))})]}),((ze=q.selected_assemles)==null?void 0:ze.length)>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Assembles"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:q.selected_assemles.map((je,be)=>d.jsx("span",{className:"px-2 py-1 bg-cyan-50 text-cyan-700 rounded text-sm",children:je},be))})]})]})]})]},q.id)})]}):d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 -m-8",children:[d.jsx("div",{className:Xe("lg:border-r",m?"hidden lg:block":"block"),children:ne()}),d.jsx("div",{className:Xe("lg:col-span-2",m?"block":"hidden lg:block"),children:m?re():d.jsx("div",{className:"h-[calc(100vh-16rem)] flex items-center justify-center text-gray-500",children:"Select a conversation to start messaging"})})]})})]})}),d.jsx(Hx,{isOpen:R,onClose:()=>F(!1),onSubmit:E})]}),d.jsx(cM,{isOpen:!!n,onClose:()=>r(null),onPay:f,contractId:n??void 0,fetchContracts:E})]})}var dM=Object.defineProperty,hM=(t,e,n)=>e in t?dM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Uh=(t,e,n)=>(hM(t,typeof e!="symbol"?e+"":e,n),n);let fM=class{constructor(){Uh(this,"current",this.detect()),Uh(this,"handoffState","pending"),Uh(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ps=new fM,Bi=(t,e)=>{ps.isServer?U.useEffect(t,e):U.useLayoutEffect(t,e)};function mm(t){let e=U.useRef(t);return Bi(()=>{e.current=t},[t]),e}let Cn=function(t){let e=mm(t);return it.useCallback((...n)=>e.current(...n),[e])};function pM(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Co(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return pM(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Co();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function ak(){let[t]=U.useState(Co);return U.useEffect(()=>()=>t.dispose(),[t]),t}function mM(){let t=typeof document>"u";return"useSyncExternalStore"in zh?(e=>e.useSyncExternalStore)(zh)(()=>()=>{},()=>!1,()=>!t):!1}function gM(){let t=mM(),[e,n]=U.useState(ps.isHandoffComplete);return e&&ps.isHandoffComplete===!1&&n(!1),U.useEffect(()=>{e!==!0&&n(!0)},[e]),U.useEffect(()=>ps.handoff(),[]),t?!1:e}var Av;let gm=(Av=it.useId)!=null?Av:function(){let t=gM(),[e,n]=it.useState(t?()=>ps.nextId():null);return Bi(()=>{e===null&&n(ps.nextId())},[e]),e!=null?""+e:void 0};function gl(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,gl),r}function Xu(t){return ps.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let kp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Sp=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Sp||{}),yM=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(yM||{}),vM=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(vM||{});function lk(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(kp)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ym=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(ym||{});function vm(t,e=0){var n;return t===((n=Xu(t))==null?void 0:n.body)?!1:gl(e,{0(){return t.matches(kp)},1(){let r=t;for(;r!==null;){if(r.matches(kp))return!0;r=r.parentElement}return!1}})}function ck(t){let e=Xu(t);Co().nextFrame(()=>{e&&!vm(e.activeElement,0)&&xM(t)})}var wM=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(wM||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function xM(t){t==null||t.focus({preventScroll:!0})}let bM=["textarea","input"].join(",");function _M(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,bM))!=null?n:!1}function uk(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function kM(t,e){return SM(lk(),e,{relativeTo:t})}function SM(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?uk(t):t:lk(t);i.length>0&&o.length>1&&(o=o.filter(v=>!i.includes(v))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,h=o.length,m;do{if(u>=h||u+h<=0)return 0;let v=l+u;if(e&16)v=(v+h)%h;else{if(v<0)return 3;if(v>=h)return 1}m=o[v],m==null||m.focus(c),u+=a}while(m!==s.activeElement);return e&6&&_M(m)&&m.select(),2}function EM(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function CM(){return/Android/gi.test(window.navigator.userAgent)}function NM(){return EM()||CM()}function Gl(t,e,n){let r=mm(e);U.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[t,n])}function IM(t,e,n){let r=mm(e);U.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[t,n])}function AM(t,e,n=!0){let r=U.useRef(!1);U.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let l=a(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let c=function u(h){return typeof h=="function"?u(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let u of c){if(u===null)continue;let h=u instanceof HTMLElement?u:u.current;if(h!=null&&h.contains(l)||o.composed&&o.composedPath().includes(h))return}return!vm(l,ym.Loose)&&l.tabIndex!==-1&&o.preventDefault(),e(o,l)}let s=U.useRef(null);Gl("pointerdown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),Gl("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),Gl("click",o=>{NM()||s.current&&(i(o,()=>s.current),s.current=null)},!0),Gl("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),IM("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function TM(...t){return U.useMemo(()=>Xu(...t),[...t])}function Tv(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function RM(t,e){let[n,r]=U.useState(()=>Tv(t));return Bi(()=>{r(Tv(t))},[t.type,t.as]),Bi(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let jM=Symbol();function ed(...t){let e=U.useRef(t);U.useEffect(()=>{e.current=t},[t]);let n=Cn(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[jM]))?void 0:n}function Rv(t){return[t.screenX,t.screenY]}function OM(){let t=U.useRef([-1,-1]);return{wasMoved(e){let n=Rv(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=Rv(e)}}}function PM({container:t,accept:e,walk:n,enabled:r=!0}){let i=U.useRef(e),s=U.useRef(n);U.useEffect(()=>{i.current=e,s.current=n},[e,n]),Bi(()=>{if(!t||!r)return;let o=Xu(t);if(!o)return;let a=i.current,l=s.current,c=Object.assign(h=>a(h),{acceptNode:a}),u=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)l(u.currentNode)},[t,r,i,s])}function jv(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Ep=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Ep||{}),MM=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(MM||{});function td({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??BM;let l=dk(e,t);if(s)return Yl(l,n,r,o,a);let c=i??0;if(c&2){let{static:u=!1,...h}=l;if(u)return Yl(h,n,r,o,a)}if(c&1){let{unmount:u=!0,...h}=l;return gl(u?0:1,{0(){return null},1(){return Yl({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Yl(l,n,r,o,a)}function Yl(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=Dh(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let h={};if(e){let m=!1,v=[];for(let[b,x]of Object.entries(e))typeof x=="boolean"&&(m=!0),x===!0&&v.push(b);m&&(h["data-headlessui-state"]=v.join(" "))}if(s===U.Fragment&&Object.keys(Ov(l)).length>0){if(!U.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`));let m=u.props,v=typeof(m==null?void 0:m.className)=="function"?(...x)=>jv(m==null?void 0:m.className(...x),l.className):jv(m==null?void 0:m.className,l.className),b=v?{className:v}:{};return U.cloneElement(u,Object.assign({},dk(u.props,Ov(Dh(l,["ref"]))),h,c,{ref:i(u.ref,c.ref)},b))}return U.createElement(s,Object.assign({},Dh(l,["ref"]),s!==U.Fragment&&c,s!==U.Fragment&&h),u)}function BM(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function dk(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function nd(t){var e;return Object.assign(U.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Ov(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Dh(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let wm=U.createContext(null);wm.displayName="OpenClosedContext";var Za=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Za||{});function LM(){return U.useContext(wm)}function FM({value:t,children:e}){return it.createElement(wm.Provider,{value:t},e)}function UM(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&DM(n)?!1:r}function DM(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function $M(t){throw new Error("Unexpected object: "+t)}var mr=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(mr||{});function zM(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:$M(t)}}var Jt=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Jt||{});let Pv=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Mv(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return Pv.test(o)&&(o=o.replace(Pv,"")),o}function qM(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():Mv(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Mv(t).trim()}function WM(t){let e=U.useRef(""),n=U.useRef("");return Cn(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=qM(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var HM=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(HM||{}),KM=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(KM||{}),VM=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(VM||{});function $h(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=uk(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let GM={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var n;let r=$h(t),i=zM(e,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...r,searchQuery:"",activeItemIndex:i,activationTrigger:(n=e.trigger)!=null?n:1}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=$h(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},6:(t,e)=>{let n=$h(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}}},xm=U.createContext(null);xm.displayName="MenuContext";function rd(t){let e=U.useContext(xm);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,rd),n}return e}function YM(t,e){return gl(e.type,GM,t,e)}let QM=U.Fragment;function JM(t,e){let{__demoMode:n=!1,...r}=t,i=U.useReducer(YM,{__demoMode:n,menuState:n?0:1,buttonRef:U.createRef(),itemsRef:U.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:o,buttonRef:a},l]=i,c=ed(e);AM([a,o],(v,b)=>{var x;l({type:1}),vm(b,ym.Loose)||(v.preventDefault(),(x=a.current)==null||x.focus())},s===0);let u=Cn(()=>{l({type:1})}),h=U.useMemo(()=>({open:s===0,close:u}),[s,u]),m={ref:c};return it.createElement(xm.Provider,{value:i},it.createElement(FM,{value:gl(s,{0:Za.Open,1:Za.Closed})},td({ourProps:m,theirProps:r,slot:h,defaultTag:QM,name:"Menu"})))}let ZM="button";function XM(t,e){var n;let r=gm(),{id:i=`headlessui-menu-button-${r}`,...s}=t,[o,a]=rd("Menu.Button"),l=ed(o.buttonRef,e),c=ak(),u=Cn(x=>{switch(x.key){case Jt.Space:case Jt.Enter:case Jt.ArrowDown:x.preventDefault(),x.stopPropagation(),a({type:0}),c.nextFrame(()=>a({type:2,focus:mr.First}));break;case Jt.ArrowUp:x.preventDefault(),x.stopPropagation(),a({type:0}),c.nextFrame(()=>a({type:2,focus:mr.Last}));break}}),h=Cn(x=>{switch(x.key){case Jt.Space:x.preventDefault();break}}),m=Cn(x=>{if(UM(x.currentTarget))return x.preventDefault();t.disabled||(o.menuState===0?(a({type:1}),c.nextFrame(()=>{var j;return(j=o.buttonRef.current)==null?void 0:j.focus({preventScroll:!0})})):(x.preventDefault(),a({type:0})))}),v=U.useMemo(()=>({open:o.menuState===0}),[o]),b={ref:l,id:i,type:RM(t,o.buttonRef),"aria-haspopup":"menu","aria-controls":(n=o.itemsRef.current)==null?void 0:n.id,"aria-expanded":o.menuState===0,onKeyDown:u,onKeyUp:h,onClick:m};return td({ourProps:b,theirProps:s,slot:v,defaultTag:ZM,name:"Menu.Button"})}let e6="div",t6=Ep.RenderStrategy|Ep.Static;function n6(t,e){var n,r;let i=gm(),{id:s=`headlessui-menu-items-${i}`,...o}=t,[a,l]=rd("Menu.Items"),c=ed(a.itemsRef,e),u=TM(a.itemsRef),h=ak(),m=LM(),v=m!==null?(m&Za.Open)===Za.Open:a.menuState===0;U.useEffect(()=>{let _=a.itemsRef.current;_&&a.menuState===0&&_!==(u==null?void 0:u.activeElement)&&_.focus({preventScroll:!0})},[a.menuState,a.itemsRef,u]),PM({container:a.itemsRef.current,enabled:a.menuState===0,accept(_){return _.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:_.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(_){_.setAttribute("role","none")}});let b=Cn(_=>{var C,R;switch(h.dispose(),_.key){case Jt.Space:if(a.searchQuery!=="")return _.preventDefault(),_.stopPropagation(),l({type:3,value:_.key});case Jt.Enter:if(_.preventDefault(),_.stopPropagation(),l({type:1}),a.activeItemIndex!==null){let{dataRef:F}=a.items[a.activeItemIndex];(R=(C=F.current)==null?void 0:C.domRef.current)==null||R.click()}ck(a.buttonRef.current);break;case Jt.ArrowDown:return _.preventDefault(),_.stopPropagation(),l({type:2,focus:mr.Next});case Jt.ArrowUp:return _.preventDefault(),_.stopPropagation(),l({type:2,focus:mr.Previous});case Jt.Home:case Jt.PageUp:return _.preventDefault(),_.stopPropagation(),l({type:2,focus:mr.First});case Jt.End:case Jt.PageDown:return _.preventDefault(),_.stopPropagation(),l({type:2,focus:mr.Last});case Jt.Escape:_.preventDefault(),_.stopPropagation(),l({type:1}),Co().nextFrame(()=>{var F;return(F=a.buttonRef.current)==null?void 0:F.focus({preventScroll:!0})});break;case Jt.Tab:_.preventDefault(),_.stopPropagation(),l({type:1}),Co().nextFrame(()=>{kM(a.buttonRef.current,_.shiftKey?Sp.Previous:Sp.Next)});break;default:_.key.length===1&&(l({type:3,value:_.key}),h.setTimeout(()=>l({type:4}),350));break}}),x=Cn(_=>{switch(_.key){case Jt.Space:_.preventDefault();break}}),j=U.useMemo(()=>({open:a.menuState===0}),[a]),k={"aria-activedescendant":a.activeItemIndex===null||(n=a.items[a.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=a.buttonRef.current)==null?void 0:r.id,id:s,onKeyDown:b,onKeyUp:x,role:"menu",tabIndex:0,ref:c};return td({ourProps:k,theirProps:o,slot:j,defaultTag:e6,features:t6,visible:v,name:"Menu.Items"})}let r6=U.Fragment;function i6(t,e){let n=gm(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,[o,a]=rd("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,c=U.useRef(null),u=ed(e,c);Bi(()=>{if(o.__demoMode||o.menuState!==0||!l||o.activationTrigger===0)return;let F=Co();return F.requestAnimationFrame(()=>{var L,$;($=(L=c.current)==null?void 0:L.scrollIntoView)==null||$.call(L,{block:"nearest"})}),F.dispose},[o.__demoMode,c,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let h=WM(c),m=U.useRef({disabled:i,domRef:c,get textValue(){return h()}});Bi(()=>{m.current.disabled=i},[m,i]),Bi(()=>(a({type:5,id:r,dataRef:m}),()=>a({type:6,id:r})),[m,r]);let v=Cn(()=>{a({type:1})}),b=Cn(F=>{if(i)return F.preventDefault();a({type:1}),ck(o.buttonRef.current)}),x=Cn(()=>{if(i)return a({type:2,focus:mr.Nothing});a({type:2,focus:mr.Specific,id:r})}),j=OM(),k=Cn(F=>j.update(F)),_=Cn(F=>{j.wasMoved(F)&&(i||l||a({type:2,focus:mr.Specific,id:r,trigger:0}))}),C=Cn(F=>{j.wasMoved(F)&&(i||l&&a({type:2,focus:mr.Nothing}))}),R=U.useMemo(()=>({active:l,disabled:i,close:v}),[l,i,v]);return td({ourProps:{id:r,ref:u,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:b,onFocus:x,onPointerEnter:k,onMouseEnter:k,onPointerMove:_,onMouseMove:_,onPointerLeave:C,onMouseLeave:C},theirProps:s,slot:R,defaultTag:r6,name:"Menu.Item"})}let s6=nd(JM),o6=nd(XM),a6=nd(n6),l6=nd(i6),ia=Object.assign(s6,{Button:o6,Items:a6,Item:l6});function c6(){const{user:t,logout:e}=L0(),[n,r]=U.useState(!1);return d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(Wc,{to:"/account",className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-blue-600 transition-colors",children:[d.jsx(GC,{className:"w-5 h-5"}),d.jsx("span",{children:"Personal Account"})]}),d.jsxs(ia,{as:"div",className:"relative",children:[d.jsx(ia.Button,{className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",onClick:()=>r(!n),children:t!=null&&t.picture?d.jsx("img",{src:t.picture,alt:t.name,className:"w-8 h-8 rounded-full"}):d.jsx(RC,{className:"w-8 h-8 text-gray-600"})}),d.jsxs(ia.Items,{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg py-1 z-50",children:[d.jsxs("div",{className:"px-4 py-2 border-b",children:[d.jsx("p",{className:"font-medium text-gray-900",children:t==null?void 0:t.name}),d.jsx("p",{className:"text-sm text-gray-500",children:t==null?void 0:t.email})]}),d.jsx(ia.Item,{children:({active:i})=>d.jsxs(Wc,{to:"/account",className:`${i?"bg-gray-100":""} flex items-center gap-2 w-full px-4 py-2 text-left text-gray-700`,children:[d.jsx(WC,{className:"w-4 h-4"}),"Account Settings"]})}),d.jsx(ia.Item,{children:({active:i})=>d.jsxs("button",{onClick:()=>e(),className:`${i?"bg-gray-100":""} flex items-center gap-2 w-full px-4 py-2 text-left text-gray-700`,children:[d.jsx(FC,{className:"w-4 h-4"}),"Sign Out"]})})]})]})]})}const hk=U.createContext(void 0),u6=({children:t})=>{const[e,n]=U.useState([]),[r,i]=U.useState(!1),s=U.useCallback(async o=>{try{const l=await(await fetch("http://localhost:3000/api/chats",{headers:{Authorization:`Bearer ${o}`}})).json();n(l.chats||[])}catch{n([])}},[]);return d.jsx(hk.Provider,{value:{chatList:e,setChatList:n,fetchChats:s,isChatsSubscribed:r,setIsChatsSubscribed:i},children:t})},d6=()=>{const t=U.useContext(hk);if(!t)throw new Error("useChatContext must be used within ChatProvider");return t},fk=U.createContext(void 0),pk=()=>{const t=U.useContext(fk);if(!t)throw new Error("NotificationContext not found");return t},h6=({children:t})=>{const[e,n]=U.useState([]),r=U.useCallback(async()=>{const s=localStorage.getItem("auth_token");if(!s)return;const o=await fetch("http://localhost:3000/api/notifications",{headers:{Authorization:`Bearer ${s}`}});if(o.ok){const a=await o.json();n(a)}},[]),i=U.useCallback(async()=>{const s=localStorage.getItem("auth_token");if(!s)return;(await fetch("http://localhost:3000/api/notifications/mark-as-read",{method:"PUT",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({})})).ok&&n(a=>a.map(l=>({...l,read:!0})))},[]);return d.jsx(fk.Provider,{value:{notifications:e,setNotifications:n,fetchNotifications:r,markAllAsRead:i},children:t})};function f6({count:t,notifications:e}){const[n,r]=U.useState(!1),{markAllAsRead:i}=pk(),s=t>10?"10+":t.toString(),o=async()=>{n||await i(),r(!n)},a=l=>{switch(l){case"success":return d.jsx(N0,{className:"w-5 h-5 text-green-500"});case"error":return d.jsx(Mo,{className:"w-5 h-5 text-red-500"});case"info":return d.jsx(MC,{className:"w-5 h-5 text-blue-500"});case"payment":return d.jsx(gx,{className:"w-5 h-5 text-yellow-500"})}};return d.jsxs("div",{className:"relative",children:[d.jsxs("div",{onClick:o,className:"relative p-2 hover:bg-gray-100 rounded-full transition-colors cursor-pointer",children:[d.jsx(IC,{className:"w-6 h-6 text-gray-700 hover:text-blue-600 transition-colors"}),t>0&&d.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full min-w-[18px] h-[18px] flex items-center justify-center px-1",children:s})]}),n&&d.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-100 z-50",children:[d.jsx("div",{className:"p-4 border-b border-gray-100",children:d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"})})}),d.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.length===0?d.jsx("div",{className:"p-4 text-center text-gray-500",children:"No new notifications"}):e.map(l=>d.jsx("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:d.jsxs("div",{className:"flex items-start gap-3",children:[a(l.type),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm text-gray-900",children:l.message}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l.time})]})]})},l.id))}),d.jsx("div",{className:"p-4 border-t border-gray-100",children:d.jsx("button",{className:"w-full text-center text-sm text-blue-600 hover:text-blue-700",onClick:()=>r(!1),children:"Close"})})]})]})}function p6(){const{isAuthenticated:t,isLoading:e,loginWithRedirect:n,getIdTokenClaims:r}=cb();it.useState(3);const i=Du(),{chatList:s,fetchChats:o,isChatsSubscribed:a,setIsChatsSubscribed:l}=d6(),{showToast:c}=Ob(),{notifications:u,fetchNotifications:h}=pk();U.useEffect(()=>{(async()=>{if(t&&i&&!a){const b=await r(),x=b==null?void 0:b.__raw;if(!x)return;o(x).then(()=>{l(!0)})}})()},[t,i,a,o,l,r]),U.useEffect(()=>{i&&s.length>0&&t&&s.forEach(v=>{i.emit("joinChat",v.chat_id),console.log("Подписались на чат:",v.chat_id)})},[i,s,t]);const m=v=>{console.log("Глобально получено новое сообщение:",v),c(v.content,`New message in chat ${v.sender_name}`)};return U.useEffect(()=>{t&&h()},[t,h]),e?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx(pr,{className:"w-8 h-8 animate-spin text-blue-600"})}):d.jsxs("div",{className:"min-h-screen bg-gray-50 font-inter",children:[d.jsx("nav",{className:"bg-white shadow-sm",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsxs(Wc,{to:"/",className:"flex items-center gap-2 text-blue-600 font-semibold",children:[d.jsx(C0,{className:"w-6 h-6"}),d.jsx("span",{children:"ContractorFinder"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[t&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Wc,{to:"/admin",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors",children:"Admin Panel"}),d.jsx("div",{className:"hover:bg-gray-100 p-2 rounded-full transition-colors",children:d.jsx(f6,{count:u.filter(v=>!v.read).length,notifications:u.map(v=>({...v,time:v.created_at}))})})]}),t?d.jsx(c6,{}):d.jsxs("button",{onClick:()=>n(),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(LC,{className:"w-4 h-4"}),"Sign In"]})]})]})})}),t&&d.jsx(Rb,{onNewMessage:m}),d.jsxs(PE,{children:[d.jsx(lc,{path:"/",element:d.jsx(YT,{})}),d.jsx(lc,{path:"/admin",element:d.jsx(QT,{})}),d.jsx(lc,{path:"/account",element:d.jsx(uM,{})})]})]})}const m6=new dC({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:5*60*1e3}}}),mk=document.getElementById("root");if(!mk)throw new Error("Failed to find the root element");Y1(mk).render(d.jsx(U.StrictMode,{children:d.jsx(yC,{client:m6,children:d.jsx(zE,{children:d.jsx(eT,{children:d.jsx(XC,{children:d.jsxs(SC,{children:[" ",d.jsx(GT,{children:d.jsx(u6,{children:d.jsx(Sj,{children:d.jsx(h6,{children:d.jsx(p6,{})})})})})]})})})})})}));export{No as g};
